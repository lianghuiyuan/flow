var h=(t,r,e)=>new Promise((a,m)=>{var u=s=>{try{o(e.next(s))}catch(n){m(n)}},l=s=>{try{o(e.throw(s))}catch(n){m(n)}},o=s=>s.done?a(s.value):Promise.resolve(s.value).then(u,l);o((e=e.apply(t,r)).next())});import{P as D}from"./index.89952870.js";import{f6 as v,h as B,L as C,a as L,f7 as A,v as F,bA as P,bQ as T,aF as c,o as E,i as b,z as i,m as p,B as d,t as R,l as _,E as x}from"./index.bd2622a4.js";import S from"./ActionButtons.7c5ddeb1.js";import k from"./FormContainer.d0bbf9ea.js";import w from"./BaseActionButtons.bbe374a0.js";import M from"./ProcessBackButton.04b60116.js";import{S as N}from"./index.644e7005.js";import{T as $}from"./index.c0db3e6e.js";import I from"./ProcessHeader.096082ee.js";import{h as K,q as V}from"./process.db9f2507.js";import"./index.11a0419a.js";import"./index.1c28d80e.js";import"./useSize.8a6ae0ee.js";import"./eagerComputed.e93fe3c7.js";import"./useWindowSizeFn.67ef7ff7.js";import"./useContentViewHeight.8f4c0ff9.js";import"./ArrowLeftOutlined.31e20ceb.js";import"./index.2c861a83.js";import"./transButton.6e9f0377.js";import"./index.21037d5d.js";import"./index.34f9998b.js";import"./useFlexGapSupport.4d2f8b85.js";import"./index.bf231f43.js";import"./CopyOutlined.702be02f.js";import"./index.43820172.js";import"./index.db8c998d.js";import"./index.3a557513.js";import"./get.20c5cbf9.js";import"./index.0e48b9d8.js";import"./index.08f383df.js";import"./FullscreenOutlined.0d0c0c2d.js";import"./index.bb774ff6.js";import"./index.e0ace9a9.js";import"./throttleByAnimationFrame.fc5d90b2.js";import"./Viewer.91f06516.js";import"./PlusOutlined.f9ed6f81.js";import"./ApartmentOutlined.e274e77c.js";import"./index.fb349c07.js";import"./useRefs.4ffc2415.js";import"./index.9f418e95.js";function W(t){let r,e=document.body;if(Reflect.has(t,"target")||Reflect.has(t,"props")){const o=t;r=o.props||{},e=o.target||document.body}else r=t;const a=v(r,void 0,!0);return[()=>{const o=B(e);!o||a.open(o)},()=>{a.close()},o=>{a.setTip(o)}]}const q=L({components:{ProcessHeader:I,PageWrapper:D,FormContainer:k,ActionButtons:S,BaseActionButtons:w,ProcessBackButton:M,Space:N,Tag:$,Loading:A},setup(){const t=F(),r=F({}),{createMessage:e}=x(),a=P(),{currentRoute:m}=T(),{params:{modelKey:u}}=B(m),[l,o]=W({tip:"\u63D0\u4EA4\u4E2D..."});K({modelKey:u}).then(n=>{r.value=n});function s(){return h(this,null,function*(){l();try{const n=yield B(t).getFormData(!0),g=yield V({formData:JSON.stringify(n),processDefinitionKey:u}),{data:f}=g;f.success?(e.success(f.msg),setTimeout(()=>{o(),a("/process/launched")},500)):(o(),e.error(f.msg))}catch(n){o()}})}return{modelBaseInfo:r,formContainerRef:t,doLaunch:s}}}),z={class:"pb-2"},G={class:"desc-wrap"};function H(t,r,e,a,m,u){const l=c("ProcessBackButton"),o=c("BaseActionButtons"),s=c("action-buttons"),n=c("Tag"),g=c("Space"),f=c("FormContainer"),y=c("PageWrapper");return E(),b(y,{class:"!mt-4 process-container",contentClass:"flex"},{title:i(()=>[p(l),d(" "+R(t.modelBaseInfo.name||"-")+" ",1),p(o)]),extra:i(()=>[p(s,{onDoLaunch:t.doLaunch},null,8,["onDoLaunch"])]),footer:i(()=>[_("div",z,[p(g,null,{default:i(()=>[_("span",null,[d(" \u6D41\u7A0BBP\uFF1A"),p(n,null,{default:i(()=>[d("\u5F20\u4E09")]),_:1})]),_("span",null,[d(" \u5F52\u5C5E\u90E8\u95E8\uFF1A"),p(n,null,{default:i(()=>[d("\u674E\u56DB")]),_:1})])]),_:1})])]),default:i(()=>[_("div",G,[p(f,{ref:"formContainerRef"},null,512)])]),_:1})}var wo=C(q,[["render",H]]);export{wo as default};
