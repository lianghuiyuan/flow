import{L as h,a as y,bJ as E,aM as F,v as i,b as C,e as x,h as a,J as S,aF as w,o as z,f as $,m as B,z as D,l as H,p as d,b0 as I,ar as L}from"./index.bd2622a4.js";const k=y({name:"ProcessFormIFrame",components:{Spin:E},props:{frameSrc:F.string.def(""),onLoad:{type:Function,default:()=>{}}},setup(n,{emit:c}){const s=i(!1),u=i(window.innerHeight),o=i(null),{prefixCls:l}=C("iframe-page"),t=i(null),m=x(()=>({height:`${a(u)}px`}));function f(){const e=a(o);if(!e)return;const r=e.contentWindow.document.querySelector(".making-form-container").scrollHeight;e.style.height=`${r+50}px`}function _(){t.value=setInterval(()=>{f();try{const e=document.createEvent("Event");e.initEvent("resize",!0,!0),window.dispatchEvent(e)}catch(e){console.warn("\u6B64\u6D4F\u89C8\u5668\u4E0D\u652F\u6301\u89E6\u53D1resize\u4E8B\u4EF6\uFF0C\u89E6\u53D1resize\u4E8B\u4EF6\u5931\u8D25\uFF01")}},500)}function p(){s.value=!1,f(),a(t)&&clearInterval(a(t)),_()}function g(){L(()=>{const e=a(o);if(!e)return;const r=e;r.attachEvent?r.attachEvent("onload",()=>{p()}):e.onload=()=>{c("onLoad")}})}S(()=>{s.value=!0,g()});function v(){p()}return{getWrapStyle:m,loading:s,frameRef:o,prefixCls:l,hideIframeLoading:v}}}),b=["src"];function N(n,c,s,u,o,l){const t=w("Spin");return z(),$("div",{class:d(n.prefixCls)},[B(t,{wrapperClassName:"custom-spin-container",spinning:n.loading,size:"large",style:I(n.getWrapStyle)},{default:D(()=>[H("iframe",{src:n.frameSrc,class:d(`${n.prefixCls}__main`),ref:"frameRef"},null,10,b)]),_:1},8,["spinning","style"])],2)}var W=h(k,[["render",N],["__scopeId","data-v-0959dc9f"]]);export{W as default};
