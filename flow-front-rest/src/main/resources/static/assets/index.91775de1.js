var d=(e,s,t)=>new Promise((p,i)=>{var l=o=>{try{r(t.next(o))}catch(m){i(m)}},n=o=>{try{r(t.throw(o))}catch(m){i(m)}},r=o=>o.done?p(o.value):Promise.resolve(o.value).then(l,n);r((t=t.apply(e,s)).next())});import{P as E}from"./index.89952870.js";import{d1 as C,L as k,a as D,dg as x,cM as I,v as f,bQ as S,h as w,aF as F,co as L,x as q,o as A,i as N,z as v,m as R,E as $,s as M,l as O}from"./index.bd2622a4.js";import{D as h}from"./index.43820172.js";import{C as B}from"./index.cf793aff.js";import"./index.fb349c07.js";import"./index.34f9998b.js";import{D as u}from"./index.21037d5d.js";import{B as T,v as V}from"./useForm.b09515ad.js";import H from"./ProcessHeader.096082ee.js";import"./index.11a0419a.js";import"./index.1c28d80e.js";import"./useSize.8a6ae0ee.js";import"./eagerComputed.e93fe3c7.js";import"./useWindowSizeFn.67ef7ff7.js";import"./useContentViewHeight.8f4c0ff9.js";import"./ArrowLeftOutlined.31e20ceb.js";import"./index.2c861a83.js";import"./transButton.6e9f0377.js";import"./index.c4d4ea51.js";import"./index.0e48b9d8.js";import"./useRefs.4ffc2415.js";import"./PlusOutlined.f9ed6f81.js";import"./useFlexGapSupport.4d2f8b85.js";import"./index.aa874616.js";import"./_baseIteratee.a0786c1b.js";import"./get.20c5cbf9.js";import"./index.ed2abe14.js";import"./index.c0db3e6e.js";import"./index.011eee67.js";import"./index.a1f6a0e2.js";import"./index.a002d195.js";import"./index.644e7005.js";import"./index.08f383df.js";import"./FullscreenOutlined.0d0c0c2d.js";import"./download.d61a3495.js";import"./index.c7a7383a.js";import"./ClockCircleOutlined.3d5ad35f.js";import"./uniqBy.41fe84d3.js";import"./index.9f418e95.js";import"./process.db9f2507.js";const U=[{field:"applyerCode",component:"Input",label:"\u7533\u8BF7\u4EBA",colProps:{span:8},show:!1},{field:"type",component:"Select",label:"\u7C7B\u578B",required:!0,colProps:{style:"width: 300px",span:20},componentProps:{options:[{label:"\u8C03\u4F11",value:"1",key:"1"},{label:"\u4E8B\u5047",value:"2",key:"2"},{label:"\u5E74\u5047",value:"3",key:"3"}]}},{field:"startTime",component:"DatePicker",label:"\u5F00\u59CB\u65F6\u95F4",required:!0,colProps:{span:6}},{field:"endTime",component:"DatePicker",label:"\u7ED3\u675F\u65F6\u95F4",required:!0,colProps:{span:6}},{field:"days",component:"InputNumber",label:"\u8BF7\u5047\u5929\u6570",required:!0,colProps:{span:24}},{field:"note",component:"InputTextArea",label:"\u8BF4\u660E",required:!0,colProps:{span:13}}];function W(e){return C.get({url:"/front/hr/attendance/getLeaveById/"+e,params:{}})}function z(e){return C.post({url:"/front/hr/attendance/addLeave",params:e})}const G=D({components:{ProcessHeader:H,PageWrapper:E,[h.name]:h,[B.name]:B,AEmpty:x,[u.name]:u,[u.Item.name]:u.Item,BasicForm:T,CollapseContainer:I},setup(){const e=f(null),s=f(!1),{createMessage:t}=$(),{currentRoute:p}=S(),{path:i,params:{modelKey:l}}=w(p),[n,{setProps:r,resetFields:o,updateSchema:m,setFieldsValue:g,validate:y}]=V({labelWidth:100,schemas:U,showActionButtonGroup:!1,actionColOptions:{span:24}});function b(a){a&&W(a).then(c=>{g(c)}),i.indexOf("/process/launch")===-1&&r({disabled:!0})}function _(){return d(this,null,function*(){const a=yield y(),c=M(),{getUserInfo:P}=c;a.applyerCode=P.code;try{s.value=!0,yield z(a)}finally{s.value=!1}})}return{registerForm:n,handleSubmit:a=>{t.success("click search,values:"+JSON.stringify(a))},check:e,doSubmit:_,initProcessForm:b}}}),J=O("div",{class:"font-bold"},"\u57FA\u672C\u4FE1\u606F",-1);function Q(e,s,t,p,i,l){const n=F("BasicForm"),r=F("CollapseContainer"),o=L("loading");return q((A(),N(r,{canExpan:!1},{title:v(()=>[J]),default:v(()=>[R(n,{onRegister:e.registerForm},null,8,["onRegister"])]),_:1})),[[o,e.formLoading]])}var Re=k(G,[["render",Q]]);export{Re as default};
