var p=(s,m,o)=>new Promise((l,a)=>{var r=e=>{try{t(o.next(e))}catch(i){a(i)}},n=e=>{try{t(o.throw(e))}catch(i){a(i)}},t=e=>e.done?l(e.value):Promise.resolve(e.value).then(r,n);t((o=o.apply(s,m)).next())});import{B,a as _}from"./index.033bc9aa.js";import{L as v,a as b,v as c,bQ as h,h as d,ar as w,e as k,aF as $,o as y,i as C,z as F,l as R,aG as V}from"./index.f3fe0f3f.js";import{V as E}from"./Viewer.ca2e1abd.js";import{o as L}from"./process.023768c5.js";import"./useWindowSizeFn.8e1e2f4b.js";import"./FullscreenOutlined.a1ca65d7.js";const T=b({name:"FlowDiagramModal",components:{BasicModal:B},emits:["success","register"],setup(s,{emit:m}){const o=c(!0),{currentRoute:l}=h(),{params:{modelKey:a}}=d(l),r=c(),n=c(),t=c(),[e,{setModalProps:i,closeModal:K}]=_(u=>p(this,null,function*(){i({confirmLoading:!1}),o.value=!!(u!=null&&u.isUpdate);debugger;a&&w(()=>{L({modelKey:a}).then(g=>{t.value=new E({container:r.value}),t.value.importXML(g.modelXml,function(M){debugger;console.error(M)});debugger})})})),f=k(()=>d(o)?"\u4FEE\u6539":"\u65B0\u589E");return{container:n,bpmnCanvas:r,registerModal:e,getTitle:f}}}),X={class:"containers",ref:"container"};function D(s,m,o,l,a,r){const n=$("BasicModal");return y(),C(n,V(s.$attrs,{onRegister:s.registerModal,title:s.getTitle,onOk:s.handleSubmit}),{default:F(()=>[R("div",X,null,512)]),_:1},16,["onRegister","title","onOk"])}var N=v(T,[["render",D]]);export{N as default};
