import{L as C,a as I,C as M,v as l,bA as y,bQ as D,h as b,aF as n,o as h,i as k,z as r,l as x,m as u,B as v,I as S,E as w}from"./index.d7db7941.js";import{S as L}from"./index.04fcf6e8.js";import{A as R}from"./index.0b3f7891.js";import{b as T}from"./index.0922b999.js";import{l as $,s as E}from"./process.8e8f8725.js";import{A as N}from"./ApartmentOutlined.13c67030.js";import"./useFlexGapSupport.0c54ffc5.js";import"./throttleByAnimationFrame.7d53cf74.js";import"./useWindowSizeFn.fa340538.js";import"./FullscreenOutlined.7a29164d.js";const{TextArea:V}=S,z=I({name:"BaseActionButtons",components:{Button:M,ApartmentOutlined:N,Space:L,Affix:R,TextArea:V},setup(o,{emit:p}){const[i,{openModal:_,setModalProps:A}]=T(),d=l(0),{createMessage:s}=w(),t=l(""),e=l(!1),a=y(),{currentRoute:c}=D(),{query:{taskId:m,procInstId:f}}=b(c);function g(){e.value=!0,$({taskId:m,processInstanceId:f,message:t.value}).then(F=>{s.success("\u5BA1\u6279\u6210\u529F\uFF01"),a("/process/todo")}).catch(()=>{}).finally(()=>{e.value=!1})}function B(){e.value=!0,E({taskId:m,processInstanceId:f,message:t.value}).then(F=>{s.success("\u64CD\u4F5C\u6210\u529F\uFF01"),a("/process/todo")}).catch(()=>{}).finally(()=>{e.value=!1})}return{bottom:d,approveMsg:t,registerFlowDiagramModal:i,approveBtnLoading:e,doApprove:g,doStop:B}}}),P={class:"approve-options"};function q(o,p,i,_,A,d){const s=n("TextArea"),t=n("Button"),e=n("Space"),a=n("Affix");return h(),k(a,{"offset-bottom":o.bottom},{default:r(()=>[x("div",P,[u(s,{value:o.approveMsg,"onUpdate:value":p[0]||(p[0]=c=>o.approveMsg=c),placeholder:"\u8BF7\u8F93\u5165\u5BA1\u6279\u610F\u89C1\uFF01","auto-size":{minRows:2,maxRows:3}},null,8,["value"]),u(e,{class:"mt-2"},{default:r(()=>[u(t,{title:"\u5BA1\u6279",type:"primary",onClick:o.doApprove,loading:o.approveBtnLoading},{default:r(()=>[v(" \u540C\u610F ")]),_:1},8,["onClick","loading"]),u(t,{title:"\u62D2\u7EDD",type:"danger",onClick:o.doStop,loading:o.approveBtnLoading},{default:r(()=>[v(" \u62D2\u7EDD ")]),_:1},8,["onClick","loading"])]),_:1})])]),_:1},8,["offset-bottom"])}var Y=C(z,[["render",q]]);export{Y as default};
