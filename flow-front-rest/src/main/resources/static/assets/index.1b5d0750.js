var me=Object.defineProperty,be=Object.defineProperties;var $e=Object.getOwnPropertyDescriptors;var ee=Object.getOwnPropertySymbols;var He=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable;var te=(e,t,r)=>t in e?me(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,D=(e,t)=>{for(var r in t||(t={}))He.call(t,r)&&te(e,r,t[r]);if(ee)for(var r of ee(t))_e.call(t,r)&&te(e,r,t[r]);return e},ae=(e,t)=>be(e,$e(t));var ne=(e,t,r)=>new Promise((h,n)=>{var $=v=>{try{g(r.next(v))}catch(H){n(H)}},d=v=>{try{g(r.throw(v))}catch(H){n(H)}},g=v=>v.done?h(v.value):Promise.resolve(v.value).then($,d);g((r=r.apply(e,t)).next())});import{m as p,r as ye,aA as Ce,a as Z,V as Fe,v as I,cF as Pe,e as F,$ as ke,R as we,S as K,bk as Be,T,ao as Re,cG as Te,cH as Se,b as ce,bs as Ie,L as ue,o as j,f as U,l as X,aJ as S,p as z,b0 as de,J as Ae,ar as L,cI as Oe,K as fe,h as w,cD as Ee,cJ as xe,H as Ne,a$ as je,aM as y,ab as ze,au as re,aF as oe,i as ie,aH as De,aI as We,z as W,aK as Le,aL as Me,F as Ve,B as Je,t as Ge,aG as Ke,j as le,N as ge}from"./index.f3fe0f3f.js";import{B as Ue}from"./index.e70aa727.js";import{A as Xe}from"./index.f1d0cead.js";import{u as Ze}from"./useWindowSizeFn.8e1e2f4b.js";import{a as qe}from"./useContentViewHeight.d39ef36d.js";import{A as Qe}from"./ArrowLeftOutlined.677a463d.js";import"./index.3b80093e.js";import{T as Ye}from"./transButton.b11946f6.js";var et={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"},tt=et;function se(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},h=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(h=h.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),h.forEach(function(n){at(e,n,r[n])})}return e}function at(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var q=function(t,r){var h=se({},t,r.attrs);return p(ye,se({},h,{icon:tt}),null)};q.displayName="ArrowRightOutlined";q.inheritAttrs=!1;var nt=q,rt=function(){return{backIcon:T.any,prefixCls:String,title:T.any,subTitle:T.any,breadcrumb:T.object,tags:T.any,footer:T.any,extra:T.any,avatar:T.object,ghost:{type:Boolean,default:void 0},onBack:Function}},ot=Z({compatConfig:{MODE:3},name:"APageHeader",props:rt(),slots:["backIcon","avatar","breadcrumb","title","subTitle","tags","extra","footer"],setup:function(t,r){var h=r.emit,n=r.slots,$=Fe("page-header",t),d=$.prefixCls,g=$.direction,v=$.pageHeader,H=I(!1),E=Pe(),P=function(a){var o=a.width;E.value||(H.value=o<768)},B=F(function(){var l,a,o;return(l=(a=t.ghost)!==null&&a!==void 0?a:(o=v.value)===null||o===void 0?void 0:o.ghost)!==null&&l!==void 0?l:!0}),R=function(){var a,o,u;return(a=(o=t.backIcon)!==null&&o!==void 0?o:(u=n.backIcon)===null||u===void 0?void 0:u.call(n))!==null&&a!==void 0?a:g.value==="rtl"?p(nt,null,null):p(Qe,null,null)},f=function(a){return!a||!t.onBack?null:p(Se,{componentName:"PageHeader",children:function(u){var i=u.back;return p("div",{class:"".concat(d.value,"-back")},[p(Ye,{onClick:function(c){h("back",c)},class:"".concat(d.value,"-back-button"),"aria-label":i},{default:function(){return[a]}})])}},null)},k=function(){var a;return t.breadcrumb?p(Ue,t.breadcrumb,null):(a=n.breadcrumb)===null||a===void 0?void 0:a.call(n)},_=function(){var a,o,u,i,s,c,C,A,M,V=t.avatar,x=(a=t.title)!==null&&a!==void 0?a:(o=n.title)===null||o===void 0?void 0:o.call(n),N=(u=t.subTitle)!==null&&u!==void 0?u:(i=n.subTitle)===null||i===void 0?void 0:i.call(n),J=(s=t.tags)!==null&&s!==void 0?s:(c=n.tags)===null||c===void 0?void 0:c.call(n),G=(C=t.extra)!==null&&C!==void 0?C:(A=n.extra)===null||A===void 0?void 0:A.call(n),O="".concat(d.value,"-heading"),Q=x||N||J||G;if(!Q)return null;var pe=R(),Y=f(pe),he=Y||V||Q;return p("div",{class:O},[he&&p("div",{class:"".concat(O,"-left")},[Y,V?p(Xe,V,null):(M=n.avatar)===null||M===void 0?void 0:M.call(n),x&&p("span",{class:"".concat(O,"-title"),title:typeof x=="string"?x:void 0},[x]),N&&p("span",{class:"".concat(O,"-sub-title"),title:typeof N=="string"?N:void 0},[N]),J&&p("span",{class:"".concat(O,"-tags")},[J])]),G&&p("span",{class:"".concat(O,"-extra")},[G])])},m=function(){var a,o,u=(a=t.footer)!==null&&a!==void 0?a:Re((o=n.footer)===null||o===void 0?void 0:o.call(n));return Te(u)?null:p("div",{class:"".concat(d.value,"-footer")},[u])},b=function(a){return p("div",{class:"".concat(d.value,"-content")},[a])};return function(){var l,a,o,u=((l=t.breadcrumb)===null||l===void 0?void 0:l.routes)||n.breadcrumb,i=t.footer||n.footer,s=ke((a=n.default)===null||a===void 0?void 0:a.call(n)),c=we(d.value,(o={"has-breadcrumb":u,"has-footer":i},K(o,"".concat(d.value,"-ghost"),B.value),K(o,"".concat(d.value,"-rtl"),g.value==="rtl"),K(o,"".concat(d.value,"-compact"),H.value),o));return p(Be,{onResize:P},{default:function(){return[p("div",{class:c},[k(),_(),s.length?b(s):null,m()])]}})}}}),it=Ce(ot);const lt=Z({name:"PageFooter",inheritAttrs:!1,setup(){const{prefixCls:e}=ce("page-footer"),{getCalcContentWidth:t}=Ie();return{prefixCls:e,getCalcContentWidth:t}}});function st(e,t,r,h,n,$){return j(),U("div",{class:z(e.prefixCls),style:de({width:e.getCalcContentWidth})},[X("div",{class:z(`${e.prefixCls}__left`)},[S(e.$slots,"left",{},void 0,!0)],2),S(e.$slots,"default",{},void 0,!0),X("div",{class:z(`${e.prefixCls}__right`)},[S(e.$slots,"right",{},void 0,!0)],2)],6)}var ve=ue(lt,[["render",st],["__scopeId","data-v-7984b8f2"]]);function ct(e){let t;Ae(()=>{e(),L(()=>{t=!0})}),Oe(()=>{t&&e()})}function ut(e,t,r,h,n=0,$=I(0)){const d=I(null),{footerHeightRef:g}=qe();let v={useLayoutFooter:!0};const H=f=>{v=f};function E(){L(()=>{R()})}function P(f,k="all"){var l,a,o,u;function _(i){return Number(i.replace(/[^\d]/g,""))}let m=0;const b="0px";if(f){const i=getComputedStyle(f),s=_((l=i==null?void 0:i.marginTop)!=null?l:b),c=_((a=i==null?void 0:i.marginBottom)!=null?a:b),C=_((o=i==null?void 0:i.paddingTop)!=null?o:b),A=_((u=i==null?void 0:i.paddingBottom)!=null?u:b);k==="all"?(m+=s,m+=c,m+=C,m+=A):k==="top"?(m+=s,m+=C):(m+=c,m+=A)}return m}function B(f){return f==null?null:f instanceof HTMLDivElement?f:f.$el}function R(){return ne(this,null,function*(){var u;if(!e.value)return;yield L();const f=B(w(t));if(!f)return;const{bottomIncludeBody:k}=Ee(f);let _=0;r.forEach(i=>{var s,c;_+=(c=(s=B(w(i)))==null?void 0:s.offsetHeight)!=null?c:0});let m=(u=P(f))!=null?u:0;h.forEach(i=>{m+=P(B(w(i)))});let b=0;function l(i,s){if(i&&s){const c=i.parentElement;c&&(Ne(s)?c.classList.contains(s)?b+=P(c,"bottom"):(b+=P(c,"bottom"),l(c,s)):je(s)&&s>0&&(b+=P(c,"bottom"),l(c,--s)))}}xe(n)?l(f,w(n)):l(f,n);let a=k-w(g)-w($)-_-m-b;const o=()=>{var i;(i=v.elements)==null||i.forEach(s=>{var c,C;a+=(C=(c=B(w(s)))==null?void 0:c.offsetHeight)!=null?C:0})};v.useLayoutFooter&&w(g)>0,o(),d.value=a})}return ct(()=>{L(()=>{R()})}),Ze(()=>{R()},50,{immediate:!0}),fe(()=>[g.value],()=>{R()},{flush:"post",immediate:!0}),{redoHeight:E,setCompensation:H,contentHeight:d}}const dt=Z({name:"PageWrapper",components:{PageFooter:ve,PageHeader:it},inheritAttrs:!1,props:{title:y.string,dense:y.bool,ghost:y.bool,content:y.string,contentStyle:{type:Object},contentBackground:y.bool,contentFullHeight:y.bool,contentClass:y.string,fixedHeight:y.bool,upwardSpace:y.oneOfType([y.number,y.string]).def(0)},setup(e,{slots:t,attrs:r}){const h=I(null),n=I(null),$=I(null),d=I(null),{prefixCls:g}=ce("page-wrapper");ze(vt,F(()=>e.fixedHeight));const v=F(()=>e.contentFullHeight),H=F(()=>e.upwardSpace),{redoHeight:E,setCompensation:P,contentHeight:B}=ut(v,h,[n,d],[$],H);P({useLayoutFooter:!0,elements:[d]});const R=F(()=>{var l;return[g,{[`${g}--dense`]:e.dense},(l=r.class)!=null?l:{}]}),f=F(()=>e.content||(t==null?void 0:t.headerContent)||e.title||_.value.length),k=F(()=>(t==null?void 0:t.leftFooter)||(t==null?void 0:t.rightFooter)),_=F(()=>Object.keys(re(t,"default","leftFooter","rightFooter","headerContent"))),m=F(()=>{const{contentFullHeight:l,contentStyle:a,fixedHeight:o}=e;if(!l)return D({},a);const u=`${w(B)}px`;return D(ae(D({},a),{minHeight:u}),o?{height:u}:{})}),b=F(()=>{const{contentBackground:l,contentClass:a}=e;return[`${g}-content`,a,{[`${g}-content-bg`]:l}]});return fe(()=>[k.value],()=>{E()},{flush:"post",immediate:!0}),{getContentStyle:m,wrapperRef:h,headerRef:n,contentRef:$,footerRef:d,getClass:R,getHeaderSlots:_,prefixCls:g,getShowHeader:f,getShowFooter:k,omit:re,getContentClass:b}}});function ft(e,t,r,h,n,$){const d=oe("PageHeader"),g=oe("PageFooter");return j(),U("div",{class:z(e.getClass),ref:"wrapperRef"},[e.getShowHeader?(j(),ie(d,Ke({key:0,ghost:e.ghost,title:e.title},e.omit(e.$attrs,"class"),{ref:"headerRef"}),De({default:W(()=>[e.content?(j(),U(Ve,{key:0},[Je(Ge(e.content),1)],64)):S(e.$slots,"headerContent",{key:1})]),_:2},[We(e.getHeaderSlots,v=>({name:v,fn:W(H=>[S(e.$slots,v,Le(Me(H||{})))])}))]),1040,["ghost","title"])):le("",!0),X("div",{class:z(["overflow-hidden",e.getContentClass]),style:de(e.getContentStyle),ref:"contentRef"},[S(e.$slots,"default")],6),e.getShowFooter?(j(),ie(g,{key:1,ref:"footerRef"},{left:W(()=>[S(e.$slots,"leftFooter")]),right:W(()=>[S(e.$slots,"rightFooter")]),_:3},512)):le("",!0)],2)}var gt=ue(dt,[["render",ft]]);ge(ve);const Ft=ge(gt),vt="PageWrapperFixedHeight";export{Ft as P,vt as a,ct as o};
