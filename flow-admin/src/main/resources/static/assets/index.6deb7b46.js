var NC=Object.defineProperty,DC=Object.defineProperties;var jC=Object.getOwnPropertyDescriptors;var Om=Object.getOwnPropertySymbols;var CC=Object.prototype.hasOwnProperty,RC=Object.prototype.propertyIsEnumerable;var Em=(g,v,u)=>v in g?NC(g,v,{enumerable:!0,configurable:!0,writable:!0,value:u}):g[v]=u,ed=(g,v)=>{for(var u in v||(v={}))CC.call(v,u)&&Em(g,u,v[u]);if(Om)for(var u of Om(v))RC.call(v,u)&&Em(g,u,v[u]);return g},Sm=(g,v)=>DC(g,jC(v));var Fs=(g,v,u)=>new Promise((c,i)=>{var s=b=>{try{y(u.next(b))}catch(x){i(x)}},l=b=>{try{y(u.throw(b))}catch(x){i(x)}},y=b=>b.done?c(b.value):Promise.resolve(b.value).then(s,l);y((u=u.apply(g,v)).next())});import{a6 as IC,L as BC,a as Vm,b9 as LC,bn as _C,w as Gs,M as zC,j as dr,an as td,c1 as FC,az as sd,aB as Yn,o as Xn,i as Ci,F as xm,aE as GC,p as Li,B as Xs,C as HC,t as UC,r as Hs,l as rd,aC as kC,k as ld,fb as XC,c as $C,u as YC,h as WC,a9 as Pm,O as KC,n as VC,aI as ZC}from"./index.741c5d36.js";import{D as JC}from"./index.d23d5e7f.js";import{I as Zm}from"./index.esm.0355b274.js";import{B as QC,b as qC}from"./index.ef1baeca.js";import{J as eR}from"./index.f88dd072.js";import{P as tR}from"./index.ffcec715.js";import"./useWindowSizeFn.54947215.js";import"./FullscreenOutlined.d8f1076a.js";import"./index.6c70cdbc.js";import"./index.f51813a8.js";import"./useSize.aa4022ca.js";import"./eagerComputed.1e0895dc.js";import"./useContentViewHeight.1814e20c.js";import"./ArrowLeftOutlined.20c8fc9b.js";import"./index.0934399d.js";import"./transButton.76f8f88c.js";const Jm=Symbol("flow-chart");function rR(g){IC(Jm,g)}function nR(){return BC(Jm)}var Qt=(g=>(g.ZOOM_IN="zoomIn",g.ZOOM_OUT="zoomOut",g.RESET_ZOOM="resetZoom",g.UNDO="undo",g.REDO="redo",g.SNAPSHOT="snapshot",g.VIEW_DATA="viewData",g))(Qt||{});const oR=Vm({name:"FlowChartToolbar",components:{Icon:LC,Divider:JC,Tooltip:_C},props:{prefixCls:String},emits:["view-data"],setup(g,{emit:v}){const u=Gs([{type:Qt.ZOOM_IN,icon:"codicon:zoom-out",tooltip:"\u7F29\u5C0F"},{type:Qt.ZOOM_OUT,icon:"codicon:zoom-in",tooltip:"\u653E\u5927"},{type:Qt.RESET_ZOOM,icon:"codicon:screen-normal",tooltip:"\u91CD\u7F6E\u6BD4\u4F8B"},{separate:!0},{type:Qt.UNDO,icon:"ion:arrow-undo-outline",tooltip:"\u540E\u9000",disabled:!0},{type:Qt.REDO,icon:"ion:arrow-redo-outline",tooltip:"\u524D\u8FDB",disabled:!0},{separate:!0},{type:Qt.SNAPSHOT,icon:"ion:download-outline",tooltip:"\u4E0B\u8F7D"},{type:Qt.VIEW_DATA,icon:"carbon:document-view",tooltip:"\u67E5\u770B\u6570\u636E"}]),{logicFlow:c}=nR();function i({data:{undoAble:l,redoAble:y}}){const b=dr(u),x=b.findIndex(P=>P.type===Qt.UNDO),S=b.findIndex(P=>P.type===Qt.REDO);x!==-1&&(dr(u)[x].disabled=!l),S!==-1&&(dr(u)[S].disabled=!y)}const s=l=>{const y=dr(c);if(!!y)switch(l.type){case Qt.ZOOM_IN:y.zoom();break;case Qt.ZOOM_OUT:y.zoom(!0);break;case Qt.RESET_ZOOM:y.resetZoom();break;case Qt.UNDO:y.undo();break;case Qt.REDO:y.redo();break;case Qt.SNAPSHOT:y.getSnapshot();break;case Qt.VIEW_DATA:v("view-data");break}};return zC(()=>Fs(this,null,function*(){var l;dr(c)&&(yield td(),(l=dr(c))==null||l.on("history:change",i))})),FC(()=>{var l;(l=dr(c))==null||l.off("history:change",i)}),{toolbarItemList:u,onControl:s}}}),iR=["onClick"];function aR(g,v,u,c,i,s){const l=Yn("Icon"),y=Yn("Tooltip"),b=Yn("Divider");return Xn(),Ci("div",{class:Hs([`${g.prefixCls}-toolbar`,"flex items-center px-2 py-1"])},[(Xn(!0),Ci(xm,null,GC(g.toolbarItemList,x=>(Xn(),Ci(xm,{key:x.type},[Li(y,kC({placement:"bottom"},x.disabled?{visible:!1}:{}),{title:Xs(()=>[HC(UC(x.tooltip),1)]),default:Xs(()=>[x.icon?(Xn(),Ci("span",{key:0,class:Hs(`${g.prefixCls}-toolbar__icon`),onClick:S=>g.onControl(x)},[Li(l,{icon:x.icon,class:Hs(x.disabled?"cursor-not-allowed disabeld":"cursor-pointer")},null,8,["icon","class"])],10,iR)):rd("",!0)]),_:2},1040),x.separate?(Xn(),ld(b,{key:0,type:"vertical"})):rd("",!0)],64))),128))],2)}var uR=sd(oR,[["render",aR]]),Ke={exports:{}};(function(g,v){(function(c,i){g.exports=i()})(window,function(){return function(u){var c={};function i(s){if(c[s])return c[s].exports;var l=c[s]={i:s,l:!1,exports:{}};return u[s].call(l.exports,l,l.exports,i),l.l=!0,l.exports}return i.m=u,i.c=c,i.d=function(s,l,y){i.o(s,l)||Object.defineProperty(s,l,{enumerable:!0,get:y})},i.r=function(s){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,l){if(l&1&&(s=i(s)),l&8||l&4&&typeof s=="object"&&s&&s.__esModule)return s;var y=Object.create(null);if(i.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:s}),l&2&&typeof s!="string")for(var b in s)i.d(y,b,function(x){return s[x]}.bind(null,b));return y},i.n=function(s){var l=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(l,"a",l),l},i.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)},i.p="",i(i.s=215)}([function(u,c,i){(function(s,l){i.d(c,"a",function(){return R}),i.d(c,"b",function(){return ri}),i.d(c,"c",function(){return sn}),i.d(c,"d",function(){return pr}),i.d(c,"e",function(){return $e}),i.d(c,"f",function(){return De}),i.d(c,"g",function(){return Fi}),i.d(c,"h",function(){return eo}),i.d(c,"i",function(){return at}),i.d(c,"j",function(){return wr}),i.d(c,"k",function(){return Yr}),i.d(c,"l",function(){return Lr}),i.d(c,"m",function(){return Mr}),i.d(c,"n",function(){return hl}),i.d(c,"o",function(){return ce}),i.d(c,"p",function(){return Ol}),i.d(c,"q",function(){return ti}),i.d(c,"r",function(){return yl}),i.d(c,"s",function(){return Cr}),i.d(c,"t",function(){return Ji}),i.d(c,"u",function(){return fl}),i.d(c,"v",function(){return gl}),i.d(c,"w",function(){return ml}),i.d(c,"x",function(){return Tn}),i.d(c,"y",function(){return zr}),i.d(c,"z",function(){return $t}),i.d(c,"A",function(){return Er}),i.d(c,"B",function(){return Mn}),i.d(c,"C",function(){return mt}),i.d(c,"D",function(){return El}),i.d(c,"E",function(){return ei}),i.d(c,"F",function(){return dl}),i.d(c,"G",function(){return ll}),i.d(c,"H",function(){return Yi}),i.d(c,"I",function(){return Pl}),i.d(c,"J",function(){return Nr}),i.d(c,"K",function(){return re}),i.d(c,"L",function(){return bl}),i.d(c,"M",function(){return Nn});var y="An invariant failed, however the error is obfuscated because this is a production build.",b=[];Object.freeze(b);var x={};Object.freeze(x);function S(){return++He.mobxGuid}function P(d){throw M(!1,d),"X"}function M(d,h){if(!d)throw new Error("[mobx] "+(h||y))}function A(d){var h=!1;return function(){if(!h)return h=!0,d.apply(this,arguments)}}var j=function(){};function C(d){var h=[];return d.forEach(function(E){h.indexOf(E)===-1&&h.push(E)}),h}function I(d){return d!==null&&typeof d=="object"}function z(d){if(d===null||typeof d!="object")return!1;var h=Object.getPrototypeOf(d);return h===Object.prototype||h===null}function X(d){if(Q(d)||$t(d))return d;if(Array.isArray(d))return new Map(d);if(z(d)){var h=new Map;for(var E in d)h.set(E,d[E]);return h}else return P("Cannot convert to map from '"+d+"'")}function Y(d,h,E){Object.defineProperty(d,h,{enumerable:!1,writable:!0,configurable:!0,value:E})}function le(d,h,E){Object.defineProperty(d,h,{enumerable:!1,writable:!1,configurable:!0,value:E})}function se(d,h){var E=Object.getOwnPropertyDescriptor(d,h);return!E||E.configurable!==!1&&E.writable!==!1}function te(d,h){var E="isMobX"+d;return h.prototype[E]=!0,function(D){return I(D)&&D[E]===!0}}function Q(d){return d instanceof Map}function ee(d){return d instanceof Set}function _(d){var h=new Set;for(var E in d)h.add(E);return Object.getOwnPropertySymbols(d).forEach(function(D){Object.getOwnPropertyDescriptor(d,D).enumerable&&h.add(D)}),Array.from(h)}function U(d){return d&&d.toString?d.toString():new String(d).toString()}function B(d){return d===null?null:typeof d=="object"?""+d:d}var w=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:Object.getOwnPropertyNames,R=Symbol("mobx administration"),W=function(){function d(h){h===void 0&&(h="Atom@"+S()),this.name=h,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=tt.NOT_TRACKING}return d.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(h){return h()})},d.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(h){return h()})},d.prototype.reportObserved=function(){return ki(this)},d.prototype.reportChanged=function(){At(),tl(this),br()},d.prototype.toString=function(){return this.name},d}(),Z=te("Atom",W);function ce(d,h,E){h===void 0&&(h=j),E===void 0&&(E=j);var D=new W(d);return h!==j&&pl(D,h),E!==j&&ei(D,E),D}function Pe(d,h){return d===h}function me(d,h){return Oo(d,h)}function be(d,h){return Oo(d,h,1)}function Se(d,h){return Object.is(d,h)}var Oe={identity:Pe,structural:me,default:Se,shallow:be};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var we=function(d,h){return we=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,D){E.__proto__=D}||function(E,D){for(var F in D)D.hasOwnProperty(F)&&(E[F]=D[F])},we(d,h)};function Fe(d,h){we(d,h);function E(){this.constructor=d}d.prototype=h===null?Object.create(h):(E.prototype=h.prototype,new E)}var Ve=function(){return Ve=Object.assign||function(h){for(var E,D=1,F=arguments.length;D<F;D++){E=arguments[D];for(var V in E)Object.prototype.hasOwnProperty.call(E,V)&&(h[V]=E[V])}return h},Ve.apply(this,arguments)};function Le(d){var h=typeof Symbol=="function"&&d[Symbol.iterator],E=0;return h?h.call(d):{next:function(){return d&&E>=d.length&&(d=void 0),{value:d&&d[E++],done:!d}}}}function Ee(d,h){var E=typeof Symbol=="function"&&d[Symbol.iterator];if(!E)return d;var D=E.call(d),F,V=[],fe;try{for(;(h===void 0||h-- >0)&&!(F=D.next()).done;)V.push(F.value)}catch(Ae){fe={error:Ae}}finally{try{F&&!F.done&&(E=D.return)&&E.call(D)}finally{if(fe)throw fe.error}}return V}function _e(){for(var d=[],h=0;h<arguments.length;h++)d=d.concat(Ee(arguments[h]));return d}var Xe=Symbol("mobx did run lazy initializers"),k=Symbol("mobx pending decorators"),$={},q={};function he(d,h){var E=h?$:q;return E[d]||(E[d]={configurable:!0,enumerable:h,get:function(){return xe(this),this[d]},set:function(D){xe(this),this[d]=D}})}function xe(d){var h,E;if(d[Xe]!==!0){var D=d[k];if(D){Y(d,Xe,!0);var F=_e(Object.getOwnPropertySymbols(D),Object.keys(D));try{for(var V=Le(F),fe=V.next();!fe.done;fe=V.next()){var Ae=fe.value,Ue=D[Ae];Ue.propertyCreator(d,Ue.prop,Ue.descriptor,Ue.decoratorTarget,Ue.decoratorArguments)}}catch(dt){h={error:dt}}finally{try{fe&&!fe.done&&(E=V.return)&&E.call(V)}finally{if(h)throw h.error}}}}}function pe(d,h){return function(){var D,F=function(fe,Ae,Ue,dt){if(dt===!0)return h(fe,Ae,Ue,fe,D),null;if(!Object.prototype.hasOwnProperty.call(fe,k)){var pt=fe[k];Y(fe,k,Ve({},pt))}return fe[k][Ae]={prop:Ae,propertyCreator:h,descriptor:Ue,decoratorTarget:fe,decoratorArguments:D},he(Ae,d)};return Ge(arguments)?(D=b,F.apply(null,arguments)):(D=Array.prototype.slice.call(arguments),F)}}function Ge(d){return(d.length===2||d.length===3)&&(typeof d[1]=="string"||typeof d[1]=="symbol")||d.length===4&&d[3]===!0}function nt(d,h,E){return Tn(d)?d:Array.isArray(d)?mt.array(d,{name:E}):z(d)?mt.object(d,void 0,{name:E}):Q(d)?mt.map(d,{name:E}):ee(d)?mt.set(d,{name:E}):d}function We(d,h,E){return d==null||Er(d)||zr(d)||$t(d)||hr(d)?d:Array.isArray(d)?mt.array(d,{name:E,deep:!1}):z(d)?mt.object(d,void 0,{name:E,deep:!1}):Q(d)?mt.map(d,{name:E,deep:!1}):ee(d)?mt.set(d,{name:E,deep:!1}):P(!1)}function it(d){return d}function ve(d,h,E){return Oo(d,h)?h:d}function lt(d){M(d);var h=pe(!0,function(D,F,V,fe,Ae){var Ue=V?V.initializer?V.initializer.call(D):V.value:void 0;ni(D).addObservableProp(F,Ue,d)}),E=(typeof s!="undefined"&&s.env,h);return E.enhancer=d,E}var ot={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(ot);function ze(d){return d==null?ot:typeof d=="string"?{name:d,deep:!0,proxy:!0}:d}var et=lt(nt),wt=lt(We),vt=lt(it),Ot=lt(ve);function ae(d){return d.defaultDecorator?d.defaultDecorator.enhancer:d.deep===!1?it:nt}function jt(d,h,E){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return et.apply(null,arguments);if(Tn(d))return d;var D=z(d)?mt.object(d,h,E):Array.isArray(d)?mt.array(d,h):Q(d)?mt.map(d,h):ee(d)?mt.set(d,h):d;if(D!==d)return D;P(!1)}var xt={box:function(d,h){arguments.length>2&&Vt("box");var E=ze(h);return new un(d,ae(E),E.name,!0,E.equals)},array:function(d,h){arguments.length>2&&Vt("array");var E=ze(h);return Dl(d,ae(E),E.name)},map:function(d,h){arguments.length>2&&Vt("map");var E=ze(h);return new ri(d,ae(E),E.name)},set:function(d,h){arguments.length>2&&Vt("set");var E=ze(h);return new ua(d,ae(E),E.name)},object:function(d,h,E){typeof arguments[1]=="string"&&Vt("object");var D=ze(E);if(D.proxy===!1)return ti({},d,h,D);var F=Vi(D),V=ti({},void 0,void 0,D),fe=jn(V);return Zi(fe,d,h,F),fe},ref:vt,shallow:wt,deep:et,struct:Ot},mt=jt;Object.keys(xt).forEach(function(d){return mt[d]=xt[d]});function Vt(d){P("Expected one or two arguments to observable."+d+". Did you accidentally try to use observable."+d+" as decorator?")}var mr=pe(!1,function(d,h,E,D,F){var V=E.get,fe=E.set,Ae=F[0]||{};ni(d).addComputedProp(d,h,Ve({get:V,set:fe,context:d},Ae))}),qt=mr({equals:Oe.structural}),Mr=function(h,E,D){if(typeof E=="string"||h!==null&&typeof h=="object"&&arguments.length===1)return mr.apply(null,arguments);var F=typeof E=="object"?E:{};return F.get=h,F.set=typeof E=="function"?E:F.set,F.name=F.name||h.name||"",new Sn(F)};Mr.struct=qt;var tt;(function(d){d[d.NOT_TRACKING=-1]="NOT_TRACKING",d[d.UP_TO_DATE=0]="UP_TO_DATE",d[d.POSSIBLY_STALE=1]="POSSIBLY_STALE",d[d.STALE=2]="STALE"})(tt||(tt={}));var Pt;(function(d){d[d.NONE=0]="NONE",d[d.LOG=1]="LOG",d[d.BREAK=2]="BREAK"})(Pt||(Pt={}));var ur=function(){function d(h){this.cause=h}return d}();function Ce(d){return d instanceof ur}function Ye(d){switch(d.dependenciesState){case tt.UP_TO_DATE:return!1;case tt.NOT_TRACKING:case tt.STALE:return!0;case tt.POSSIBLY_STALE:{for(var h=De(!0),E=ne(),D=d.observing,F=D.length,V=0;V<F;V++){var fe=D[V];if(xn(fe)){if(He.disableErrorBoundaries)fe.get();else try{fe.get()}catch(Ae){return Te(E),$e(h),!0}if(d.dependenciesState===tt.STALE)return Te(E),$e(h),!0}}return yt(d),Te(E),$e(h),!1}}}function at(){return He.trackingDerivation!==null}function Je(d){var h=d.observers.size>0;He.computationDepth>0&&h&&P(!1),!He.allowStateChanges&&(h||He.enforceActions==="strict")&&P(!1)}function ct(d,h,E){var D=De(!0);yt(d),d.newObserving=new Array(d.observing.length+100),d.unboundDepsCount=0,d.runId=++He.runId;var F=He.trackingDerivation;He.trackingDerivation=d;var V;if(He.disableErrorBoundaries===!0)V=h.call(E);else try{V=h.call(E)}catch(fe){V=new ur(fe)}return He.trackingDerivation=F,H(d),$e(D),V}function H(d){for(var h=d.observing,E=d.observing=d.newObserving,D=tt.UP_TO_DATE,F=0,V=d.unboundDepsCount,fe=0;fe<V;fe++){var Ae=E[fe];Ae.diffValue===0&&(Ae.diffValue=1,F!==fe&&(E[F]=Ae),F++),Ae.dependenciesState>D&&(D=Ae.dependenciesState)}for(E.length=F,d.newObserving=null,V=h.length;V--;){var Ae=h[V];Ae.diffValue===0&&$r(Ae,d),Ae.diffValue=0}for(;F--;){var Ae=E[F];Ae.diffValue===1&&(Ae.diffValue=0,el(Ae,d))}D!==tt.UP_TO_DATE&&(d.dependenciesState=D,d.onBecomeStale())}function J(d){var h=d.observing;d.observing=[];for(var E=h.length;E--;)$r(h[E],d);d.dependenciesState=tt.NOT_TRACKING}function re(d){var h=ne();try{return d()}finally{Te(h)}}function ne(){var d=He.trackingDerivation;return He.trackingDerivation=null,d}function Te(d){He.trackingDerivation=d}function De(d){var h=He.allowStateReads;return He.allowStateReads=d,h}function $e(d){He.allowStateReads=d}function yt(d){if(d.dependenciesState!==tt.UP_TO_DATE){d.dependenciesState=tt.UP_TO_DATE;for(var h=d.observing,E=h.length;E--;)h[E].lowestObserverState=tt.UP_TO_DATE}}var er=0,tr=1,Wn=Object.getOwnPropertyDescriptor(function(){},"name");Wn&&Wn.configurable;function Xr(d,h,E){var D=function(){return zi(d,h,E||this,arguments)};return D.isMobxAction=!0,D}function zi(d,h,E,D){var F=wr();try{return h.apply(E,D)}catch(V){throw F.error=V,V}finally{Fi(F)}}function wr(d,h,E){var D=Ct(),F=0,V=ne();At();var fe=En(!0),Ae=De(!0),Ue={prevDerivation:V,prevAllowStateChanges:fe,prevAllowStateReads:Ae,notifySpy:D,startTime:F,actionId:tr++,parentActionId:er};return er=Ue.actionId,Ue}function Fi(d){er!==d.actionId&&P("invalid action stack. did you forget to finish an action?"),er=d.parentActionId,d.error!==void 0&&(He.suppressReactionErrors=!0),Kn(d.prevAllowStateChanges),$e(d.prevAllowStateReads),br(),Te(d.prevDerivation),d.notifySpy,He.suppressReactionErrors=!1}function pr(d,h){var E=En(d),D;try{D=h()}finally{Kn(E)}return D}function En(d){var h=He.allowStateChanges;return He.allowStateChanges=d,h}function Kn(d){He.allowStateChanges=d}var un=function(d){Fe(h,d);function h(E,D,F,V,fe){F===void 0&&(F="ObservableValue@"+S()),V===void 0&&(V=!0),fe===void 0&&(fe=Oe.default);var Ae=d.call(this,F)||this;return Ae.enhancer=D,Ae.name=F,Ae.equals=fe,Ae.hasUnreportedChange=!1,Ae.value=D(E,void 0,F),V&&Ct(),Ae}return h.prototype.dehanceValue=function(E){return this.dehancer!==void 0?this.dehancer(E):E},h.prototype.set=function(E){var D=this.value;if(E=this.prepareNewValue(E),E!==He.UNCHANGED){var F=Ct();this.setNewValue(E)}},h.prototype.prepareNewValue=function(E){if(Je(this),Dr(this)){var D=jr(this,{object:this,type:"update",newValue:E});if(!D)return He.UNCHANGED;E=D.newValue}return E=this.enhancer(E,this.value,this.name),this.equals(this.value,E)?He.UNCHANGED:E},h.prototype.setNewValue=function(E){var D=this.value;this.value=E,this.reportChanged(),Or(this)&&rr(this,{type:"update",object:this,newValue:E,oldValue:D})},h.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},h.prototype.intercept=function(E){return Qn(this,E)},h.prototype.observe=function(E,D){return D&&E({object:this,type:"update",newValue:this.value,oldValue:void 0}),qn(this,E)},h.prototype.toJSON=function(){return this.get()},h.prototype.toString=function(){return this.name+"["+this.value+"]"},h.prototype.valueOf=function(){return B(this.get())},h.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},h}(W),Vn=te("ObservableValue",un),Sn=function(){function d(h){this.dependenciesState=tt.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=tt.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+S(),this.value=new ur(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Pt.NONE,M(h.get,"missing option for computed: get"),this.derivation=h.get,this.name=h.name||"ComputedValue@"+S(),h.set&&(this.setter=Xr(this.name+"-setter",h.set)),this.equals=h.equals||(h.compareStructural||h.struct?Oe.structural:Oe.default),this.scope=h.context,this.requiresReaction=!!h.requiresReaction,this.keepAlive=!!h.keepAlive}return d.prototype.onBecomeStale=function(){nl(this)},d.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(h){return h()})},d.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(h){return h()})},d.prototype.get=function(){this.isComputing&&P("Cycle detected in computation "+this.name+": "+this.derivation),He.inBatch===0&&this.observers.size===0&&!this.keepAlive?Ye(this)&&(this.warnAboutUntrackedRead(),At(),this.value=this.computeValue(!1),br()):(ki(this),Ye(this)&&this.trackAndCompute()&&rl(this));var h=this.value;if(Ce(h))throw h.cause;return h},d.prototype.peek=function(){var h=this.computeValue(!1);if(Ce(h))throw h.cause;return h},d.prototype.set=function(h){if(this.setter){M(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,h)}finally{this.isRunningSetter=!1}}else M(!1,!1)},d.prototype.trackAndCompute=function(){var h=this.value,E=this.dependenciesState===tt.NOT_TRACKING,D=this.computeValue(!0),F=E||Ce(h)||Ce(D)||!this.equals(h,D);return F&&(this.value=D),F},d.prototype.computeValue=function(h){this.isComputing=!0,He.computationDepth++;var E;if(h)E=ct(this,this.derivation,this.scope);else if(He.disableErrorBoundaries===!0)E=this.derivation.call(this.scope);else try{E=this.derivation.call(this.scope)}catch(D){E=new ur(D)}return He.computationDepth--,this.isComputing=!1,E},d.prototype.suspend=function(){this.keepAlive||(J(this),this.value=void 0)},d.prototype.observe=function(h,E){var D=this,F=!0,V=void 0;return Lr(function(){var fe=D.get();if(!F||E){var Ae=ne();h({type:"update",object:D,newValue:fe,oldValue:V}),Te(Ae)}F=!1,V=fe})},d.prototype.warnAboutUntrackedRead=function(){},d.prototype.toJSON=function(){return this.get()},d.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},d.prototype.valueOf=function(){return B(this.get())},d.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},d}(),xn=te("ComputedValue",Sn),co=function(){function d(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}return d}(),qs={};function po(){return typeof window!="undefined"?window:typeof l!="undefined"?l:typeof self!="undefined"?self:qs}var ho=!0,Gi=!1,He=function(){var d=po();return d.__mobxInstanceCount>0&&!d.__mobxGlobals&&(ho=!1),d.__mobxGlobals&&d.__mobxGlobals.version!==new co().version&&(ho=!1),ho?d.__mobxGlobals?(d.__mobxInstanceCount+=1,d.__mobxGlobals.UNCHANGED||(d.__mobxGlobals.UNCHANGED={}),d.__mobxGlobals):(d.__mobxInstanceCount=1,d.__mobxGlobals=new co):(setTimeout(function(){Gi||P("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new co)}();function Hi(){(He.pendingReactions.length||He.inBatch||He.isRunningReactions)&&P("isolateGlobalState should be called before MobX is running any reactions"),Gi=!0,ho&&(--po().__mobxInstanceCount===0&&(po().__mobxGlobals=void 0),He=new co)}function el(d,h){d.observers.add(h),d.lowestObserverState>h.dependenciesState&&(d.lowestObserverState=h.dependenciesState)}function $r(d,h){d.observers.delete(h),d.observers.size===0&&Ui(d)}function Ui(d){d.isPendingUnobservation===!1&&(d.isPendingUnobservation=!0,He.pendingUnobservations.push(d))}function At(){He.inBatch++}function br(){if(--He.inBatch===0){$i();for(var d=He.pendingUnobservations,h=0;h<d.length;h++){var E=d[h];E.isPendingUnobservation=!1,E.observers.size===0&&(E.isBeingObserved&&(E.isBeingObserved=!1,E.onBecomeUnobserved()),E instanceof Sn&&E.suspend())}He.pendingUnobservations=[]}}function ki(d){var h=He.trackingDerivation;return h!==null?(h.runId!==d.lastAccessedBy&&(d.lastAccessedBy=h.runId,h.newObserving[h.unboundDepsCount++]=d,d.isBeingObserved||(d.isBeingObserved=!0,d.onBecomeObserved())),!0):(d.observers.size===0&&He.inBatch>0&&Ui(d),!1)}function tl(d){d.lowestObserverState!==tt.STALE&&(d.lowestObserverState=tt.STALE,d.observers.forEach(function(h){h.dependenciesState===tt.UP_TO_DATE&&(h.isTracing!==Pt.NONE&&vo(h,d),h.onBecomeStale()),h.dependenciesState=tt.STALE}))}function rl(d){d.lowestObserverState!==tt.STALE&&(d.lowestObserverState=tt.STALE,d.observers.forEach(function(h){h.dependenciesState===tt.POSSIBLY_STALE?h.dependenciesState=tt.STALE:h.dependenciesState===tt.UP_TO_DATE&&(d.lowestObserverState=tt.UP_TO_DATE)}))}function nl(d){d.lowestObserverState===tt.UP_TO_DATE&&(d.lowestObserverState=tt.POSSIBLY_STALE,d.observers.forEach(function(h){h.dependenciesState===tt.UP_TO_DATE&&(h.dependenciesState=tt.POSSIBLY_STALE,h.isTracing!==Pt.NONE&&vo(h,d),h.onBecomeStale())}))}function vo(d,h){if(""+d.name+h.name,d.isTracing===Pt.BREAK){var E=[];Xi(Ji(d),E,1),new Function(`debugger;
/*
Tracing '`+d.name+`'

You are entering this break point because derivation '`+d.name+"' is being traced and '"+h.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(d instanceof Sn?d.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+E.join(`
`)+`
*/
    `)()}}function Xi(d,h,E){if(h.length>=1e3){h.push("(and many more)");return}h.push(""+new Array(E).join("	")+d.name),d.dependencies&&d.dependencies.forEach(function(D){return Xi(D,h,E+1)})}var sn=function(){function d(h,E,D,F){h===void 0&&(h="Reaction@"+S()),F===void 0&&(F=!1),this.name=h,this.onInvalidate=E,this.errorHandler=D,this.requiresObservable=F,this.observing=[],this.newObserving=[],this.dependenciesState=tt.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+S(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Pt.NONE}return d.prototype.onBecomeStale=function(){this.schedule()},d.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,He.pendingReactions.push(this),$i())},d.prototype.isScheduled=function(){return this._isScheduled},d.prototype.runReaction=function(){if(!this.isDisposed){if(At(),this._isScheduled=!1,Ye(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&Ct()}catch(h){this.reportExceptionInDerivation(h)}}br()}},d.prototype.track=function(h){if(!this.isDisposed){At(),this._isRunning=!0;var E=ct(this,h,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&J(this),Ce(E)&&this.reportExceptionInDerivation(E.cause),br()}},d.prototype.reportExceptionInDerivation=function(h){var E=this;if(this.errorHandler){this.errorHandler(h,this);return}if(He.disableErrorBoundaries)throw h;var D="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";He.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(D,h),He.globalReactionErrorHandlers.forEach(function(F){return F(h,E)})},d.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(At(),J(this),br()))},d.prototype.getDisposer=function(){var h=this.dispose.bind(this);return h[R]=this,h},d.prototype.toString=function(){return"Reaction["+this.name+"]"},d.prototype.trace=function(h){h===void 0&&(h=!1),Al(this,h)},d}(),Jo=100,Qo=function(d){return d()};function $i(){He.inBatch>0||He.isRunningReactions||Qo(ol)}function ol(){He.isRunningReactions=!0;for(var d=He.pendingReactions,h=0;d.length>0;){++h===Jo&&(console.error("Reaction doesn't converge to a stable state after "+Jo+" iterations."+(" Probably there is a cycle in the reactive function: "+d[0])),d.splice(0));for(var E=d.splice(0),D=0,F=E.length;D<F;D++)E[D].runReaction()}He.isRunningReactions=!1}var yo=te("Reaction",sn);function il(d){var h=Qo;Qo=function(E){return d(function(){return h(E)})}}function Ct(){return!1}function hd(d){}function vd(d){}function yd(d){}function Yi(d){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function al(){P(!1)}function Wi(d){return function(h,E,D){if(D){if(D.value)return{value:Xr(d,D.value),enumerable:!1,configurable:!0,writable:!0};var F=D.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Xr(d,F.call(this))}}}return ul(d).apply(this,arguments)}}function ul(d){return function(h,E,D){Object.defineProperty(h,E,{configurable:!0,enumerable:!1,get:function(){},set:function(F){Y(this,E,Yr(d,F))}})}}function sl(d,h,E,D){return D===!0?(qo(d,h,E.value),null):E?{configurable:!0,enumerable:!1,get:function(){return qo(this,h,E.value||E.initializer.call(this)),this[h]},set:al}:{enumerable:!1,configurable:!0,set:function(F){qo(this,h,F)},get:function(){}}}var Yr=function(h,E,D,F){if(arguments.length===1&&typeof h=="function")return Xr(h.name||"<unnamed action>",h);if(arguments.length===2&&typeof E=="function")return Xr(h,E);if(arguments.length===1&&typeof h=="string")return Wi(h);if(F===!0)Y(h,E,Xr(h.name||E,D.value,this));else return Wi(E).apply(null,arguments)};Yr.bound=sl;function ll(d,h){var E=typeof d=="string"?d:d.name||"<unnamed action>",D=typeof d=="function"?d:h;return zi(E,D,this,void 0)}function fl(d){return typeof d=="function"&&d.isMobxAction===!0}function qo(d,h,E){Y(d,h,Xr(h,E.bind(d)))}function Lr(d,h){h===void 0&&(h=x);var E=h&&h.name||d.name||"Autorun@"+S(),D=!h.scheduler&&!h.delay,F;if(D)F=new sn(E,function(){this.track(Ae)},h.onError,h.requiresObservable);else{var V=Pn(h),fe=!1;F=new sn(E,function(){fe||(fe=!0,V(function(){fe=!1,F.isDisposed||F.track(Ae)}))},h.onError,h.requiresObservable)}function Ae(){d(F)}return F.schedule(),F.getDisposer()}var cl=function(d){return d()};function Pn(d){return d.scheduler?d.scheduler:d.delay?function(h){return setTimeout(h,d.delay)}:cl}function dl(d,h,E){E===void 0&&(E=x);var D=E.name||"Reaction@"+S(),F=Yr(D,E.onError?Zn(E.onError,h):h),V=!E.scheduler&&!E.delay,fe=Pn(E),Ae=!0,Ue=!1,dt,pt=E.compareStructural?Oe.structural:E.equals||Oe.default,Et=new sn(D,function(){Ae||V?St():Ue||(Ue=!0,fe(St))},E.onError,E.requiresObservable);function St(){if(Ue=!1,!Et.isDisposed){var Lt=!1;Et.track(function(){var Yt=d(Et);Lt=Ae||!pt(dt,Yt),dt=Yt}),Ae&&E.fireImmediately&&F(dt,Et),!Ae&&Lt===!0&&F(dt,Et),Ae&&(Ae=!1)}}return Et.schedule(),Et.getDisposer()}function Zn(d,h){return function(){try{return h.apply(this,arguments)}catch(E){d.call(this,E)}}}function pl(d,h,E){return Ki("onBecomeObserved",d,h,E)}function ei(d,h,E){return Ki("onBecomeUnobserved",d,h,E)}function Ki(d,h,E,D){var F=typeof D=="function"?Cr(h,E):Cr(h),V=typeof D=="function"?D:E,fe=d+"Listeners";F[fe]?F[fe].add(V):F[fe]=new Set([V]);var Ae=F[d];return typeof Ae!="function"?P(!1):function(){var Ue=F[fe];Ue&&(Ue.delete(V),Ue.size===0&&delete F[fe])}}function hl(d){var h=d.enforceActions,E=d.computedRequiresReaction,D=d.computedConfigurable,F=d.disableErrorBoundaries,V=d.reactionScheduler,fe=d.reactionRequiresObservable,Ae=d.observableRequiresReaction;if(d.isolateGlobalState===!0&&Hi(),h!==void 0){var Ue=void 0;switch(h){case!0:case"observed":Ue=!0;break;case!1:case"never":Ue=!1;break;case"strict":case"always":Ue="strict";break;default:P("Invalid value for 'enforceActions': '"+h+"', expected 'never', 'always' or 'observed'")}He.enforceActions=Ue,He.allowStateChanges=!(Ue===!0||Ue==="strict")}E!==void 0&&(He.computedRequiresReaction=!!E),fe!==void 0&&(He.reactionRequiresObservable=!!fe),Ae!==void 0&&(He.observableRequiresReaction=!!Ae,He.allowStateReads=!He.observableRequiresReaction),D!==void 0&&(He.computedConfigurable=!!D),F!==void 0&&(F===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),He.disableErrorBoundaries=!!F),V&&il(V)}function ti(d,h,E,D){D=ze(D);var F=Vi(D);return xe(d),ni(d,D.name,F.enhancer),h&&Zi(d,h,E,F),d}function Vi(d){return d.defaultDecorator||(d.deep===!1?vt:et)}function Zi(d,h,E,D){var F,V,fe,Ae;At();try{var Ae=w(h);try{for(var Ue=Le(Ae),dt=Ue.next();!dt.done;dt=Ue.next()){var fe=dt.value,pt=Object.getOwnPropertyDescriptor(h,fe),Et=E&&fe in E?E[fe]:pt.get?mr:D,St=Et(d,fe,pt,!0);St&&Object.defineProperty(d,fe,St)}}catch(Yt){F={error:Yt}}finally{try{dt&&!dt.done&&(V=Ue.return)&&V.call(Ue)}finally{if(F)throw F.error}}}finally{br()}}function Ji(d,h){return Qi(Cr(d,h))}function Qi(d){var h={name:d.name};return d.observing&&d.observing.length>0&&(h.dependencies=C(d.observing).map(Qi)),h}var vl=0;function qi(){this.message="FLOW_CANCELLED"}qi.prototype=Object.create(Error.prototype);function yl(d){arguments.length!==1&&P("Flow expects 1 argument and cannot be used as decorator");var h=d.name||"<unnamed flow>";return function(){var E=this,D=arguments,F=++vl,V=Yr(h+" - runid: "+F+" - init",d).apply(E,D),fe,Ae=void 0,Ue=new Promise(function(dt,pt){var Et=0;fe=pt;function St(Tt){Ae=void 0;var Sr;try{Sr=Yr(h+" - runid: "+F+" - yield "+Et++,V.next).call(V,Tt)}catch(Cn){return pt(Cn)}Yt(Sr)}function Lt(Tt){Ae=void 0;var Sr;try{Sr=Yr(h+" - runid: "+F+" - yield "+Et++,V.throw).call(V,Tt)}catch(Cn){return pt(Cn)}Yt(Sr)}function Yt(Tt){if(Tt&&typeof Tt.then=="function"){Tt.then(Yt,pt);return}return Tt.done?dt(Tt.value):(Ae=Promise.resolve(Tt.value),Ae.then(St,Lt))}St(void 0)});return Ue.cancel=Yr(h+" - runid: "+F+" - cancel",function(){try{Ae&&ea(Ae);var dt=V.return(void 0),pt=Promise.resolve(dt.value);pt.then(j,j),ea(pt),fe(new qi)}catch(Et){fe(Et)}}),Ue}}function ea(d){typeof d.cancel=="function"&&d.cancel()}function ta(d,h){if(d==null)return!1;if(h!==void 0){if(Er(d)===!1||!d[R].values.has(h))return!1;var E=Cr(d,h);return xn(E)}return xn(d)}function gl(d){return arguments.length>1?P(!1):ta(d)}function ml(d,h){return typeof h!="string"?P(!1):ta(d,h)}function An(d,h){return d==null?!1:h!==void 0?Er(d)?d[R].values.has(h):!1:Er(d)||!!d[R]||Z(d)||yo(d)||xn(d)}function Tn(d){return arguments.length!==1&&P(!1),An(d)}function Mn(d){return Er(d)?d[R].getKeys():$t(d)||hr(d)?Array.from(d.keys()):zr(d)?d.map(function(h,E){return E}):P(!1)}function bl(d){return Er(d)?Mn(d).map(function(h){return d[h]}):$t(d)?Mn(d).map(function(h){return d.get(h)}):hr(d)?Array.from(d.values()):zr(d)?d.slice():P(!1)}function Ol(d){return Er(d)?Mn(d).map(function(h){return[h,d[h]]}):$t(d)?Mn(d).map(function(h){return[h,d.get(h)]}):hr(d)?Array.from(d.entries()):zr(d)?d.map(function(h,E){return[E,h]}):P(!1)}function ra(d,h,E){if(arguments.length===2&&!hr(d)){At();var D=h;try{for(var F in D)ra(d,F,D[F])}finally{br()}return}if(Er(d)){var V=d[R],fe=V.values.get(h);fe?V.write(h,E):V.addObservableProp(h,E,V.defaultEnhancer)}else if($t(d))d.set(h,E);else if(hr(d))d.add(h);else if(zr(d))typeof h!="number"&&(h=parseInt(h,10)),M(h>=0,"Not a valid index: '"+h+"'"),At(),h>=d.length&&(d.length=h+1),d[h]=E,br();else return P(!1)}function El(d,h,E,D){return typeof E=="function"?Sl(d,h,E,D):go(d,h,E)}function go(d,h,E){return eo(d).observe(h,E)}function Sl(d,h,E,D){return eo(d,h).observe(E,D)}var xl={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function wn(d,h,E,D){return D.detectCycles&&d.set(h,E),E}function Wr(d,h,E){if(!h.recurseEverything&&!Tn(d)||typeof d!="object")return d;if(d===null)return null;if(d instanceof Date)return d;if(Vn(d))return Wr(d.get(),h,E);Tn(d)&&Mn(d);var D=h.detectCycles===!0;if(D&&d!==null&&E.has(d))return E.get(d);if(zr(d)||Array.isArray(d)){var F=wn(E,d,[],h),V=d.map(function(Lt){return Wr(Lt,h,E)});F.length=V.length;for(var fe=0,Ae=V.length;fe<Ae;fe++)F[fe]=V[fe];return F}if(hr(d)||Object.getPrototypeOf(d)===Set.prototype)if(h.exportMapsAsObjects===!1){var Ue=wn(E,d,new Set,h);return d.forEach(function(Lt){Ue.add(Wr(Lt,h,E))}),Ue}else{var dt=wn(E,d,[],h);return d.forEach(function(Lt){dt.push(Wr(Lt,h,E))}),dt}if($t(d)||Object.getPrototypeOf(d)===Map.prototype)if(h.exportMapsAsObjects===!1){var pt=wn(E,d,new Map,h);return d.forEach(function(Lt,Yt){pt.set(Yt,Wr(Lt,h,E))}),pt}else{var Et=wn(E,d,{},h);return d.forEach(function(Lt,Yt){Et[Yt]=Wr(Lt,h,E)}),Et}var St=wn(E,d,{},h);return _(d).forEach(function(Lt){St[Lt]=Wr(d[Lt],h,E)}),St}function Pl(d,h){typeof h=="boolean"&&(h={detectCycles:h}),h||(h=xl),h.detectCycles=h.detectCycles===void 0?h.recurseEverything===!0:h.detectCycles===!0;var E;return h.detectCycles&&(E=new Map),Wr(d,h,E)}function Al(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var E=!1;typeof d[d.length-1]=="boolean"&&(E=d.pop());var D=Tl(d);if(!D)return P(!1);D.isTracing===Pt.NONE&&""+D.name,D.isTracing=E?Pt.BREAK:Pt.LOG}function Tl(d){switch(d.length){case 0:return He.trackingDerivation;case 1:return Cr(d[0]);case 2:return Cr(d[0],d[1])}}function Nr(d,h){h===void 0&&(h=void 0),At();try{return d.apply(h)}finally{br()}}function Nn(d,h,E){return arguments.length===1||h&&typeof h=="object"?Ml(d,h):Jn(d,h,E||{})}function Jn(d,h,E){var D;typeof E.timeout=="number"&&(D=setTimeout(function(){if(!V[R].isDisposed){V();var fe=new Error("WHEN_TIMEOUT");if(E.onError)E.onError(fe);else throw fe}},E.timeout)),E.name=E.name||"When@"+S();var F=Xr(E.name+"-effect",h),V=Lr(function(fe){d()&&(fe.dispose(),D&&clearTimeout(D),F())},E);return V}function Ml(d,h){var E,D=new Promise(function(F,V){var fe=Jn(d,F,Ve(Ve({},h),{onError:V}));E=function(){fe(),V("WHEN_CANCELLED")}});return D.cancel=E,D}function mo(d){return d[R]}function bo(d){return typeof d=="string"||typeof d=="number"||typeof d=="symbol"}var Dn={has:function(d,h){if(h===R||h==="constructor"||h===Xe)return!0;var E=mo(d);return bo(h)?E.has(h):h in d},get:function(d,h){if(h===R||h==="constructor"||h===Xe)return d[h];var E=mo(d),D=E.values.get(h);if(D instanceof W){var F=D.get();return F===void 0&&E.has(h),F}return bo(h)&&E.has(h),d[h]},set:function(d,h,E){return bo(h)?(ra(d,h,E),!0):!1},deleteProperty:function(d,h){if(!bo(h))return!1;var E=mo(d);return E.remove(h),!0},ownKeys:function(d){var h=mo(d);return h.keysAtom.reportObserved(),Reflect.ownKeys(d)},preventExtensions:function(d){return P("Dynamic observable objects cannot be frozen"),!1}};function jn(d){var h=new Proxy(d,Dn);return d[R].proxy=h,h}function Dr(d){return d.interceptors!==void 0&&d.interceptors.length>0}function Qn(d,h){var E=d.interceptors||(d.interceptors=[]);return E.push(h),A(function(){var D=E.indexOf(h);D!==-1&&E.splice(D,1)})}function jr(d,h){var E=ne();try{for(var D=_e(d.interceptors||[]),F=0,V=D.length;F<V&&(h=D[F](h),M(!h||h.type,"Intercept handlers should return nothing or a change object"),!!h);F++);return h}finally{Te(E)}}function Or(d){return d.changeListeners!==void 0&&d.changeListeners.length>0}function qn(d,h){var E=d.changeListeners||(d.changeListeners=[]);return E.push(h),A(function(){var D=E.indexOf(h);D!==-1&&E.splice(D,1)})}function rr(d,h){var E=ne(),D=d.changeListeners;if(!!D){D=D.slice();for(var F=0,V=D.length;F<V;F++)D[F](h);Te(E)}}var wl=1e4,Nl={get:function(d,h){return h===R?d[R]:h==="length"?d[R].getArrayLength():typeof h=="number"?_r.get.call(d,h):typeof h=="string"&&!isNaN(h)?_r.get.call(d,parseInt(h)):_r.hasOwnProperty(h)?_r[h]:d[h]},set:function(d,h,E){return h==="length"&&d[R].setArrayLength(E),typeof h=="number"&&_r.set.call(d,h,E),typeof h=="symbol"||isNaN(h)?d[h]=E:_r.set.call(d,parseInt(h),E),!0},preventExtensions:function(d){return P("Observable arrays cannot be frozen"),!1}};function Dl(d,h,E,D){E===void 0&&(E="ObservableArray@"+S()),D===void 0&&(D=!1);var F=new na(E,h,D);le(F.values,R,F);var V=new Proxy(F.values,Nl);if(F.proxy=V,d&&d.length){var fe=En(!0);F.spliceWithArray(0,0,d),Kn(fe)}return V}var na=function(){function d(h,E,D){this.owned=D,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new W(h||"ObservableArray@"+S()),this.enhancer=function(F,V){return E(F,V,h+"[..]")}}return d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.dehanceValues=function(h){return this.dehancer!==void 0&&h.length>0?h.map(this.dehancer):h},d.prototype.intercept=function(h){return Qn(this,h)},d.prototype.observe=function(h,E){return E===void 0&&(E=!1),E&&h({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),qn(this,h)},d.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},d.prototype.setArrayLength=function(h){if(typeof h!="number"||h<0)throw new Error("[mobx.array] Out of range: "+h);var E=this.values.length;if(h!==E)if(h>E){for(var D=new Array(h-E),F=0;F<h-E;F++)D[F]=void 0;this.spliceWithArray(E,0,D)}else this.spliceWithArray(h,E-h)},d.prototype.updateArrayLength=function(h,E){if(h!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=E},d.prototype.spliceWithArray=function(h,E,D){var F=this;Je(this.atom);var V=this.values.length;if(h===void 0?h=0:h>V?h=V:h<0&&(h=Math.max(0,V+h)),arguments.length===1?E=V-h:E==null?E=0:E=Math.max(0,Math.min(E,V-h)),D===void 0&&(D=b),Dr(this)){var fe=jr(this,{object:this.proxy,type:"splice",index:h,removedCount:E,added:D});if(!fe)return b;E=fe.removedCount,D=fe.added}D=D.length===0?D:D.map(function(Ue){return F.enhancer(Ue,void 0)});var Ae=this.spliceItemsIntoValues(h,E,D);return(E!==0||D.length!==0)&&this.notifyArraySplice(h,D,Ae),this.dehanceValues(Ae)},d.prototype.spliceItemsIntoValues=function(h,E,D){var F;if(D.length<wl)return(F=this.values).splice.apply(F,_e([h,E],D));var V=this.values.slice(h,h+E);return this.values=this.values.slice(0,h).concat(D,this.values.slice(h+E)),V},d.prototype.notifyArrayChildUpdate=function(h,E,D){var F=!this.owned&&Ct(),V=Or(this),fe=V||F?{object:this.proxy,type:"update",index:h,newValue:E,oldValue:D}:null;this.atom.reportChanged(),V&&rr(this,fe)},d.prototype.notifyArraySplice=function(h,E,D){var F=!this.owned&&Ct(),V=Or(this),fe=V||F?{object:this.proxy,type:"splice",index:h,removed:D,added:E,removedCount:D.length,addedCount:E.length}:null;this.atom.reportChanged(),V&&rr(this,fe)},d}(),_r={intercept:function(d){return this[R].intercept(d)},observe:function(d,h){h===void 0&&(h=!1);var E=this[R];return E.observe(d,h)},clear:function(){return this.splice(0)},replace:function(d){var h=this[R];return h.spliceWithArray(0,h.values.length,d)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(d,h){for(var E=[],D=2;D<arguments.length;D++)E[D-2]=arguments[D];var F=this[R];switch(arguments.length){case 0:return[];case 1:return F.spliceWithArray(d);case 2:return F.spliceWithArray(d,h)}return F.spliceWithArray(d,h,E)},spliceWithArray:function(d,h,E){var D=this[R];return D.spliceWithArray(d,h,E)},push:function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var E=this[R];return E.spliceWithArray(E.values.length,0,d),E.values.length},pop:function(){return this.splice(Math.max(this[R].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var E=this[R];return E.spliceWithArray(0,0,d),E.values.length},reverse:function(){var d=this.slice();return d.reverse.apply(d,arguments)},sort:function(d){var h=this.slice();return h.sort.apply(h,arguments)},remove:function(d){var h=this[R],E=h.dehanceValues(h.values).indexOf(d);return E>-1?(this.splice(E,1),!0):!1},get:function(d){var h=this[R];if(h){if(d<h.values.length)return h.atom.reportObserved(),h.dehanceValue(h.values[d]);console.warn("[mobx.array] Attempt to read an array index ("+d+") that is out of bounds ("+h.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(d,h){var E=this[R],D=E.values;if(d<D.length){Je(E.atom);var F=D[d];if(Dr(E)){var V=jr(E,{type:"update",object:E.proxy,index:d,newValue:h});if(!V)return;h=V.newValue}h=E.enhancer(h,F);var fe=h!==F;fe&&(D[d]=h,E.notifyArrayChildUpdate(d,h,F))}else if(d===D.length)E.spliceWithArray(d,0,[h]);else throw new Error("[mobx.array] Index out of bounds, "+d+" is larger than "+D.length)}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(d){typeof Array.prototype[d]=="function"&&(_r[d]=function(){var h=this[R];h.atom.reportObserved();var E=h.dehanceValues(h.values);return E[d].apply(E,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(d){typeof Array.prototype[d]=="function"&&(_r[d]=function(h,E){var D=this,F=this[R];F.atom.reportObserved();var V=F.dehanceValues(F.values);return V[d](function(fe,Ae){return h.call(E,fe,Ae,D)},E)})}),["reduce","reduceRight"].forEach(function(d){_r[d]=function(){var h=this,E=this[R];E.atom.reportObserved();var D=arguments[0];return arguments[0]=function(F,V,fe){return V=E.dehanceValue(V),D(F,V,fe,h)},E.values[d].apply(E.values,arguments)}});var jl=te("ObservableArrayAdministration",na);function zr(d){return I(d)&&jl(d[R])}var oa,ia={},ri=function(){function d(h,E,D){if(E===void 0&&(E=nt),D===void 0&&(D="ObservableMap@"+S()),this.enhancer=E,this.name=D,this[oa]=ia,this._keysAtom=ce(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(h)}return d.prototype._has=function(h){return this._data.has(h)},d.prototype.has=function(h){var E=this;if(!He.trackingDerivation)return this._has(h);var D=this._hasMap.get(h);if(!D){var F=D=new un(this._has(h),it,this.name+"."+U(h)+"?",!1);this._hasMap.set(h,F),ei(F,function(){return E._hasMap.delete(h)})}return D.get()},d.prototype.set=function(h,E){var D=this._has(h);if(Dr(this)){var F=jr(this,{type:D?"update":"add",object:this,newValue:E,name:h});if(!F)return this;E=F.newValue}return D?this._updateValue(h,E):this._addValue(h,E),this},d.prototype.delete=function(h){var E=this;if(Je(this._keysAtom),Dr(this)){var D=jr(this,{type:"delete",object:this,name:h});if(!D)return!1}if(this._has(h)){var F=Ct(),V=Or(this),D=V||F?{type:"delete",object:this,oldValue:this._data.get(h).value,name:h}:null;return Nr(function(){E._keysAtom.reportChanged(),E._updateHasMapEntry(h,!1);var Ae=E._data.get(h);Ae.setNewValue(void 0),E._data.delete(h)}),V&&rr(this,D),!0}return!1},d.prototype._updateHasMapEntry=function(h,E){var D=this._hasMap.get(h);D&&D.setNewValue(E)},d.prototype._updateValue=function(h,E){var D=this._data.get(h);if(E=D.prepareNewValue(E),E!==He.UNCHANGED){var F=Ct(),V=Or(this),fe=V||F?{type:"update",object:this,oldValue:D.value,name:h,newValue:E}:null;D.setNewValue(E),V&&rr(this,fe)}},d.prototype._addValue=function(h,E){var D=this;Je(this._keysAtom),Nr(function(){var Ae=new un(E,D.enhancer,D.name+"."+U(h),!1);D._data.set(h,Ae),E=Ae.value,D._updateHasMapEntry(h,!0),D._keysAtom.reportChanged()});var F=Ct(),V=Or(this),fe=V||F?{type:"add",object:this,name:h,newValue:E}:null;V&&rr(this,fe)},d.prototype.get=function(h){return this.has(h)?this.dehanceValue(this._data.get(h).get()):this.dehanceValue(void 0)},d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},d.prototype.values=function(){var h=this,E=this.keys();return Eo({next:function(){var D=E.next(),F=D.done,V=D.value;return{done:F,value:F?void 0:h.get(V)}}})},d.prototype.entries=function(){var h=this,E=this.keys();return Eo({next:function(){var D=E.next(),F=D.done,V=D.value;return{done:F,value:F?void 0:[V,h.get(V)]}}})},d.prototype[oa=R,Symbol.iterator]=function(){return this.entries()},d.prototype.forEach=function(h,E){var D,F;try{for(var V=Le(this),fe=V.next();!fe.done;fe=V.next()){var Ae=Ee(fe.value,2),Ue=Ae[0],dt=Ae[1];h.call(E,dt,Ue,this)}}catch(pt){D={error:pt}}finally{try{fe&&!fe.done&&(F=V.return)&&F.call(V)}finally{if(D)throw D.error}}},d.prototype.merge=function(h){var E=this;return $t(h)&&(h=h.toJS()),Nr(function(){var D=En(!0);try{z(h)?_(h).forEach(function(F){return E.set(F,h[F])}):Array.isArray(h)?h.forEach(function(F){var V=Ee(F,2),fe=V[0],Ae=V[1];return E.set(fe,Ae)}):Q(h)?(h.constructor!==Map&&P("Cannot initialize from classes that inherit from Map: "+h.constructor.name),h.forEach(function(F,V){return E.set(V,F)})):h!=null&&P("Cannot initialize map from "+h)}finally{Kn(D)}}),this},d.prototype.clear=function(){var h=this;Nr(function(){re(function(){var E,D;try{for(var F=Le(h.keys()),V=F.next();!V.done;V=F.next()){var fe=V.value;h.delete(fe)}}catch(Ae){E={error:Ae}}finally{try{V&&!V.done&&(D=F.return)&&D.call(F)}finally{if(E)throw E.error}}})})},d.prototype.replace=function(h){var E=this;return Nr(function(){var D,F,V,fe,Ae=X(h),Ue=new Map,dt=!1;try{for(var pt=Le(E._data.keys()),Et=pt.next();!Et.done;Et=pt.next()){var St=Et.value;if(!Ae.has(St)){var Lt=E.delete(St);if(Lt)dt=!0;else{var Yt=E._data.get(St);Ue.set(St,Yt)}}}}catch(ln){D={error:ln}}finally{try{Et&&!Et.done&&(F=pt.return)&&F.call(pt)}finally{if(D)throw D.error}}try{for(var Tt=Le(Ae.entries()),Sr=Tt.next();!Sr.done;Sr=Tt.next()){var Cn=Ee(Sr.value,2),St=Cn[0],Yt=Cn[1],va=E._data.has(St);if(E.set(St,Yt),E._data.has(St)){var ya=E._data.get(St);Ue.set(St,ya),va||(dt=!0)}}}catch(ln){V={error:ln}}finally{try{Sr&&!Sr.done&&(fe=Tt.return)&&fe.call(Tt)}finally{if(V)throw V.error}}if(!dt)if(E._data.size!==Ue.size)E._keysAtom.reportChanged();else for(var ga=E._data.keys(),ma=Ue.keys(),ii=ga.next(),Rn=ma.next();!ii.done;){if(ii.value!==Rn.value){E._keysAtom.reportChanged();break}ii=ga.next(),Rn=ma.next()}E._data=Ue}),this},Object.defineProperty(d.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),d.prototype.toPOJO=function(){var h,E,D={};try{for(var F=Le(this),V=F.next();!V.done;V=F.next()){var fe=Ee(V.value,2),Ae=fe[0],Ue=fe[1];D[typeof Ae=="symbol"?Ae:U(Ae)]=Ue}}catch(dt){h={error:dt}}finally{try{V&&!V.done&&(E=F.return)&&E.call(F)}finally{if(h)throw h.error}}return D},d.prototype.toJS=function(){return new Map(this)},d.prototype.toJSON=function(){return this.toPOJO()},d.prototype.toString=function(){var h=this;return this.name+"[{ "+Array.from(this.keys()).map(function(E){return U(E)+": "+(""+h.get(E))}).join(", ")+" }]"},d.prototype.observe=function(h,E){return qn(this,h)},d.prototype.intercept=function(h){return Qn(this,h)},d}(),$t=te("ObservableMap",ri),aa,Cl={},ua=function(){function d(h,E,D){if(E===void 0&&(E=nt),D===void 0&&(D="ObservableSet@"+S()),this.name=D,this[aa]=Cl,this._data=new Set,this._atom=ce(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(F,V){return E(F,V,D)},h&&this.replace(h)}return d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.clear=function(){var h=this;Nr(function(){re(function(){var E,D;try{for(var F=Le(h._data.values()),V=F.next();!V.done;V=F.next()){var fe=V.value;h.delete(fe)}}catch(Ae){E={error:Ae}}finally{try{V&&!V.done&&(D=F.return)&&D.call(F)}finally{if(E)throw E.error}}})})},d.prototype.forEach=function(h,E){var D,F;try{for(var V=Le(this),fe=V.next();!fe.done;fe=V.next()){var Ae=fe.value;h.call(E,Ae,Ae,this)}}catch(Ue){D={error:Ue}}finally{try{fe&&!fe.done&&(F=V.return)&&F.call(V)}finally{if(D)throw D.error}}},Object.defineProperty(d.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),d.prototype.add=function(h){var E=this;if(Je(this._atom),Dr(this)){var D=jr(this,{type:"add",object:this,newValue:h});if(!D)return this}if(!this.has(h)){Nr(function(){E._data.add(E.enhancer(h,void 0)),E._atom.reportChanged()});var F=Ct(),V=Or(this),D=V||F?{type:"add",object:this,newValue:h}:null;V&&rr(this,D)}return this},d.prototype.delete=function(h){var E=this;if(Dr(this)){var D=jr(this,{type:"delete",object:this,oldValue:h});if(!D)return!1}if(this.has(h)){var F=Ct(),V=Or(this),D=V||F?{type:"delete",object:this,oldValue:h}:null;return Nr(function(){E._atom.reportChanged(),E._data.delete(h)}),V&&rr(this,D),!0}return!1},d.prototype.has=function(h){return this._atom.reportObserved(),this._data.has(this.dehanceValue(h))},d.prototype.entries=function(){var h=0,E=Array.from(this.keys()),D=Array.from(this.values());return Eo({next:function(){var F=h;return h+=1,F<D.length?{value:[E[F],D[F]],done:!1}:{done:!0}}})},d.prototype.keys=function(){return this.values()},d.prototype.values=function(){this._atom.reportObserved();var h=this,E=0,D=Array.from(this._data.values());return Eo({next:function(){return E<D.length?{value:h.dehanceValue(D[E++]),done:!1}:{done:!0}}})},d.prototype.replace=function(h){var E=this;return hr(h)&&(h=h.toJS()),Nr(function(){var D=En(!0);try{Array.isArray(h)?(E.clear(),h.forEach(function(F){return E.add(F)})):ee(h)?(E.clear(),h.forEach(function(F){return E.add(F)})):h!=null&&P("Cannot initialize set from "+h)}finally{Kn(D)}}),this},d.prototype.observe=function(h,E){return qn(this,h)},d.prototype.intercept=function(h){return Qn(this,h)},d.prototype.toJS=function(){return new Set(this)},d.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},d.prototype[aa=R,Symbol.iterator]=function(){return this.values()},d}(),hr=te("ObservableSet",ua),sa=function(){function d(h,E,D,F){E===void 0&&(E=new Map),this.target=h,this.values=E,this.name=D,this.defaultEnhancer=F,this.keysAtom=new W(D+".keys")}return d.prototype.read=function(h){return this.values.get(h).get()},d.prototype.write=function(h,E){var D=this.target,F=this.values.get(h);if(F instanceof Sn){F.set(E);return}if(Dr(this)){var V=jr(this,{type:"update",object:this.proxy||D,name:h,newValue:E});if(!V)return;E=V.newValue}if(E=F.prepareNewValue(E),E!==He.UNCHANGED){var fe=Or(this),Ae=Ct(),V=fe||Ae?{type:"update",object:this.proxy||D,oldValue:F.value,name:h,newValue:E}:null;F.setNewValue(E),fe&&rr(this,V)}},d.prototype.has=function(h){var E=this.pendingKeys||(this.pendingKeys=new Map),D=E.get(h);if(D)return D.get();var F=!!this.values.get(h);return D=new un(F,it,this.name+"."+U(h)+"?",!1),E.set(h,D),D.get()},d.prototype.addObservableProp=function(h,E,D){D===void 0&&(D=this.defaultEnhancer);var F=this.target;if(Dr(this)){var V=jr(this,{object:this.proxy||F,name:h,type:"add",newValue:E});if(!V)return;E=V.newValue}var fe=new un(E,D,this.name+"."+U(h),!1);this.values.set(h,fe),E=fe.value,Object.defineProperty(F,h,Rl(h)),this.notifyPropertyAddition(h,E)},d.prototype.addComputedProp=function(h,E,D){var F=this.target;D.name=D.name||this.name+"."+U(E),this.values.set(E,new Sn(D)),(h===F||se(h,E))&&Object.defineProperty(h,E,Il(E))},d.prototype.remove=function(h){if(!!this.values.has(h)){var E=this.target;if(Dr(this)){var D=jr(this,{object:this.proxy||E,name:h,type:"remove"});if(!D)return}try{At();var F=Or(this),V=Ct(),fe=this.values.get(h),Ae=fe&&fe.get();if(fe&&fe.set(void 0),this.keysAtom.reportChanged(),this.values.delete(h),this.pendingKeys){var Ue=this.pendingKeys.get(h);Ue&&Ue.set(!1)}delete this.target[h];var D=F||V?{type:"remove",object:this.proxy||E,oldValue:Ae,name:h}:null;F&&rr(this,D)}finally{br()}}},d.prototype.illegalAccess=function(h,E){console.warn("Property '"+E+"' of '"+h+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},d.prototype.observe=function(h,E){return qn(this,h)},d.prototype.intercept=function(h){return Qn(this,h)},d.prototype.notifyPropertyAddition=function(h,E){var D=Or(this),F=Ct(),V=D||F?{type:"add",object:this.proxy||this.target,name:h,newValue:E}:null;if(D&&rr(this,V),this.pendingKeys){var fe=this.pendingKeys.get(h);fe&&fe.set(!0)}this.keysAtom.reportChanged()},d.prototype.getKeys=function(){var h,E;this.keysAtom.reportObserved();var D=[];try{for(var F=Le(this.values),V=F.next();!V.done;V=F.next()){var fe=Ee(V.value,2),Ae=fe[0],Ue=fe[1];Ue instanceof un&&D.push(Ae)}}catch(dt){h={error:dt}}finally{try{V&&!V.done&&(E=F.return)&&E.call(F)}finally{if(h)throw h.error}}return D},d}();function ni(d,h,E){if(h===void 0&&(h=""),E===void 0&&(E=nt),Object.prototype.hasOwnProperty.call(d,R))return d[R];z(d)||(h=(d.constructor.name||"ObservableObject")+"@"+S()),h||(h="ObservableObject@"+S());var D=new sa(d,new Map,U(h),E);return Y(d,R,D),D}var la=Object.create(null),fa=Object.create(null);function Rl(d){return la[d]||(la[d]={configurable:!0,enumerable:!0,get:function(){return this[R].read(d)},set:function(h){this[R].write(d,h)}})}function ca(d){var h=d[R];return h||(xe(d),d[R])}function Il(d){return fa[d]||(fa[d]={configurable:He.computedConfigurable,enumerable:!1,get:function(){return ca(this).read(d)},set:function(h){ca(this).write(d,h)}})}var Bl=te("ObservableObjectAdministration",sa);function Er(d){return I(d)?(xe(d),Bl(d[R])):!1}function Cr(d,h){if(typeof d=="object"&&d!==null){if(zr(d))return h!==void 0&&P(!1),d[R].atom;if(hr(d))return d[R];if($t(d)){var E=d;if(h===void 0)return E._keysAtom;var D=E._data.get(h)||E._hasMap.get(h);return D||P(!1),D}if(xe(d),h&&!d[R]&&d[h],Er(d)){if(!h)return P(!1);var D=d[R].values.get(h);return D||P(!1),D}if(Z(d)||xn(d)||yo(d))return d}else if(typeof d=="function"&&yo(d[R]))return d[R];return P(!1)}function eo(d,h){if(d||P("Expecting some object"),h!==void 0)return eo(Cr(d,h));if(Z(d)||xn(d)||yo(d)||$t(d)||hr(d))return d;if(xe(d),d[R])return d[R];P(!1)}function Ll(d,h){var E;return h!==void 0?E=Cr(d,h):Er(d)||$t(d)||hr(d)?E=eo(d):E=Cr(d),E.name}var da=Object.prototype.toString;function Oo(d,h,E){return E===void 0&&(E=-1),to(d,h,E)}function to(d,h,E,D,F){if(d===h)return d!==0||1/d===1/h;if(d==null||h==null)return!1;if(d!==d)return h!==h;var V=typeof d;if(V!=="function"&&V!=="object"&&typeof h!="object")return!1;var fe=da.call(d);if(fe!==da.call(h))return!1;switch(fe){case"[object RegExp]":case"[object String]":return""+d==""+h;case"[object Number]":return+d!=+d?+h!=+h:+d==0?1/+d===1/h:+d==+h;case"[object Date]":case"[object Boolean]":return+d==+h;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(d)===Symbol.valueOf.call(h);case"[object Map]":case"[object Set]":E>=0&&E++;break}d=pa(d),h=pa(h);var Ae=fe==="[object Array]";if(!Ae){if(typeof d!="object"||typeof h!="object")return!1;var Ue=d.constructor,dt=h.constructor;if(Ue!==dt&&!(typeof Ue=="function"&&Ue instanceof Ue&&typeof dt=="function"&&dt instanceof dt)&&"constructor"in d&&"constructor"in h)return!1}if(E===0)return!1;E<0&&(E=-1),D=D||[],F=F||[];for(var pt=D.length;pt--;)if(D[pt]===d)return F[pt]===h;if(D.push(d),F.push(h),Ae){if(pt=d.length,pt!==h.length)return!1;for(;pt--;)if(!to(d[pt],h[pt],E-1,D,F))return!1}else{var Et=Object.keys(d),St=void 0;if(pt=Et.length,Object.keys(h).length!==pt)return!1;for(;pt--;)if(St=Et[pt],!(_l(h,St)&&to(d[St],h[St],E-1,D,F)))return!1}return D.pop(),F.pop(),!0}function pa(d){return zr(d)?d.slice():Q(d)||$t(d)||ee(d)||hr(d)?Array.from(d.entries()):d}function _l(d,h){return Object.prototype.hasOwnProperty.call(d,h)}function Eo(d){return d[Symbol.iterator]=oi,d}function oi(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");try{}catch(d){var ha=po();typeof s=="undefined"&&(ha.process={}),ha.process.env={}}(function(){function d(){}if(d.name!=="testCodeMinification"&&!1)var h})(),typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Yi,extras:{getDebugName:Ll},$mobx:R})}).call(this,i(155),i(82))},function(u,c,i){i.d(c,"a",function(){return se}),i.d(c,"b",function(){return le}),i.d(c,"c",function(){return _e}),i.d(c,"d",function(){return Xe}),i.d(c,"e",function(){return z}),i.d(c,"f",function(){return Y}),i.d(c,"g",function(){return z}),i.d(c,"h",function(){return Ee}),i.d(c,"i",function(){return l}),i.d(c,"j",function(){return Le}),i.d(c,"k",function(){return w});var s,l,y,b,x,S,P,M={},A=[],j=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function C(k,$){for(var q in $)k[q]=$[q];return k}function I(k){var $=k.parentNode;$&&$.removeChild(k)}function z(k,$,q){var he,xe,pe,Ge={};for(pe in $)pe=="key"?he=$[pe]:pe=="ref"?xe=$[pe]:Ge[pe]=$[pe];if(arguments.length>2&&(Ge.children=arguments.length>3?s.call(arguments,2):q),typeof k=="function"&&k.defaultProps!=null)for(pe in k.defaultProps)Ge[pe]===void 0&&(Ge[pe]=k.defaultProps[pe]);return X(k,Ge,he,xe,null)}function X(k,$,q,he,xe){var pe={type:k,props:$,key:q,ref:he,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:xe==null?++y:xe};return xe==null&&l.vnode!=null&&l.vnode(pe),pe}function Y(){return{current:null}}function le(k){return k.children}function se(k,$){this.props=k,this.context=$}function te(k,$){if($==null)return k.__?te(k.__,k.__.__k.indexOf(k)+1):null;for(var q;$<k.__k.length;$++)if((q=k.__k[$])!=null&&q.__e!=null)return q.__e;return typeof k.type=="function"?te(k):null}function Q(k){var $,q;if((k=k.__)!=null&&k.__c!=null){for(k.__e=k.__c.base=null,$=0;$<k.__k.length;$++)if((q=k.__k[$])!=null&&q.__e!=null){k.__e=k.__c.base=q.__e;break}return Q(k)}}function ee(k){(!k.__d&&(k.__d=!0)&&b.push(k)&&!_.__r++||S!==l.debounceRendering)&&((S=l.debounceRendering)||x)(_)}function _(){for(var k;_.__r=b.length;)k=b.sort(function($,q){return $.__v.__b-q.__v.__b}),b=[],k.some(function($){var q,he,xe,pe,Ge,nt;$.__d&&(Ge=(pe=(q=$).__v).__e,(nt=q.__P)&&(he=[],(xe=C({},pe)).__v=pe.__v+1,be(nt,pe,xe,q.__n,nt.ownerSVGElement!==void 0,pe.__h!=null?[Ge]:null,he,Ge==null?te(pe):Ge,pe.__h),Se(he,pe),pe.__e!=Ge&&Q(pe)))})}function U(k,$,q,he,xe,pe,Ge,nt,We,it){var ve,lt,ot,ze,et,wt,vt,Ot=he&&he.__k||A,ae=Ot.length;for(q.__k=[],ve=0;ve<$.length;ve++)if((ze=q.__k[ve]=(ze=$[ve])==null||typeof ze=="boolean"?null:typeof ze=="string"||typeof ze=="number"||typeof ze=="bigint"?X(null,ze,null,null,ze):Array.isArray(ze)?X(le,{children:ze},null,null,null):ze.__b>0?X(ze.type,ze.props,ze.key,null,ze.__v):ze)!=null){if(ze.__=q,ze.__b=q.__b+1,(ot=Ot[ve])===null||ot&&ze.key==ot.key&&ze.type===ot.type)Ot[ve]=void 0;else for(lt=0;lt<ae;lt++){if((ot=Ot[lt])&&ze.key==ot.key&&ze.type===ot.type){Ot[lt]=void 0;break}ot=null}be(k,ze,ot=ot||M,xe,pe,Ge,nt,We,it),et=ze.__e,(lt=ze.ref)&&ot.ref!=lt&&(vt||(vt=[]),ot.ref&&vt.push(ot.ref,null,ze),vt.push(lt,ze.__c||et,ze)),et!=null?(wt==null&&(wt=et),typeof ze.type=="function"&&ze.__k===ot.__k?ze.__d=We=B(ze,We,k):We=R(k,ze,ot,Ot,et,We),typeof q.type=="function"&&(q.__d=We)):We&&ot.__e==We&&We.parentNode!=k&&(We=te(ot))}for(q.__e=wt,ve=ae;ve--;)Ot[ve]!=null&&(typeof q.type=="function"&&Ot[ve].__e!=null&&Ot[ve].__e==q.__d&&(q.__d=te(he,ve+1)),Fe(Ot[ve],Ot[ve]));if(vt)for(ve=0;ve<vt.length;ve++)we(vt[ve],vt[++ve],vt[++ve])}function B(k,$,q){for(var he,xe=k.__k,pe=0;xe&&pe<xe.length;pe++)(he=xe[pe])&&(he.__=k,$=typeof he.type=="function"?B(he,$,q):R(q,he,he,xe,he.__e,$));return $}function w(k,$){return $=$||[],k==null||typeof k=="boolean"||(Array.isArray(k)?k.some(function(q){w(q,$)}):$.push(k)),$}function R(k,$,q,he,xe,pe){var Ge,nt,We;if($.__d!==void 0)Ge=$.__d,$.__d=void 0;else if(q==null||xe!=pe||xe.parentNode==null)e:if(pe==null||pe.parentNode!==k)k.appendChild(xe),Ge=null;else{for(nt=pe,We=0;(nt=nt.nextSibling)&&We<he.length;We+=2)if(nt==xe)break e;k.insertBefore(xe,pe),Ge=pe}return Ge!==void 0?Ge:xe.nextSibling}function W(k,$,q,he,xe){var pe;for(pe in q)pe==="children"||pe==="key"||pe in $||ce(k,pe,null,q[pe],he);for(pe in $)xe&&typeof $[pe]!="function"||pe==="children"||pe==="key"||pe==="value"||pe==="checked"||q[pe]===$[pe]||ce(k,pe,$[pe],q[pe],he)}function Z(k,$,q){$[0]==="-"?k.setProperty($,q):k[$]=q==null?"":typeof q!="number"||j.test($)?q:q+"px"}function ce(k,$,q,he,xe){var pe;e:if($==="style")if(typeof q=="string")k.style.cssText=q;else{if(typeof he=="string"&&(k.style.cssText=he=""),he)for($ in he)q&&$ in q||Z(k.style,$,"");if(q)for($ in q)he&&q[$]===he[$]||Z(k.style,$,q[$])}else if($[0]==="o"&&$[1]==="n")pe=$!==($=$.replace(/Capture$/,"")),$=$.toLowerCase()in k?$.toLowerCase().slice(2):$.slice(2),k.l||(k.l={}),k.l[$+pe]=q,q?he||k.addEventListener($,pe?me:Pe,pe):k.removeEventListener($,pe?me:Pe,pe);else if($!=="dangerouslySetInnerHTML"){if(xe)$=$.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if($!=="href"&&$!=="list"&&$!=="form"&&$!=="tabIndex"&&$!=="download"&&$ in k)try{k[$]=q==null?"":q;break e}catch(Ge){}typeof q=="function"||(q!=null&&(q!==!1||$[0]==="a"&&$[1]==="r")?k.setAttribute($,q):k.removeAttribute($))}}function Pe(k){this.l[k.type+!1](l.event?l.event(k):k)}function me(k){this.l[k.type+!0](l.event?l.event(k):k)}function be(k,$,q,he,xe,pe,Ge,nt,We){var it,ve,lt,ot,ze,et,wt,vt,Ot,ae,jt,xt=$.type;if($.constructor!==void 0)return null;q.__h!=null&&(We=q.__h,nt=$.__e=q.__e,$.__h=null,pe=[nt]),(it=l.__b)&&it($);try{e:if(typeof xt=="function"){if(vt=$.props,Ot=(it=xt.contextType)&&he[it.__c],ae=it?Ot?Ot.props.value:it.__:he,q.__c?wt=(ve=$.__c=q.__c).__=ve.__E:("prototype"in xt&&xt.prototype.render?$.__c=ve=new xt(vt,ae):($.__c=ve=new se(vt,ae),ve.constructor=xt,ve.render=Ve),Ot&&Ot.sub(ve),ve.props=vt,ve.state||(ve.state={}),ve.context=ae,ve.__n=he,lt=ve.__d=!0,ve.__h=[]),ve.__s==null&&(ve.__s=ve.state),xt.getDerivedStateFromProps!=null&&(ve.__s==ve.state&&(ve.__s=C({},ve.__s)),C(ve.__s,xt.getDerivedStateFromProps(vt,ve.__s))),ot=ve.props,ze=ve.state,lt)xt.getDerivedStateFromProps==null&&ve.componentWillMount!=null&&ve.componentWillMount(),ve.componentDidMount!=null&&ve.__h.push(ve.componentDidMount);else{if(xt.getDerivedStateFromProps==null&&vt!==ot&&ve.componentWillReceiveProps!=null&&ve.componentWillReceiveProps(vt,ae),!ve.__e&&ve.shouldComponentUpdate!=null&&ve.shouldComponentUpdate(vt,ve.__s,ae)===!1||$.__v===q.__v){ve.props=vt,ve.state=ve.__s,$.__v!==q.__v&&(ve.__d=!1),ve.__v=$,$.__e=q.__e,$.__k=q.__k,$.__k.forEach(function(mt){mt&&(mt.__=$)}),ve.__h.length&&Ge.push(ve);break e}ve.componentWillUpdate!=null&&ve.componentWillUpdate(vt,ve.__s,ae),ve.componentDidUpdate!=null&&ve.__h.push(function(){ve.componentDidUpdate(ot,ze,et)})}ve.context=ae,ve.props=vt,ve.state=ve.__s,(it=l.__r)&&it($),ve.__d=!1,ve.__v=$,ve.__P=k,it=ve.render(ve.props,ve.state,ve.context),ve.state=ve.__s,ve.getChildContext!=null&&(he=C(C({},he),ve.getChildContext())),lt||ve.getSnapshotBeforeUpdate==null||(et=ve.getSnapshotBeforeUpdate(ot,ze)),jt=it!=null&&it.type===le&&it.key==null?it.props.children:it,U(k,Array.isArray(jt)?jt:[jt],$,q,he,xe,pe,Ge,nt,We),ve.base=$.__e,$.__h=null,ve.__h.length&&Ge.push(ve),wt&&(ve.__E=ve.__=null),ve.__e=!1}else pe==null&&$.__v===q.__v?($.__k=q.__k,$.__e=q.__e):$.__e=Oe(q.__e,$,q,he,xe,pe,Ge,We);(it=l.diffed)&&it($)}catch(mt){$.__v=null,(We||pe!=null)&&($.__e=nt,$.__h=!!We,pe[pe.indexOf(nt)]=null),l.__e(mt,$,q)}}function Se(k,$){l.__c&&l.__c($,k),k.some(function(q){try{k=q.__h,q.__h=[],k.some(function(he){he.call(q)})}catch(he){l.__e(he,q.__v)}})}function Oe(k,$,q,he,xe,pe,Ge,nt){var We,it,ve,lt=q.props,ot=$.props,ze=$.type,et=0;if(ze==="svg"&&(xe=!0),pe!=null){for(;et<pe.length;et++)if((We=pe[et])&&"setAttribute"in We==!!ze&&(ze?We.localName===ze:We.nodeType===3)){k=We,pe[et]=null;break}}if(k==null){if(ze===null)return document.createTextNode(ot);k=xe?document.createElementNS("http://www.w3.org/2000/svg",ze):document.createElement(ze,ot.is&&ot),pe=null,nt=!1}if(ze===null)lt===ot||nt&&k.data===ot||(k.data=ot);else{if(pe=pe&&s.call(k.childNodes),it=(lt=q.props||M).dangerouslySetInnerHTML,ve=ot.dangerouslySetInnerHTML,!nt){if(pe!=null)for(lt={},et=0;et<k.attributes.length;et++)lt[k.attributes[et].name]=k.attributes[et].value;(ve||it)&&(ve&&(it&&ve.__html==it.__html||ve.__html===k.innerHTML)||(k.innerHTML=ve&&ve.__html||""))}if(W(k,ot,lt,xe,nt),ve)$.__k=[];else if(et=$.props.children,U(k,Array.isArray(et)?et:[et],$,q,he,xe&&ze!=="foreignObject",pe,Ge,pe?pe[0]:q.__k&&te(q,0),nt),pe!=null)for(et=pe.length;et--;)pe[et]!=null&&I(pe[et]);nt||("value"in ot&&(et=ot.value)!==void 0&&(et!==lt.value||et!==k.value||ze==="progress"&&!et)&&ce(k,"value",et,lt.value,!1),"checked"in ot&&(et=ot.checked)!==void 0&&et!==k.checked&&ce(k,"checked",et,lt.checked,!1))}return k}function we(k,$,q){try{typeof k=="function"?k($):k.current=$}catch(he){l.__e(he,q)}}function Fe(k,$,q){var he,xe;if(l.unmount&&l.unmount(k),(he=k.ref)&&(he.current&&he.current!==k.__e||we(he,null,$)),(he=k.__c)!=null){if(he.componentWillUnmount)try{he.componentWillUnmount()}catch(pe){l.__e(pe,$)}he.base=he.__P=null}if(he=k.__k)for(xe=0;xe<he.length;xe++)he[xe]&&Fe(he[xe],$,typeof k.type!="function");q||k.__e==null||I(k.__e),k.__e=k.__d=void 0}function Ve(k,$,q){return this.constructor(k,q)}function Le(k,$,q){var he,xe,pe;l.__&&l.__(k,$),xe=(he=typeof q=="function")?null:q&&q.__k||$.__k,pe=[],be($,k=(!he&&q||$).__k=z(le,null,[k]),xe||M,M,$.ownerSVGElement!==void 0,!he&&q?[q]:xe?null:$.firstChild?s.call($.childNodes):null,pe,!he&&q?q:xe?xe.__e:$.firstChild,he),Se(pe,k)}function Ee(k,$){Le(k,$,Ee)}function _e(k,$,q){var he,xe,pe,Ge=C({},k.props);for(pe in $)pe=="key"?he=$[pe]:pe=="ref"?xe=$[pe]:Ge[pe]=$[pe];return arguments.length>2&&(Ge.children=arguments.length>3?s.call(arguments,2):q),X(k.type,Ge,he||k.key,xe||k.ref,null)}function Xe(k,$){var q={__c:$="__cC"+P++,__:k,Consumer:function(he,xe){return he.children(xe)},Provider:function(he){var xe,pe;return this.getChildContext||(xe=[],(pe={})[$]=this,this.getChildContext=function(){return pe},this.shouldComponentUpdate=function(Ge){this.props.value!==Ge.value&&xe.some(ee)},this.sub=function(Ge){xe.push(Ge);var nt=Ge.componentWillUnmount;Ge.componentWillUnmount=function(){xe.splice(xe.indexOf(Ge),1),nt&&nt.call(Ge)}}),he.children}};return q.Provider.__=q.Consumer.contextType=q}s=A.slice,l={__e:function(k,$){for(var q,he,xe;$=$.__;)if((q=$.__c)&&!q.__)try{if((he=q.constructor)&&he.getDerivedStateFromError!=null&&(q.setState(he.getDerivedStateFromError(k)),xe=q.__d),q.componentDidCatch!=null&&(q.componentDidCatch(k),xe=q.__d),xe)return q.__E=q}catch(pe){k=pe}throw k}},y=0,se.prototype.setState=function(k,$){var q;q=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=C({},this.state),typeof k=="function"&&(k=k(C({},q),this.props)),k&&C(q,k),k!=null&&this.__v&&($&&this.__h.push($),ee(this))},se.prototype.forceUpdate=function(k){this.__v&&(this.__e=!0,k&&this.__h.push(k),ee(this))},se.prototype.render=le,b=[],x=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,_.__r=0,P=0},function(u,c,i){var s=i(116),l=i(44),y=i(178);s||l(Object.prototype,"toString",y,{unsafe:!0})},function(u,c,i){var s=i(39),l=i(83),y=i(71),b=i(56),x=i(111),S="Array Iterator",P=b.set,M=b.getterFor(S);u.exports=x(Array,"Array",function(A,j){P(this,{type:S,target:s(A),index:0,kind:j})},function(){var A=M(this),j=A.target,C=A.kind,I=A.index++;return!j||I>=j.length?(A.target=void 0,{value:void 0,done:!0}):C=="keys"?{value:I,done:!1}:C=="values"?{value:j[I],done:!1}:{value:[I,j[I]],done:!1}},"values"),y.Arguments=y.Array,l("keys"),l("values"),l("entries")},function(u,c,i){var s=i(7),l=i(147),y=i(148),b=i(3),x=i(57),S=i(27),P=S("iterator"),M=S("toStringTag"),A=b.values,j=function(I,z){if(I){if(I[P]!==A)try{x(I,P,A)}catch(Y){I[P]=A}if(I[M]||x(I,M,z),l[z]){for(var X in b)if(I[X]!==b[X])try{x(I,X,b[X])}catch(Y){I[X]=b[X]}}}};for(var C in l)j(s[C]&&s[C].prototype,C);j(y,"DOMTokenList")},function(u,c,i){var s=i(16),l=i(7),y=i(46),b=i(77),x=i(35),S=i(15),P=i(65),M=i(36),A=i(109),j=i(18),C=i(34),I=i(99),z=i(28),X=i(33),Y=i(58),le=i(88),se=i(32),te=i(38),Q=i(39),ee=i(87),_=i(40),U=i(72),B=i(54),w=i(67),R=i(73),W=i(139),Z=i(112),ce=i(51),Pe=i(37),me=i(93),be=i(101),Se=i(44),Oe=i(84),we=i(91),Fe=i(70),Ve=i(85),Le=i(27),Ee=i(149),_e=i(150),Xe=i(74),k=i(56),$=i(75).forEach,q=we("hidden"),he="Symbol",xe="prototype",pe=Le("toPrimitive"),Ge=k.set,nt=k.getterFor(he),We=Object[xe],it=l.Symbol,ve=it&&it[xe],lt=l.TypeError,ot=l.QObject,ze=y("JSON","stringify"),et=ce.f,wt=Pe.f,vt=W.f,Ot=me.f,ae=S([].push),jt=Oe("symbols"),xt=Oe("op-symbols"),mt=Oe("string-to-symbol-registry"),Vt=Oe("symbol-to-string-registry"),mr=Oe("wks"),qt=!ot||!ot[xe]||!ot[xe].findChild,Mr=M&&j(function(){return B(wt({},"a",{get:function(){return wt(this,"a",{value:7}).a}})).a!=7})?function(re,ne,Te){var De=et(We,ne);De&&delete We[ne],wt(re,ne,Te),De&&re!==We&&wt(We,ne,De)}:wt,tt=function(re,ne){var Te=jt[re]=B(ve);return Ge(Te,{type:he,tag:re,description:ne}),M||(Te.description=ne),Te},Pt=function(ne,Te,De){ne===We&&Pt(xt,Te,De),se(ne);var $e=ee(Te);return se(De),C(jt,$e)?(De.enumerable?(C(ne,q)&&ne[q][$e]&&(ne[q][$e]=!1),De=B(De,{enumerable:U(0,!1)})):(C(ne,q)||wt(ne,q,U(1,{})),ne[q][$e]=!0),Mr(ne,$e,De)):wt(ne,$e,De)},ur=function(ne,Te){se(ne);var De=Q(Te),$e=w(De).concat(ct(De));return $($e,function(yt){(!M||x(Ye,De,yt))&&Pt(ne,yt,De[yt])}),ne},Ce=function(ne,Te){return Te===void 0?B(ne):ur(B(ne),Te)},Ye=function(ne){var Te=ee(ne),De=x(Ot,this,Te);return this===We&&C(jt,Te)&&!C(xt,Te)?!1:De||!C(this,Te)||!C(jt,Te)||C(this,q)&&this[q][Te]?De:!0},at=function(ne,Te){var De=Q(ne),$e=ee(Te);if(!(De===We&&C(jt,$e)&&!C(xt,$e))){var yt=et(De,$e);return yt&&C(jt,$e)&&!(C(De,q)&&De[q][$e])&&(yt.enumerable=!0),yt}},Je=function(ne){var Te=vt(Q(ne)),De=[];return $(Te,function($e){!C(jt,$e)&&!C(Fe,$e)&&ae(De,$e)}),De},ct=function(ne){var Te=ne===We,De=vt(Te?xt:Q(ne)),$e=[];return $(De,function(yt){C(jt,yt)&&(!Te||C(We,yt))&&ae($e,jt[yt])}),$e};if(A||(it=function(){if(Y(ve,this))throw lt("Symbol is not a constructor");var ne=!arguments.length||arguments[0]===void 0?void 0:_(arguments[0]),Te=Ve(ne),De=function($e){this===We&&x(De,xt,$e),C(this,q)&&C(this[q],Te)&&(this[q][Te]=!1),Mr(this,Te,U(1,$e))};return M&&qt&&Mr(We,Te,{configurable:!0,set:De}),tt(Te,ne)},ve=it[xe],Se(ve,"toString",function(){return nt(this).tag}),Se(it,"withoutSetter",function(re){return tt(Ve(re),re)}),me.f=Ye,Pe.f=Pt,ce.f=at,R.f=W.f=Je,Z.f=ct,Ee.f=function(re){return tt(Le(re),re)},M&&(wt(ve,"description",{configurable:!0,get:function(){return nt(this).description}}),P||Se(We,"propertyIsEnumerable",Ye,{unsafe:!0}))),s({global:!0,wrap:!0,forced:!A,sham:!A},{Symbol:it}),$(w(mr),function(re){_e(re)}),s({target:he,stat:!0,forced:!A},{for:function(re){var ne=_(re);if(C(mt,ne))return mt[ne];var Te=it(ne);return mt[ne]=Te,Vt[Te]=ne,Te},keyFor:function(ne){if(!le(ne))throw lt(ne+" is not a symbol");if(C(Vt,ne))return Vt[ne]},useSetter:function(){qt=!0},useSimple:function(){qt=!1}}),s({target:"Object",stat:!0,forced:!A,sham:!M},{create:Ce,defineProperty:Pt,defineProperties:ur,getOwnPropertyDescriptor:at}),s({target:"Object",stat:!0,forced:!A},{getOwnPropertyNames:Je,getOwnPropertySymbols:ct}),s({target:"Object",stat:!0,forced:j(function(){Z.f(1)})},{getOwnPropertySymbols:function(ne){return Z.f(te(ne))}}),ze){var H=!A||j(function(){var re=it();return ze([re])!="[null]"||ze({a:re})!="{}"||ze(Object(re))!="{}"});s({target:"JSON",stat:!0,forced:H},{stringify:function(ne,Te,De){var $e=be(arguments),yt=Te;if(!(!X(Te)&&ne===void 0||le(ne)))return I(Te)||(Te=function(er,tr){if(z(yt)&&(tr=x(yt,this,er,tr)),!le(tr))return tr}),$e[1]=Te,b(ze,null,$e)}})}if(!ve[pe]){var J=ve.valueOf;Se(ve,pe,function(re){return x(J,this)})}Xe(it,he),Fe[q]=!0},function(u,c,i){var s=i(146).charAt,l=i(40),y=i(56),b=i(111),x="String Iterator",S=y.set,P=y.getterFor(x);b(String,"String",function(M){S(this,{type:x,string:l(M),index:0})},function(){var A=P(this),j=A.string,C=A.index,I;return C>=j.length?{value:void 0,done:!0}:(I=s(j,C),A.index+=I.length,{value:I,done:!1})})},function(u,c,i){(function(s){var l=function(y){return y&&y.Math==Math&&y};u.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof s=="object"&&s)||function(){return this}()||Function("return this")()}).call(this,i(82))},function(u,c,i){var s=i(16),l=i(36),y=i(7),b=i(15),x=i(34),S=i(28),P=i(58),M=i(40),A=i(37).f,j=i(134),C=y.Symbol,I=C&&C.prototype;if(l&&S(C)&&(!("description"in I)||C().description!==void 0)){var z={},X=function(){var U=arguments.length<1||arguments[0]===void 0?void 0:M(arguments[0]),B=P(I,this)?new C(U):U===void 0?C():C(U);return U===""&&(z[B]=!0),B};j(X,C),X.prototype=I,I.constructor=X;var Y=String(C("test"))=="Symbol(test)",le=b(I.toString),se=b(I.valueOf),te=/^Symbol\((.*)\)[^)]+$/,Q=b("".replace),ee=b("".slice);A(I,"description",{configurable:!0,get:function(){var U=se(this),B=le(U);if(x(z,U))return"";var w=Y?ee(B,7,-1):Q(B,te,"$1");return w===""?void 0:w}}),s({global:!0,forced:!0},{Symbol:X})}},function(u,c,i){var s=i(150);s("iterator")},function(u,c,i){i.d(c,"a",function(){return s.a}),i.d(c,"c",function(){return s.e}),i.d(c,"h",function(){return ee}),i.d(c,"i",function(){return Y}),i.d(c,"j",function(){return z}),i.d(c,"b",function(){return Se}),i.d(c,"e",function(){return Ve}),i.d(c,"f",function(){return Oe}),i.d(c,"g",function(){return Ye});var s=i(1),l,y,b,x=0,S=[],P=s.i.__b,M=s.i.__r,A=s.i.diffed,j=s.i.__c,C=s.i.unmount;function I(H,J){s.i.__h&&s.i.__h(y,H,x||J),x=0;var re=y.__H||(y.__H={__:[],__h:[]});return H>=re.__.length&&re.__.push({}),re.__[H]}function z(H){return x=1,X(Pe,H)}function X(H,J,re){var ne=I(l++,2);return ne.t=H,ne.__c||(ne.__=[re?re(J):Pe(void 0,J),function(Te){var De=ne.t(ne.__[0],Te);ne.__[0]!==De&&(ne.__=[De,ne.__[1]],ne.__c.setState({}))}],ne.__c=y),ne.__}function Y(H,J){var re=I(l++,3);!s.i.__s&&ce(re.__H,J)&&(re.__=H,re.__H=J,y.__H.__h.push(re))}function le(H,J){var re=I(l++,4);!s.i.__s&&ce(re.__H,J)&&(re.__=H,re.__H=J,y.__h.push(re))}function se(H){return x=5,Q(function(){return{current:H}},[])}function te(H,J,re){x=6,le(function(){typeof H=="function"?H(J()):H&&(H.current=J())},re==null?re:re.concat(H))}function Q(H,J){var re=I(l++,7);return ce(re.__H,J)&&(re.__=H(),re.__H=J,re.__h=H),re.__}function ee(H,J){return x=8,Q(function(){return H},J)}function _(H){var J=y.context[H.__c],re=I(l++,9);return re.c=H,J?(re.__==null&&(re.__=!0,J.sub(y)),J.props.value):H.__}function U(H,J){s.i.useDebugValue&&s.i.useDebugValue(J?J(H):H)}function B(){var H;for(S.sort(function(J,re){return J.__v.__b-re.__v.__b});H=S.pop();)if(H.__P)try{H.__H.__h.forEach(W),H.__H.__h.forEach(Z),H.__H.__h=[]}catch(J){H.__H.__h=[],s.i.__e(J,H.__v)}}s.i.__b=function(H){y=null,P&&P(H)},s.i.__r=function(H){M&&M(H),l=0;var J=(y=H.__c).__H;J&&(J.__h.forEach(W),J.__h.forEach(Z),J.__h=[])},s.i.diffed=function(H){A&&A(H);var J=H.__c;J&&J.__H&&J.__H.__h.length&&(S.push(J)!==1&&b===s.i.requestAnimationFrame||((b=s.i.requestAnimationFrame)||R)(B)),y=null},s.i.__c=function(H,J){J.some(function(re){try{re.__h.forEach(W),re.__h=re.__h.filter(function(ne){return!ne.__||Z(ne)})}catch(ne){J.some(function(Te){Te.__h&&(Te.__h=[])}),J=[],s.i.__e(ne,re.__v)}}),j&&j(H,J)},s.i.unmount=function(H){C&&C(H);var J,re=H.__c;re&&re.__H&&(re.__H.__.forEach(function(ne){try{W(ne)}catch(Te){J=Te}}),J&&s.i.__e(J,re.__v))};var w=typeof requestAnimationFrame=="function";function R(H){var J,re=function(){clearTimeout(ne),w&&cancelAnimationFrame(J),setTimeout(H)},ne=setTimeout(re,100);w&&(J=requestAnimationFrame(re))}function W(H){var J=y,re=H.__c;typeof re=="function"&&(H.__c=void 0,re()),y=J}function Z(H){var J=y;H.__c=H.__(),y=J}function ce(H,J){return!H||H.length!==J.length||J.some(function(re,ne){return re!==H[ne]})}function Pe(H,J){return typeof J=="function"?J(H):J}function me(H,J){for(var re in J)H[re]=J[re];return H}function be(H,J){for(var re in H)if(re!=="__source"&&!(re in J))return!0;for(var ne in J)if(ne!=="__source"&&H[ne]!==J[ne])return!0;return!1}function Se(H){this.props=H}function Oe(H,J){function re(Te){var De=this.props.ref,$e=De==Te.ref;return!$e&&De&&(De.call?De(null):De.current=null),J?!J(this.props,Te)||!$e:be(this.props,Te)}function ne(Te){return this.shouldComponentUpdate=re,Object(s.e)(H,Te)}return ne.displayName="Memo("+(H.displayName||H.name)+")",ne.prototype.isReactComponent=!0,ne.__f=!0,ne}(Se.prototype=new s.a).isPureReactComponent=!0,Se.prototype.shouldComponentUpdate=function(H,J){return be(this.props,H)||be(this.state,J)};var we=s.i.__b;s.i.__b=function(H){H.type&&H.type.__f&&H.ref&&(H.props.ref=H.ref,H.ref=null),we&&we(H)};var Fe=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Ve(H){function J(re,ne){var Te=me({},re);return delete Te.ref,H(Te,!(ne=re.ref||ne)||typeof ne=="object"&&!("current"in ne)?null:ne)}return J.$$typeof=Fe,J.render=J,J.prototype.isReactComponent=J.__f=!0,J.displayName="ForwardRef("+(H.displayName||H.name)+")",J}var Le=function(H,J){return H==null?null:Object(s.k)(Object(s.k)(H).map(J))},Ee={map:Le,forEach:Le,count:function(H){return H?Object(s.k)(H).length:0},only:function(H){var J=Object(s.k)(H);if(J.length!==1)throw"Children.only";return J[0]},toArray:s.k},_e=s.i.__e;s.i.__e=function(H,J,re){if(H.then){for(var ne,Te=J;Te=Te.__;)if((ne=Te.__c)&&ne.__c)return J.__e==null&&(J.__e=re.__e,J.__k=re.__k),ne.__c(H,J)}_e(H,J,re)};var Xe=s.i.unmount;function k(H,J,re){return H&&(H.__c&&H.__c.__H&&(H.__c.__H.__.forEach(function(ne){typeof ne.__c=="function"&&ne.__c()}),H.__c.__H=null),(H=me({},H)).__c!=null&&(H.__c.__P===re&&(H.__c.__P=J),H.__c=null),H.__k=H.__k&&H.__k.map(function(ne){return k(ne,J,re)})),H}function $(H,J,re){return H&&(H.__v=null,H.__k=H.__k&&H.__k.map(function(ne){return $(ne,J,re)}),H.__c&&H.__c.__P===J&&(H.__e&&re.insertBefore(H.__e,H.__d),H.__c.__e=!0,H.__c.__P=re)),H}function q(){this.__u=0,this.t=null,this.__b=null}function he(H){var J=H.__.__c;return J&&J.__e&&J.__e(H)}function xe(H){var J,re,ne;function Te(De){if(J||(J=H()).then(function($e){re=$e.default||$e},function($e){ne=$e}),ne)throw ne;if(!re)throw J;return Object(s.e)(re,De)}return Te.displayName="Lazy",Te.__f=!0,Te}function pe(){this.u=null,this.o=null}s.i.unmount=function(H){var J=H.__c;J&&J.__R&&J.__R(),J&&H.__h===!0&&(H.type=null),Xe&&Xe(H)},(q.prototype=new s.a).__c=function(H,J){var re=J.__c,ne=this;ne.t==null&&(ne.t=[]),ne.t.push(re);var Te=he(ne.__v),De=!1,$e=function(){De||(De=!0,re.__R=null,Te?Te(yt):yt())};re.__R=$e;var yt=function(){if(!--ne.__u){if(ne.state.__e){var tr=ne.state.__e;ne.__v.__k[0]=$(tr,tr.__c.__P,tr.__c.__O)}var Wn;for(ne.setState({__e:ne.__b=null});Wn=ne.t.pop();)Wn.forceUpdate()}},er=J.__h===!0;ne.__u++||er||ne.setState({__e:ne.__b=ne.__v.__k[0]}),H.then($e,$e)},q.prototype.componentWillUnmount=function(){this.t=[]},q.prototype.render=function(H,J){if(this.__b){if(this.__v.__k){var re=document.createElement("div"),ne=this.__v.__k[0].__c;this.__v.__k[0]=k(this.__b,re,ne.__O=ne.__P)}this.__b=null}var Te=J.__e&&Object(s.e)(s.b,null,H.fallback);return Te&&(Te.__h=null),[Object(s.e)(s.b,null,J.__e?null:H.children),Te]};var Ge=function(H,J,re){if(++re[1]===re[0]&&H.o.delete(J),H.props.revealOrder&&(H.props.revealOrder[0]!=="t"||!H.o.size))for(re=H.u;re;){for(;re.length>3;)re.pop()();if(re[1]<re[0])break;H.u=re=re[2]}};function nt(H){return this.getChildContext=function(){return H.context},H.children}function We(H){var J=this,re=H.i;J.componentWillUnmount=function(){Object(s.j)(null,J.l),J.l=null,J.i=null},J.i&&J.i!==re&&J.componentWillUnmount(),H.__v?(J.l||(J.i=re,J.l={nodeType:1,parentNode:re,childNodes:[],appendChild:function(ne){this.childNodes.push(ne),J.i.appendChild(ne)},insertBefore:function(ne,Te){this.childNodes.push(ne),J.i.appendChild(ne)},removeChild:function(ne){this.childNodes.splice(this.childNodes.indexOf(ne)>>>1,1),J.i.removeChild(ne)}}),Object(s.j)(Object(s.e)(nt,{context:J.context},H.__v),J.l)):J.l&&J.componentWillUnmount()}function it(H,J){return Object(s.e)(We,{__v:H,i:J})}(pe.prototype=new s.a).__e=function(H){var J=this,re=he(J.__v),ne=J.o.get(H);return ne[0]++,function(Te){var De=function(){J.props.revealOrder?(ne.push(Te),Ge(J,H,ne)):Te()};re?re(De):De()}},pe.prototype.render=function(H){this.u=null,this.o=new Map;var J=Object(s.k)(H.children);H.revealOrder&&H.revealOrder[0]==="b"&&J.reverse();for(var re=J.length;re--;)this.o.set(J[re],this.u=[1,0,this.u]);return H.children},pe.prototype.componentDidUpdate=pe.prototype.componentDidMount=function(){var H=this;this.o.forEach(function(J,re){Ge(H,re,J)})};var ve=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,lt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ot=typeof document!="undefined",ze=function(H){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(H)};function et(H,J,re){return J.__k==null&&(J.textContent=""),Object(s.j)(H,J),typeof re=="function"&&re(),H?H.__c:null}function wt(H,J,re){return Object(s.h)(H,J),typeof re=="function"&&re(),H?H.__c:null}s.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(H){Object.defineProperty(s.a.prototype,H,{configurable:!0,get:function(){return this["UNSAFE_"+H]},set:function(J){Object.defineProperty(this,H,{configurable:!0,writable:!0,value:J})}})});var vt=s.i.event;function Ot(){}function ae(){return this.cancelBubble}function jt(){return this.defaultPrevented}s.i.event=function(H){return vt&&(H=vt(H)),H.persist=Ot,H.isPropagationStopped=ae,H.isDefaultPrevented=jt,H.nativeEvent=H};var xt,mt={configurable:!0,get:function(){return this.class}},Vt=s.i.vnode;s.i.vnode=function(H){var J=H.type,re=H.props,ne=re;if(typeof J=="string"){var Te=J.indexOf("-")===-1;for(var De in ne={},re){var $e=re[De];ot&&De==="children"&&J==="noscript"||De==="value"&&"defaultValue"in re&&$e==null||(De==="defaultValue"&&"value"in re&&re.value==null?De="value":De==="download"&&$e===!0?$e="":/ondoubleclick/i.test(De)?De="ondblclick":/^onchange(textarea|input)/i.test(De+J)&&!ze(re.type)?De="oninput":/^onfocus$/i.test(De)?De="onfocusin":/^onblur$/i.test(De)?De="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(De)?De=De.toLowerCase():Te&&lt.test(De)?De=De.replace(/[A-Z0-9]/,"-$&").toLowerCase():$e===null&&($e=void 0),ne[De]=$e)}J=="select"&&ne.multiple&&Array.isArray(ne.value)&&(ne.value=Object(s.k)(re.children).forEach(function(yt){yt.props.selected=ne.value.indexOf(yt.props.value)!=-1})),J=="select"&&ne.defaultValue!=null&&(ne.value=Object(s.k)(re.children).forEach(function(yt){yt.props.selected=ne.multiple?ne.defaultValue.indexOf(yt.props.value)!=-1:ne.defaultValue==yt.props.value})),H.props=ne,re.class!=re.className&&(mt.enumerable="className"in re,re.className!=null&&(ne.class=re.className),Object.defineProperty(ne,"className",mt))}H.$$typeof=ve,Vt&&Vt(H)};var mr=s.i.__r;s.i.__r=function(H){mr&&mr(H),xt=H.__c};var qt={ReactCurrentDispatcher:{current:{readContext:function(H){return xt.__n[H.__c].props.value}}}};function Mr(H){return s.e.bind(null,H)}function tt(H){return!!H&&H.$$typeof===ve}function Pt(H){return tt(H)?s.c.apply(null,arguments):H}function ur(H){return!!H.__k&&(Object(s.j)(null,H),!0)}function Ce(H){return H&&(H.base||H.nodeType===1&&H)||null}var Ye=function(H,J){return H(J)},at=function(H,J){return H(J)},Je=s.b,ct={useState:z,useReducer:X,useEffect:Y,useLayoutEffect:le,useRef:se,useImperativeHandle:te,useMemo:Q,useCallback:ee,useContext:_,useDebugValue:U,version:"17.0.2",Children:Ee,render:et,hydrate:wt,unmountComponentAtNode:ur,createPortal:it,createElement:s.e,createContext:s.d,createFactory:Mr,cloneElement:Pt,createRef:s.f,Fragment:s.b,isValidElement:tt,findDOMNode:Ce,Component:s.a,PureComponent:Se,memo:Oe,forwardRef:Ve,flushSync:at,unstable_batchedUpdates:Ye,StrictMode:Je,Suspense:q,SuspenseList:pe,lazy:xe,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:qt};c.d=ct},function(u,c,i){var s=i(7),l=i(147),y=i(148),b=i(179),x=i(57),S=function(M){if(M&&M.forEach!==b)try{x(M,"forEach",b)}catch(A){M.forEach=b}};for(var P in l)l[P]&&S(s[P]&&s[P].prototype);S(y)},function(u,c,i){var s=i(16),l=i(97);s({target:"Object",stat:!0},{setPrototypeOf:l})},function(u,c,i){var s=i(16),l=i(18),y=i(38),b=i(96),x=i(137),S=l(function(){b(1)});s({target:"Object",stat:!0,forced:S,sham:!x},{getPrototypeOf:function(M){return b(y(M))}})},function(u,c,i){var s=i(16),l=i(46),y=i(77),b=i(199),x=i(157),S=i(32),P=i(33),M=i(54),A=i(18),j=l("Reflect","construct"),C=Object.prototype,I=[].push,z=A(function(){function le(){}return!(j(function(){},[],le)instanceof le)}),X=!A(function(){j(function(){})}),Y=z||X;s({target:"Reflect",stat:!0,forced:Y,sham:Y},{construct:function(se,te){x(se),S(te);var Q=arguments.length<3?se:x(arguments[2]);if(X&&!z)return j(se,te,Q);if(se==Q){switch(te.length){case 0:return new se;case 1:return new se(te[0]);case 2:return new se(te[0],te[1]);case 3:return new se(te[0],te[1],te[2]);case 4:return new se(te[0],te[1],te[2],te[3])}var ee=[null];return y(I,ee,te),new(y(b,se,ee))}var _=Q.prototype,U=M(P(_)?_:C),B=y(se,U,te);return P(B)?B:U}})},function(u,c){var i=Function.prototype,s=i.bind,l=i.call,y=s&&s.bind(l);u.exports=s?function(b){return b&&y(l,b)}:function(b){return b&&function(){return l.apply(b,arguments)}}},function(u,c,i){var s=i(7),l=i(51).f,y=i(57),b=i(44),x=i(108),S=i(134),P=i(95);u.exports=function(M,A){var j=M.target,C=M.global,I=M.stat,z,X,Y,le,se,te;if(C?X=s:I?X=s[j]||x(j,{}):X=(s[j]||{}).prototype,X)for(Y in A){if(se=A[Y],M.noTargetGet?(te=l(X,Y),le=te&&te.value):le=X[Y],z=P(C?Y:j+(I?".":"#")+Y,M.forced),!z&&le!==void 0){if(typeof se==typeof le)continue;S(se,le)}(M.sham||le&&le.sham)&&y(se,"sham",!0),b(X,Y,se,M)}}},function(u,c,i){var s=i(16),l=i(7),y=i(99),b=i(100),x=i(33),S=i(68),P=i(43),M=i(39),A=i(61),j=i(27),C=i(76),I=i(101),z=C("slice"),X=j("species"),Y=l.Array,le=Math.max;s({target:"Array",proto:!0,forced:!z},{slice:function(te,Q){var ee=M(this),_=P(ee),U=S(te,_),B=S(Q===void 0?_:Q,_),w,R,W;if(y(ee)&&(w=ee.constructor,b(w)&&(w===Y||y(w.prototype))?w=void 0:x(w)&&(w=w[X],w===null&&(w=void 0)),w===Y||w===void 0))return I(ee,U,B);for(R=new(w===void 0?Y:w)(le(B-U,0)),W=0;U<B;U++,W++)U in ee&&A(R,W,ee[U]);return R.length=W,R}})},function(u,c){u.exports=function(i){try{return!!i()}catch(s){return!0}}},function(u,c,i){var s=i(16),l=i(102);s({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},function(u,c,i){var s=i(16),l=i(38),y=i(67),b=i(18),x=b(function(){y(1)});s({target:"Object",stat:!0,forced:x},{keys:function(P){return y(l(P))}})},function(u,c,i){var s=i(16),l=i(18),y=i(39),b=i(51).f,x=i(36),S=l(function(){b(1)}),P=!x||S;s({target:"Object",stat:!0,forced:P,sham:!x},{getOwnPropertyDescriptor:function(A,j){return b(y(A),j)}})},function(u,c,i){var s=i(16),l=i(75).filter,y=i(76),b=y("filter");s({target:"Array",proto:!0,forced:!b},{filter:function(S){return l(this,S,arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){var s=i(36),l=i(94).EXISTS,y=i(15),b=i(37).f,x=Function.prototype,S=y(x.toString),P=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,M=y(P.exec),A="name";s&&!l&&b(x,A,{configurable:!0,get:function(){try{return M(P,S(this))[1]}catch(j){return""}}})},function(u,c,i){var s=i(16),l=i(36),y=i(135),b=i(39),x=i(51),S=i(61);s({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(M){for(var A=b(M),j=x.f,C=y(A),I={},z=0,X,Y;C.length>z;)Y=j(A,X=C[z++]),Y!==void 0&&S(I,X,Y);return I}})},function(u,c,i){var s=i(16),l=i(182),y=i(118),b=!y(function(x){Array.from(x)});s({target:"Array",stat:!0,forced:b},{from:l})},,function(u,c,i){var s=i(7),l=i(84),y=i(34),b=i(85),x=i(109),S=i(128),P=l("wks"),M=s.Symbol,A=M&&M.for,j=S?M:M&&M.withoutSetter||b;u.exports=function(C){if(!y(P,C)||!(x||typeof P[C]=="string")){var I="Symbol."+C;x&&y(M,C)?P[C]=M[C]:S&&A?P[C]=A(I):P[C]=j(I)}return P[C]}},function(u,c){u.exports=function(i){return typeof i=="function"}},function(u,c,i){var s=i(16),l=i(7),y=i(18),b=i(99),x=i(33),S=i(38),P=i(43),M=i(61),A=i(119),j=i(76),C=i(27),I=i(66),z=C("isConcatSpreadable"),X=9007199254740991,Y="Maximum allowed index exceeded",le=l.TypeError,se=I>=51||!y(function(){var _=[];return _[z]=!1,_.concat()[0]!==_}),te=j("concat"),Q=function(_){if(!x(_))return!1;var U=_[z];return U!==void 0?!!U:b(_)},ee=!se||!te;s({target:"Array",proto:!0,forced:ee},{concat:function(U){var B=S(this),w=A(B,0),R=0,W,Z,ce,Pe,me;for(W=-1,ce=arguments.length;W<ce;W++)if(me=W===-1?B:arguments[W],Q(me)){if(Pe=P(me),R+Pe>X)throw le(Y);for(Z=0;Z<Pe;Z++,R++)Z in me&&M(w,R,me[Z])}else{if(R>=X)throw le(Y);M(w,R++,me)}return w.length=R,w}})},function(u,c,i){var s=i(16),l=i(198);s({target:"Object",stat:!0,forced:Object.assign!==l},{assign:l})},function(u,c,i){var s=i(105),l=typeof self=="object"&&self&&self.Object===Object&&self,y=s.a||l||Function("return this")();c.a=y},function(u,c,i){var s=i(7),l=i(33),y=s.String,b=s.TypeError;u.exports=function(x){if(l(x))return x;throw b(y(x)+" is not an object")}},function(u,c,i){var s=i(28);u.exports=function(l){return typeof l=="object"?l!==null:s(l)}},function(u,c,i){var s=i(15),l=i(38),y=s({}.hasOwnProperty);u.exports=Object.hasOwn||function(x,S){return y(l(x),S)}},function(u,c){var i=Function.prototype.call;u.exports=i.bind?i.bind(i):function(){return i.apply(i,arguments)}},function(u,c,i){var s=i(18);u.exports=!s(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(u,c,i){var s=i(7),l=i(36),y=i(129),b=i(32),x=i(87),S=s.TypeError,P=Object.defineProperty;c.f=l?P:function(A,j,C){if(b(A),j=x(j),b(C),y)try{return P(A,j,C)}catch(I){}if("get"in C||"set"in C)throw S("Accessors not supported");return"value"in C&&(A[j]=C.value),A}},function(u,c,i){var s=i(7),l=i(45),y=s.Object;u.exports=function(b){return y(l(b))}},function(u,c,i){var s=i(81),l=i(45);u.exports=function(y){return s(l(y))}},function(u,c,i){var s=i(7),l=i(98),y=s.String;u.exports=function(b){if(l(b)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return y(b)}},function(u,c,i){var s=i(16),l=i(75).map,y=i(76),b=y("map");s({target:"Array",proto:!0,forced:!b},{map:function(S){return l(this,S,arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){(function(s){i.d(c,"d",function(){return b}),i.d(c,"c",function(){return x}),i.d(c,"b",function(){return S}),i.d(c,"a",function(){return M});var l=i(10),y=function(A,j){var C=typeof Symbol=="function"&&A[Symbol.iterator];if(!C)return A;var I=C.call(A),z,X=[],Y;try{for(;(j===void 0||j-- >0)&&!(z=I.next()).done;)X.push(z.value)}catch(le){Y={error:le}}finally{try{z&&!z.done&&(C=I.return)&&C.call(I)}finally{if(Y)throw Y.error}}return X};function b(){var A=y(Object(l.j)(0),2),j=A[1],C=Object(l.h)(function(){j(function(I){return I+1})},[]);return C}function x(A){if(!A||typeof A!="object")return!1;var j=Object.getPrototypeOf(A);return!j||j===Object.prototype}function S(A){return typeof Symbol=="function"?Symbol.for(A):"__$mobx-react "+A+"__"}var P={};function M(){return typeof window!="undefined"?window:typeof s!="undefined"?s:typeof self!="undefined"?self:P}}).call(this,i(82))},function(u,c,i){var s=i(90);u.exports=function(l){return s(l.length)}},function(u,c,i){var s=i(7),l=i(28),y=i(34),b=i(57),x=i(108),S=i(92),P=i(56),M=i(94).CONFIGURABLE,A=P.get,j=P.enforce,C=String(String).split("String");(u.exports=function(I,z,X,Y){var le=Y?!!Y.unsafe:!1,se=Y?!!Y.enumerable:!1,te=Y?!!Y.noTargetGet:!1,Q=Y&&Y.name!==void 0?Y.name:z,ee;if(l(X)&&(String(Q).slice(0,7)==="Symbol("&&(Q="["+String(Q).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!y(X,"name")||M&&X.name!==Q)&&b(X,"name",Q),ee=j(X),ee.source||(ee.source=C.join(typeof Q=="string"?Q:""))),I===s){se?I[z]=X:x(z,X);return}else le?!te&&I[z]&&(se=!0):delete I[z];se?I[z]=X:b(I,z,X)})(Function.prototype,"toString",function(){return l(this)&&A(this).source||S(this)})},function(u,c,i){var s=i(7),l=s.TypeError;u.exports=function(y){if(y==null)throw l("Can't call method on "+y);return y}},function(u,c,i){var s=i(7),l=i(28),y=function(b){return l(b)?b:void 0};u.exports=function(b,x){return arguments.length<2?y(s[b]):s[b]&&s[b][x]}},function(u,c,i){var s=i(16),l=i(35),y=i(33),b=i(32),x=i(200),S=i(51),P=i(96);function M(A,j){var C=arguments.length<3?A:arguments[2],I,z;if(b(A)===C)return A[j];if(I=S.f(A,j),I)return x(I)?I.value:I.get===void 0?void 0:l(I.get,C);if(y(z=P(A)))return M(z,j,C)}s({target:"Reflect",stat:!0},{get:M})},function(u,c,i){(function(s){var l=i(31),y=i(165),b=v&&!v.nodeType&&v,x=b&&typeof s=="object"&&s&&!s.nodeType&&s,S=x&&x.exports===b,P=S?l.a.Buffer:void 0,M=P?P.isBuffer:void 0,A=M||y.a;c.a=A}).call(this,i(121)(u))},function(u,c,i){(function(s){var l=i(105),y=v&&!v.nodeType&&v,b=y&&typeof s=="object"&&s&&!s.nodeType&&s,x=b&&b.exports===y,S=x&&l.a.process,P=function(){try{var M=b&&b.require&&b.require("util").types;return M||S&&S.binding&&S.binding("util")}catch(A){}}();c.a=P}).call(this,i(121)(u))},function(u,c,i){var s=i(15),l=s({}.toString),y=s("".slice);u.exports=function(b){return y(l(b),8,-1)}},function(u,c,i){var s=i(36),l=i(35),y=i(93),b=i(72),x=i(39),S=i(87),P=i(34),M=i(129),A=Object.getOwnPropertyDescriptor;c.f=s?A:function(C,I){if(C=x(C),I=S(I),M)try{return A(C,I)}catch(z){}if(P(C,I))return b(!l(y.f,C,I),C[I])}},function(u,c,i){var s=i(16),l=i(213).entries;s({target:"Object",stat:!0},{entries:function(b){return l(b)}})},function(u,c,i){var s=i(46);u.exports=s("navigator","userAgent")||""},function(u,c,i){var s=i(32),l=i(168),y=i(110),b=i(70),x=i(133),S=i(86),P=i(91),M=">",A="<",j="prototype",C="script",I=P("IE_PROTO"),z=function(){},X=function(Q){return A+C+M+Q+A+"/"+C+M},Y=function(Q){Q.write(X("")),Q.close();var ee=Q.parentWindow.Object;return Q=null,ee},le=function(){var Q=S("iframe"),ee="java"+C+":",_;return Q.style.display="none",x.appendChild(Q),Q.src=String(ee),_=Q.contentWindow.document,_.open(),_.write(X("document.F=Object")),_.close(),_.F},se,te=function(){try{se=new ActiveXObject("htmlfile")}catch(ee){}te=typeof document!="undefined"?document.domain&&se?Y(se):le():Y(se);for(var Q=y.length;Q--;)delete te[j][y[Q]];return te()};b[I]=!0,u.exports=Object.create||function(ee,_){var U;return ee!==null?(z[j]=s(ee),U=new z,z[j]=null,U[I]=ee):U=te(),_===void 0?U:l(U,_)}},function(u,c,i){var s=i(7),l=i(28),y=i(89),b=s.TypeError;u.exports=function(x){if(l(x))return x;throw b(y(x)+" is not a function")}},function(u,c,i){var s=i(170),l=i(7),y=i(15),b=i(33),x=i(57),S=i(34),P=i(107),M=i(91),A=i(70),j="Object already initialized",C=l.TypeError,I=l.WeakMap,z,X,Y,le=function(B){return Y(B)?X(B):z(B,{})},se=function(B){return function(w){var R;if(!b(w)||(R=X(w)).type!==B)throw C("Incompatible receiver, "+B+" required");return R}};if(s||P.state){var te=P.state||(P.state=new I),Q=y(te.get),ee=y(te.has),_=y(te.set);z=function(B,w){if(ee(te,B))throw new C(j);return w.facade=B,_(te,B,w),w},X=function(B){return Q(te,B)||{}},Y=function(B){return ee(te,B)}}else{var U=M("state");A[U]=!0,z=function(B,w){if(S(B,U))throw new C(j);return w.facade=B,x(B,U,w),w},X=function(B){return S(B,U)?B[U]:{}},Y=function(B){return S(B,U)}}u.exports={set:z,get:X,has:Y,enforce:le,getterFor:se}},function(u,c,i){var s=i(36),l=i(37),y=i(72);u.exports=s?function(b,x,S){return l.f(b,x,y(1,S))}:function(b,x,S){return b[x]=S,b}},function(u,c,i){var s=i(15);u.exports=s({}.isPrototypeOf)},function(u,c,i){var s=i(55);u.exports=function(l,y){var b=l[y];return b==null?void 0:s(b)}},function(u,c,i){var s=i(173),l=i(177);s("Map",function(y){return function(){return y(this,arguments.length?arguments[0]:void 0)}},l)},function(u,c,i){var s=i(87),l=i(37),y=i(72);u.exports=function(b,x,S){var P=s(x);P in b?l.f(b,P,y(0,S)):b[P]=S}},function(u,c,i){var s=i(15),l=i(55),y=s(s.bind);u.exports=function(b,x){return l(b),x===void 0?b:y?y(b,x):function(){return b.apply(x,arguments)}}},function(u,c,i){var s=i(16),l=i(15),y=i(81),b=i(39),x=i(120),S=l([].join),P=y!=Object,M=x("join",",");s({target:"Array",proto:!0,forced:P||!M},{join:function(j){return S(b(this),j===void 0?",":j)}})},function(u,c,i){var s=i(16),l=i(214),y=i(83);s({target:"Array",proto:!0},{fill:l}),y("fill")},function(u,c){u.exports=!1},function(u,c,i){var s=i(7),l=i(53),y=s.process,b=s.Deno,x=y&&y.versions||b&&b.version,S=x&&x.v8,P,M;S&&(P=S.split("."),M=P[0]>0&&P[0]<4?1:+(P[0]+P[1])),!M&&l&&(P=l.match(/Edge\/(\d+)/),(!P||P[1]>=74)&&(P=l.match(/Chrome\/(\d+)/),P&&(M=+P[1]))),u.exports=M},function(u,c,i){var s=i(131),l=i(110);u.exports=Object.keys||function(b){return s(b,l)}},function(u,c,i){var s=i(69),l=Math.max,y=Math.min;u.exports=function(b,x){var S=s(b);return S<0?l(S+x,0):y(S,x)}},function(u,c){var i=Math.ceil,s=Math.floor;u.exports=function(l){var y=+l;return y!==y||y===0?0:(y>0?s:i)(y)}},function(u,c){u.exports={}},function(u,c){u.exports={}},function(u,c){u.exports=function(i,s){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:s}}},function(u,c,i){var s=i(131),l=i(110),y=l.concat("length","prototype");c.f=Object.getOwnPropertyNames||function(x){return s(x,y)}},function(u,c,i){var s=i(37).f,l=i(34),y=i(27),b=y("toStringTag");u.exports=function(x,S,P){x&&!l(x=P?x:x.prototype,b)&&s(x,b,{configurable:!0,value:S})}},function(u,c,i){var s=i(62),l=i(15),y=i(81),b=i(38),x=i(43),S=i(119),P=l([].push),M=function(A){var j=A==1,C=A==2,I=A==3,z=A==4,X=A==6,Y=A==7,le=A==5||X;return function(se,te,Q,ee){for(var _=b(se),U=y(_),B=s(te,Q),w=x(U),R=0,W=ee||S,Z=j?W(se,w):C||Y?W(se,0):void 0,ce,Pe;w>R;R++)if((le||R in U)&&(ce=U[R],Pe=B(ce,R,_),A))if(j)Z[R]=Pe;else if(Pe)switch(A){case 3:return!0;case 5:return ce;case 6:return R;case 2:P(Z,ce)}else switch(A){case 4:return!1;case 7:P(Z,ce)}return X?-1:I||z?z:Z}};u.exports={forEach:M(0),map:M(1),filter:M(2),some:M(3),every:M(4),find:M(5),findIndex:M(6),filterReject:M(7)}},function(u,c,i){var s=i(18),l=i(27),y=i(66),b=l("species");u.exports=function(x){return y>=51||!s(function(){var S=[],P=S.constructor={};return P[b]=function(){return{foo:1}},S[x](Boolean).foo!==1})}},function(u,c){var i=Function.prototype,s=i.apply,l=i.bind,y=i.call;u.exports=typeof Reflect=="object"&&Reflect.apply||(l?y.bind(s):function(){return y.apply(s,arguments)})},function(u,c,i){var s=i(77),l=i(35),y=i(15),b=i(122),x=i(154),S=i(32),P=i(45),M=i(156),A=i(123),j=i(90),C=i(40),I=i(59),z=i(113),X=i(124),Y=i(102),le=i(151),se=i(18),te=le.UNSUPPORTED_Y,Q=4294967295,ee=Math.min,_=[].push,U=y(/./.exec),B=y(_),w=y("".slice),R=!se(function(){var W=/(?:)/,Z=W.exec;W.exec=function(){return Z.apply(this,arguments)};var ce="ab".split(W);return ce.length!==2||ce[0]!=="a"||ce[1]!=="b"});b("split",function(W,Z,ce){var Pe;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?Pe=function(me,be){var Se=C(P(this)),Oe=be===void 0?Q:be>>>0;if(Oe===0)return[];if(me===void 0)return[Se];if(!x(me))return l(Z,Se,me,Oe);for(var we=[],Fe=(me.ignoreCase?"i":"")+(me.multiline?"m":"")+(me.unicode?"u":"")+(me.sticky?"y":""),Ve=0,Le=new RegExp(me.source,Fe+"g"),Ee,_e,Xe;(Ee=l(Y,Le,Se))&&(_e=Le.lastIndex,!(_e>Ve&&(B(we,w(Se,Ve,Ee.index)),Ee.length>1&&Ee.index<Se.length&&s(_,we,z(Ee,1)),Xe=Ee[0].length,Ve=_e,we.length>=Oe)));)Le.lastIndex===Ee.index&&Le.lastIndex++;return Ve===Se.length?(Xe||!U(Le,""))&&B(we,""):B(we,w(Se,Ve)),we.length>Oe?z(we,0,Oe):we}:"0".split(void 0,0).length?Pe=function(me,be){return me===void 0&&be===0?[]:l(Z,this,me,be)}:Pe=Z,[function(be,Se){var Oe=P(this),we=be==null?void 0:I(be,W);return we?l(we,be,Oe,Se):l(Pe,C(Oe),be,Se)},function(me,be){var Se=S(this),Oe=C(me),we=ce(Pe,Se,Oe,be,Pe!==Z);if(we.done)return we.value;var Fe=M(Se,RegExp),Ve=Se.unicode,Le=(Se.ignoreCase?"i":"")+(Se.multiline?"m":"")+(Se.unicode?"u":"")+(te?"g":"y"),Ee=new Fe(te?"^(?:"+Se.source+")":Se,Le),_e=be===void 0?Q:be>>>0;if(_e===0)return[];if(Oe.length===0)return X(Ee,Oe)===null?[Oe]:[];for(var Xe=0,k=0,$=[];k<Oe.length;){Ee.lastIndex=te?0:k;var q=X(Ee,te?w(Oe,k):Oe),he;if(q===null||(he=ee(j(Ee.lastIndex+(te?k:0)),Oe.length))===Xe)k=A(Oe,k,Ve);else{if(B($,w(Oe,Xe,k)),$.length===_e)return $;for(var xe=1;xe<=q.length-1;xe++)if(B($,q[xe]),$.length===_e)return $;k=Xe=he}}return B($,w(Oe,Xe)),$}]},!R,te)},function(u,c,i){var s=i(36),l=i(7),y=i(15),b=i(95),x=i(44),S=i(34),P=i(143),M=i(58),A=i(88),j=i(130),C=i(18),I=i(73).f,z=i(51).f,X=i(37).f,Y=i(196),le=i(159).trim,se="Number",te=l[se],Q=te.prototype,ee=l.TypeError,_=y("".slice),U=y("".charCodeAt),B=function(Pe){var me=j(Pe,"number");return typeof me=="bigint"?me:w(me)},w=function(Pe){var me=j(Pe,"number"),be,Se,Oe,we,Fe,Ve,Le,Ee;if(A(me))throw ee("Cannot convert a Symbol value to a number");if(typeof me=="string"&&me.length>2){if(me=le(me),be=U(me,0),be===43||be===45){if(Se=U(me,2),Se===88||Se===120)return NaN}else if(be===48){switch(U(me,1)){case 66:case 98:Oe=2,we=49;break;case 79:case 111:Oe=8,we=55;break;default:return+me}for(Fe=_(me,2),Ve=Fe.length,Le=0;Le<Ve;Le++)if(Ee=U(Fe,Le),Ee<48||Ee>we)return NaN;return parseInt(Fe,Oe)}}return+me};if(b(se,!te(" 0o1")||!te("0b1")||te("+0x1"))){for(var R=function(me){var be=arguments.length<1?0:te(B(me)),Se=this;return M(Q,Se)&&C(function(){Y(Se)})?P(Object(be),Se,R):be},W=s?I(te):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Z=0,ce;W.length>Z;Z++)S(te,ce=W[Z])&&!S(R,ce)&&X(R,ce,z(te,ce));R.prototype=Q,Q.constructor=R,x(l,se,R)}},function(u,c,i){var s=i(16);s({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(u,c,i){var s=i(7),l=i(15),y=i(18),b=i(50),x=s.Object,S=l("".split);u.exports=y(function(){return!x("z").propertyIsEnumerable(0)})?function(P){return b(P)=="String"?S(P,""):x(P)}:x},function(u,c){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(s){typeof window=="object"&&(i=window)}u.exports=i},function(u,c,i){var s=i(27),l=i(54),y=i(37),b=s("unscopables"),x=Array.prototype;x[b]==null&&y.f(x,b,{configurable:!0,value:l(null)}),u.exports=function(S){x[b][S]=!0}},function(u,c,i){var s=i(65),l=i(107);(u.exports=function(y,b){return l[y]||(l[y]=b!==void 0?b:{})})("versions",[]).push({version:"3.19.3",mode:s?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(u,c,i){var s=i(15),l=0,y=Math.random(),b=s(1 .toString);u.exports=function(x){return"Symbol("+(x===void 0?"":x)+")_"+b(++l+y,36)}},function(u,c,i){var s=i(7),l=i(33),y=s.document,b=l(y)&&l(y.createElement);u.exports=function(x){return b?y.createElement(x):{}}},function(u,c,i){var s=i(130),l=i(88);u.exports=function(y){var b=s(y,"string");return l(b)?b:b+""}},function(u,c,i){var s=i(7),l=i(46),y=i(28),b=i(58),x=i(128),S=s.Object;u.exports=x?function(P){return typeof P=="symbol"}:function(P){var M=l("Symbol");return y(M)&&b(M.prototype,S(P))}},function(u,c,i){var s=i(7),l=s.String;u.exports=function(y){try{return l(y)}catch(b){return"Object"}}},function(u,c,i){var s=i(69),l=Math.min;u.exports=function(y){return y>0?l(s(y),9007199254740991):0}},function(u,c,i){var s=i(84),l=i(85),y=s("keys");u.exports=function(b){return y[b]||(y[b]=l(b))}},function(u,c,i){var s=i(15),l=i(28),y=i(107),b=s(Function.toString);l(y.inspectSource)||(y.inspectSource=function(x){return b(x)}),u.exports=y.inspectSource},function(u,c,i){var s={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,y=l&&!s.call({1:2},1);c.f=y?function(x){var S=l(this,x);return!!S&&S.enumerable}:s},function(u,c,i){var s=i(36),l=i(34),y=Function.prototype,b=s&&Object.getOwnPropertyDescriptor,x=l(y,"name"),S=x&&function(){}.name==="something",P=x&&(!s||s&&b(y,"name").configurable);u.exports={EXISTS:x,PROPER:S,CONFIGURABLE:P}},function(u,c,i){var s=i(18),l=i(28),y=/#|\.prototype\./,b=function(A,j){var C=S[x(A)];return C==M?!0:C==P?!1:l(j)?s(j):!!j},x=b.normalize=function(A){return String(A).replace(y,".").toLowerCase()},S=b.data={},P=b.NATIVE="N",M=b.POLYFILL="P";u.exports=b},function(u,c,i){var s=i(7),l=i(34),y=i(28),b=i(38),x=i(91),S=i(137),P=x("IE_PROTO"),M=s.Object,A=M.prototype;u.exports=S?M.getPrototypeOf:function(j){var C=b(j);if(l(C,P))return C[P];var I=C.constructor;return y(I)&&C instanceof I?I.prototype:C instanceof M?A:null}},function(u,c,i){var s=i(15),l=i(32),y=i(172);u.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var b=!1,x={},S;try{S=s(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),S(x,[]),b=x instanceof Array}catch(P){}return function(M,A){return l(M),y(A),b?S(M,A):M.__proto__=A,M}}():void 0)},function(u,c,i){var s=i(7),l=i(116),y=i(28),b=i(50),x=i(27),S=x("toStringTag"),P=s.Object,M=b(function(){return arguments}())=="Arguments",A=function(j,C){try{return j[C]}catch(I){}};u.exports=l?b:function(j){var C,I,z;return j===void 0?"Undefined":j===null?"Null":typeof(I=A(C=P(j),S))=="string"?I:M?b(C):(z=b(C))=="Object"&&y(C.callee)?"Arguments":z}},function(u,c,i){var s=i(50);u.exports=Array.isArray||function(y){return s(y)=="Array"}},function(u,c,i){var s=i(15),l=i(18),y=i(28),b=i(98),x=i(46),S=i(92),P=function(){},M=[],A=x("Reflect","construct"),j=/^\s*(?:class|function)\b/,C=s(j.exec),I=!j.exec(P),z=function(Y){if(!y(Y))return!1;try{return A(P,M,Y),!0}catch(le){return!1}},X=function(Y){if(!y(Y))return!1;switch(b(Y)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return I||!!C(j,S(Y))};u.exports=!A||l(function(){var Y;return z(z.call)||!z(Object)||!z(function(){Y=!0})||Y})?X:z},function(u,c,i){var s=i(15);u.exports=s([].slice)},function(u,c,i){var s=i(35),l=i(15),y=i(40),b=i(184),x=i(151),S=i(84),P=i(54),M=i(56).get,A=i(185),j=i(186),C=S("native-string-replace",String.prototype.replace),I=RegExp.prototype.exec,z=I,X=l("".charAt),Y=l("".indexOf),le=l("".replace),se=l("".slice),te=function(){var U=/a/,B=/b*/g;return s(I,U,"a"),s(I,B,"a"),U.lastIndex!==0||B.lastIndex!==0}(),Q=x.BROKEN_CARET,ee=/()??/.exec("")[1]!==void 0,_=te||ee||Q||A||j;_&&(z=function(B){var w=this,R=M(w),W=y(B),Z=R.raw,ce,Pe,me,be,Se,Oe,we;if(Z)return Z.lastIndex=w.lastIndex,ce=s(z,Z,W),w.lastIndex=Z.lastIndex,ce;var Fe=R.groups,Ve=Q&&w.sticky,Le=s(b,w),Ee=w.source,_e=0,Xe=W;if(Ve&&(Le=le(Le,"y",""),Y(Le,"g")===-1&&(Le+="g"),Xe=se(W,w.lastIndex),w.lastIndex>0&&(!w.multiline||w.multiline&&X(W,w.lastIndex-1)!==`
`)&&(Ee="(?: "+Ee+")",Xe=" "+Xe,_e++),Pe=new RegExp("^(?:"+Ee+")",Le)),ee&&(Pe=new RegExp("^"+Ee+"$(?!\\s)",Le)),te&&(me=w.lastIndex),be=s(I,Ve?Pe:w,Xe),Ve?be?(be.input=se(be.input,_e),be[0]=se(be[0],_e),be.index=w.lastIndex,w.lastIndex+=be[0].length):w.lastIndex=0:te&&be&&(w.lastIndex=w.global?be.index+be[0].length:me),ee&&be&&be.length>1&&s(C,be[0],Pe,function(){for(Se=1;Se<arguments.length-2;Se++)arguments[Se]===void 0&&(be[Se]=void 0)}),be&&Fe)for(be.groups=Oe=P(null),Se=0;Se<Fe.length;Se++)we=Fe[Se],Oe[we[0]]=be[we[1]];return be}),u.exports=z},function(u,c,i){var s=i(16),l=i(7),y=i(68),b=i(69),x=i(43),S=i(38),P=i(119),M=i(61),A=i(76),j=A("splice"),C=l.TypeError,I=Math.max,z=Math.min,X=9007199254740991,Y="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!j},{splice:function(se,te){var Q=S(this),ee=x(Q),_=y(se,ee),U=arguments.length,B,w,R,W,Z,ce;if(U===0?B=w=0:U===1?(B=0,w=ee-_):(B=U-2,w=z(I(b(te),0),ee-_)),ee+B-w>X)throw C(Y);for(R=P(Q,w),W=0;W<w;W++)Z=_+W,Z in Q&&M(R,W,Q[Z]);if(R.length=w,B<w){for(W=_;W<ee-w;W++)Z=W+w,ce=W+B,Z in Q?Q[ce]=Q[Z]:delete Q[ce];for(W=ee;W>ee-w+B;W--)delete Q[W-1]}else if(B>w)for(W=ee-w;W>_;W--)Z=W+w-1,ce=W+B-1,Z in Q?Q[ce]=Q[Z]:delete Q[ce];for(W=0;W<B;W++)Q[W+_]=arguments[W+2];return Q.length=ee-w+B,R}})},function(u,c,i){var s=i(16),l=i(201),y=i(202);s({target:"String",proto:!0,forced:y("anchor")},{anchor:function(x){return l(this,"a","name",x)}})},function(u,c,i){(function(s){var l=typeof s=="object"&&s&&s.Object===Object&&s;c.a=l}).call(this,i(82))},function(u,c,i){(function(s){var l=i(31),y=v&&!v.nodeType&&v,b=y&&typeof s=="object"&&s&&!s.nodeType&&s,x=b&&b.exports===y,S=x?l.a.Buffer:void 0,P=S?S.allocUnsafe:void 0;function M(A,j){if(j)return A.slice();var C=A.length,I=P?P(C):new A.constructor(C);return A.copy(I),I}c.a=M}).call(this,i(121)(u))},function(u,c,i){var s=i(7),l=i(108),y="__core-js_shared__",b=s[y]||l(y,{});u.exports=b},function(u,c,i){var s=i(7),l=Object.defineProperty;u.exports=function(y,b){try{l(s,y,{value:b,configurable:!0,writable:!0})}catch(x){s[y]=b}return b}},function(u,c,i){var s=i(66),l=i(18);u.exports=!!Object.getOwnPropertySymbols&&!l(function(){var y=Symbol();return!String(y)||!(Object(y)instanceof Symbol)||!Symbol.sham&&s&&s<41})},function(u,c){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(u,c,i){var s=i(16),l=i(35),y=i(65),b=i(94),x=i(28),S=i(171),P=i(96),M=i(97),A=i(74),j=i(57),C=i(44),I=i(27),z=i(71),X=i(136),Y=b.PROPER,le=b.CONFIGURABLE,se=X.IteratorPrototype,te=X.BUGGY_SAFARI_ITERATORS,Q=I("iterator"),ee="keys",_="values",U="entries",B=function(){return this};u.exports=function(w,R,W,Z,ce,Pe,me){S(W,R,Z);var be=function(k){if(k===ce&&Ve)return Ve;if(!te&&k in we)return we[k];switch(k){case ee:return function(){return new W(this,k)};case _:return function(){return new W(this,k)};case U:return function(){return new W(this,k)}}return function(){return new W(this)}},Se=R+" Iterator",Oe=!1,we=w.prototype,Fe=we[Q]||we["@@iterator"]||ce&&we[ce],Ve=!te&&Fe||be(ce),Le=R=="Array"&&we.entries||Fe,Ee,_e,Xe;if(Le&&(Ee=P(Le.call(new w)),Ee!==Object.prototype&&Ee.next&&(!y&&P(Ee)!==se&&(M?M(Ee,se):x(Ee[Q])||C(Ee,Q,B)),A(Ee,Se,!0,!0),y&&(z[Se]=B))),Y&&ce==_&&Fe&&Fe.name!==_&&(!y&&le?j(we,"name",_):(Oe=!0,Ve=function(){return l(Fe,this)})),ce)if(_e={values:be(_),keys:Pe?Ve:be(ee),entries:be(U)},me)for(Xe in _e)(te||Oe||!(Xe in we))&&C(we,Xe,_e[Xe]);else s({target:R,proto:!0,forced:te||Oe},_e);return(!y||me)&&we[Q]!==Ve&&C(we,Q,Ve,{name:ce}),z[R]=Ve,_e}},function(u,c){c.f=Object.getOwnPropertySymbols},function(u,c,i){var s=i(7),l=i(68),y=i(43),b=i(61),x=s.Array,S=Math.max;u.exports=function(P,M,A){for(var j=y(P),C=l(M,j),I=l(A===void 0?j:A,j),z=x(S(I-C,0)),X=0;C<I;C++,X++)b(z,X,P[C]);return z.length=X,z}},function(u,c,i){var s=i(7),l=i(62),y=i(35),b=i(32),x=i(89),S=i(140),P=i(43),M=i(58),A=i(141),j=i(115),C=i(142),I=s.TypeError,z=function(Y,le){this.stopped=Y,this.result=le},X=z.prototype;u.exports=function(Y,le,se){var te=se&&se.that,Q=!!(se&&se.AS_ENTRIES),ee=!!(se&&se.IS_ITERATOR),_=!!(se&&se.INTERRUPTED),U=l(le,te),B,w,R,W,Z,ce,Pe,me=function(Se){return B&&C(B,"normal",Se),new z(!0,Se)},be=function(Se){return Q?(b(Se),_?U(Se[0],Se[1],me):U(Se[0],Se[1])):_?U(Se,me):U(Se)};if(ee)B=Y;else{if(w=j(Y),!w)throw I(x(Y)+" is not iterable");if(S(w)){for(R=0,W=P(Y);W>R;R++)if(Z=be(Y[R]),Z&&M(X,Z))return Z;return new z(!1)}B=A(Y,w)}for(ce=B.next;!(Pe=y(ce,B)).done;){try{Z=be(Pe.value)}catch(Se){C(B,"throw",Se)}if(typeof Z=="object"&&Z&&M(X,Z))return Z}return new z(!1)}},function(u,c,i){var s=i(98),l=i(59),y=i(71),b=i(27),x=b("iterator");u.exports=function(S){if(S!=null)return l(S,x)||l(S,"@@iterator")||y[s(S)]}},function(u,c,i){var s=i(27),l=s("toStringTag"),y={};y[l]="z",u.exports=String(y)==="[object z]"},function(u,c,i){var s=i(7),l=i(58),y=s.TypeError;u.exports=function(b,x){if(l(x,b))return b;throw y("Incorrect invocation")}},function(u,c,i){var s=i(27),l=s("iterator"),y=!1;try{var b=0,x={next:function(){return{done:!!b++}},return:function(){y=!0}};x[l]=function(){return this},Array.from(x,function(){throw 2})}catch(S){}u.exports=function(S,P){if(!P&&!y)return!1;var M=!1;try{var A={};A[l]=function(){return{next:function(){return{done:M=!0}}}},S(A)}catch(j){}return M}},function(u,c,i){var s=i(180);u.exports=function(l,y){return new(s(l))(y===0?0:y)}},function(u,c,i){var s=i(18);u.exports=function(l,y){var b=[][l];return!!b&&s(function(){b.call(null,y||function(){throw 1},1)})}},function(u,c){u.exports=function(i){if(!i.webpackPolyfill){var s=Object.create(i);s.children||(s.children=[]),Object.defineProperty(s,"loaded",{enumerable:!0,get:function(){return s.l}}),Object.defineProperty(s,"id",{enumerable:!0,get:function(){return s.i}}),Object.defineProperty(s,"exports",{enumerable:!0}),s.webpackPolyfill=1}return s}},function(u,c,i){i(19);var s=i(15),l=i(44),y=i(102),b=i(18),x=i(27),S=i(57),P=x("species"),M=RegExp.prototype;u.exports=function(A,j,C,I){var z=x(A),X=!b(function(){var te={};return te[z]=function(){return 7},""[A](te)!=7}),Y=X&&!b(function(){var te=!1,Q=/a/;return A==="split"&&(Q={},Q.constructor={},Q.constructor[P]=function(){return Q},Q.flags="",Q[z]=/./[z]),Q.exec=function(){return te=!0,null},Q[z](""),!te});if(!X||!Y||C){var le=s(/./[z]),se=j(z,""[A],function(te,Q,ee,_,U){var B=s(te),w=Q.exec;return w===y||w===M.exec?X&&!U?{done:!0,value:le(Q,ee,_)}:{done:!0,value:B(ee,Q,_)}:{done:!1}});l(String.prototype,A,se[0]),l(M,z,se[1])}I&&S(M[z],"sham",!0)}},function(u,c,i){var s=i(146).charAt;u.exports=function(l,y,b){return y+(b?s(l,y).length:1)}},function(u,c,i){var s=i(7),l=i(35),y=i(32),b=i(28),x=i(50),S=i(102),P=s.TypeError;u.exports=function(M,A){var j=M.exec;if(b(j)){var C=l(j,M,A);return C!==null&&y(C),C}if(x(M)==="RegExp")return l(S,M,A);throw P("RegExp#exec called on incompatible receiver")}},function(u,c,i){var s=i(77),l=i(35),y=i(15),b=i(122),x=i(18),S=i(32),P=i(28),M=i(69),A=i(90),j=i(40),C=i(45),I=i(123),z=i(59),X=i(197),Y=i(124),le=i(27),se=le("replace"),te=Math.max,Q=Math.min,ee=y([].concat),_=y([].push),U=y("".indexOf),B=y("".slice),w=function(ce){return ce===void 0?ce:String(ce)},R=function(){return"a".replace(/./,"$0")==="$0"}(),W=function(){return/./[se]?/./[se]("a","$0")==="":!1}(),Z=!x(function(){var ce=/./;return ce.exec=function(){var Pe=[];return Pe.groups={a:"7"},Pe},"".replace(ce,"$<a>")!=="7"});b("replace",function(ce,Pe,me){var be=W?"$":"$0";return[function(Oe,we){var Fe=C(this),Ve=Oe==null?void 0:z(Oe,se);return Ve?l(Ve,Oe,Fe,we):l(Pe,j(Fe),Oe,we)},function(Se,Oe){var we=S(this),Fe=j(Se);if(typeof Oe=="string"&&U(Oe,be)===-1&&U(Oe,"$<")===-1){var Ve=me(Pe,we,Fe,Oe);if(Ve.done)return Ve.value}var Le=P(Oe);Le||(Oe=j(Oe));var Ee=we.global;if(Ee){var _e=we.unicode;we.lastIndex=0}for(var Xe=[];;){var k=Y(we,Fe);if(k===null||(_(Xe,k),!Ee))break;var $=j(k[0]);$===""&&(we.lastIndex=I(Fe,A(we.lastIndex),_e))}for(var q="",he=0,xe=0;xe<Xe.length;xe++){k=Xe[xe];for(var pe=j(k[0]),Ge=te(Q(M(k.index),Fe.length),0),nt=[],We=1;We<k.length;We++)_(nt,w(k[We]));var it=k.groups;if(Le){var ve=ee([pe],nt,Ge,Fe);it!==void 0&&_(ve,it);var lt=j(s(Oe,void 0,ve))}else lt=X(pe,Fe,Ge,nt,it,Oe);Ge>=he&&(q+=B(Fe,he,Ge)+lt,he=Ge+pe.length)}return q+B(Fe,he)}]},!Z||!R||W)},function(u,c,i){var s=i(50),l=i(7);u.exports=s(l.process)=="process"},function(u,c,i){var s=i(16);s({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(u,c,i){var s=i(109);u.exports=s&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(u,c,i){var s=i(36),l=i(18),y=i(86);u.exports=!s&&!l(function(){return Object.defineProperty(y("div"),"a",{get:function(){return 7}}).a!=7})},function(u,c,i){var s=i(7),l=i(35),y=i(33),b=i(88),x=i(59),S=i(169),P=i(27),M=s.TypeError,A=P("toPrimitive");u.exports=function(j,C){if(!y(j)||b(j))return j;var I=x(j,A),z;if(I){if(C===void 0&&(C="default"),z=l(I,j,C),!y(z)||b(z))return z;throw M("Can't convert object to primitive value")}return C===void 0&&(C="number"),S(j,C)}},function(u,c,i){var s=i(15),l=i(34),y=i(39),b=i(132).indexOf,x=i(70),S=s([].push);u.exports=function(P,M){var A=y(P),j=0,C=[],I;for(I in A)!l(x,I)&&l(A,I)&&S(C,I);for(;M.length>j;)l(A,I=M[j++])&&(~b(C,I)||S(C,I));return C}},function(u,c,i){var s=i(39),l=i(68),y=i(43),b=function(x){return function(S,P,M){var A=s(S),j=y(A),C=l(M,j),I;if(x&&P!=P){for(;j>C;)if(I=A[C++],I!=I)return!0}else for(;j>C;C++)if((x||C in A)&&A[C]===P)return x||C||0;return!x&&-1}};u.exports={includes:b(!0),indexOf:b(!1)}},function(u,c,i){var s=i(46);u.exports=s("document","documentElement")},function(u,c,i){var s=i(34),l=i(135),y=i(51),b=i(37);u.exports=function(x,S){for(var P=l(S),M=b.f,A=y.f,j=0;j<P.length;j++){var C=P[j];s(x,C)||M(x,C,A(S,C))}}},function(u,c,i){var s=i(46),l=i(15),y=i(73),b=i(112),x=i(32),S=l([].concat);u.exports=s("Reflect","ownKeys")||function(M){var A=y.f(x(M)),j=b.f;return j?S(A,j(M)):A}},function(u,c,i){var s=i(18),l=i(28),y=i(54),b=i(96),x=i(44),S=i(27),P=i(65),M=S("iterator"),A=!1,j,C,I;[].keys&&(I=[].keys(),"next"in I?(C=b(b(I)),C!==Object.prototype&&(j=C)):A=!0);var z=j==null||s(function(){var X={};return j[M].call(X)!==X});z?j={}:P&&(j=y(j)),l(j[M])||x(j,M,function(){return this}),u.exports={IteratorPrototype:j,BUGGY_SAFARI_ITERATORS:A}},function(u,c,i){var s=i(18);u.exports=!s(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},function(u,c,i){var s=i(16),l=i(15),y=i(70),b=i(33),x=i(34),S=i(37).f,P=i(73),M=i(139),A=i(174),j=i(85),C=i(176),I=!1,z=j("meta"),X=0,Y=function(_){S(_,z,{value:{objectID:"O"+X++,weakData:{}}})},le=function(_,U){if(!b(_))return typeof _=="symbol"?_:(typeof _=="string"?"S":"P")+_;if(!x(_,z)){if(!A(_))return"F";if(!U)return"E";Y(_)}return _[z].objectID},se=function(_,U){if(!x(_,z)){if(!A(_))return!0;if(!U)return!1;Y(_)}return _[z].weakData},te=function(_){return C&&I&&A(_)&&!x(_,z)&&Y(_),_},Q=function(){ee.enable=function(){},I=!0;var _=P.f,U=l([].splice),B={};B[z]=1,_(B).length&&(P.f=function(w){for(var R=_(w),W=0,Z=R.length;W<Z;W++)if(R[W]===z){U(R,W,1);break}return R},s({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:M.f}))},ee=u.exports={enable:Q,fastKey:le,getWeakData:se,onFreeze:te};y[z]=!0},function(u,c,i){var s=i(50),l=i(39),y=i(73).f,b=i(113),x=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],S=function(P){try{return y(P)}catch(M){return b(x)}};u.exports.f=function(M){return x&&s(M)=="Window"?S(M):y(l(M))}},function(u,c,i){var s=i(27),l=i(71),y=s("iterator"),b=Array.prototype;u.exports=function(x){return x!==void 0&&(l.Array===x||b[y]===x)}},function(u,c,i){var s=i(7),l=i(35),y=i(55),b=i(32),x=i(89),S=i(115),P=s.TypeError;u.exports=function(M,A){var j=arguments.length<2?S(M):A;if(y(j))return b(l(j,M));throw P(x(M)+" is not iterable")}},function(u,c,i){var s=i(35),l=i(32),y=i(59);u.exports=function(b,x,S){var P,M;l(b);try{if(P=y(b,"return"),!P){if(x==="throw")throw S;return S}P=s(P,b)}catch(A){M=!0,P=A}if(x==="throw")throw S;if(M)throw P;return l(P),S}},function(u,c,i){var s=i(28),l=i(33),y=i(97);u.exports=function(b,x,S){var P,M;return y&&s(P=x.constructor)&&P!==S&&l(M=P.prototype)&&M!==S.prototype&&y(b,M),b}},function(u,c,i){var s=i(44);u.exports=function(l,y,b){for(var x in y)s(l,x,y[x],b);return l}},function(u,c,i){var s=i(46),l=i(37),y=i(27),b=i(36),x=y("species");u.exports=function(S){var P=s(S),M=l.f;b&&P&&!P[x]&&M(P,x,{configurable:!0,get:function(){return this}})}},function(u,c,i){var s=i(15),l=i(69),y=i(40),b=i(45),x=s("".charAt),S=s("".charCodeAt),P=s("".slice),M=function(A){return function(j,C){var I=y(b(j)),z=l(C),X=I.length,Y,le;return z<0||z>=X?A?"":void 0:(Y=S(I,z),Y<55296||Y>56319||z+1===X||(le=S(I,z+1))<56320||le>57343?A?x(I,z):Y:A?P(I,z,z+2):(Y-55296<<10)+(le-56320)+65536)}};u.exports={codeAt:M(!1),charAt:M(!0)}},function(u,c){u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(u,c,i){var s=i(86),l=s("span").classList,y=l&&l.constructor&&l.constructor.prototype;u.exports=y===Object.prototype?void 0:y},function(u,c,i){var s=i(27);c.f=s},function(u,c,i){var s=i(181),l=i(34),y=i(149),b=i(37).f;u.exports=function(x){var S=s.Symbol||(s.Symbol={});l(S,x)||b(S,x,{value:y.f(x)})}},function(u,c,i){var s=i(18),l=i(7),y=l.RegExp,b=s(function(){var P=y("a","y");return P.lastIndex=2,P.exec("abcd")!=null}),x=b||s(function(){return!y("a","y").sticky}),S=b||s(function(){var P=y("^r","gy");return P.lastIndex=2,P.exec("str")!=null});u.exports={BROKEN_CARET:S,MISSED_STICKY:x,UNSUPPORTED_Y:b}},function(u,c,i){var s=i(16),l=i(132).includes,y=i(83);s({target:"Array",proto:!0},{includes:function(x){return l(this,x,arguments.length>1?arguments[1]:void 0)}}),y("includes")},function(u,c,i){var s=i(16),l=i(15),y=i(193),b=i(45),x=i(40),S=i(194),P=l("".indexOf);s({target:"String",proto:!0,forced:!S("includes")},{includes:function(A){return!!~P(x(b(this)),x(y(A)),arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){var s=i(33),l=i(50),y=i(27),b=y("match");u.exports=function(x){var S;return s(x)&&((S=x[b])!==void 0?!!S:l(x)=="RegExp")}},function(u,c){var i=u.exports={},s,l;function y(){throw new Error("setTimeout has not been defined")}function b(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?s=setTimeout:s=y}catch(Y){s=y}try{typeof clearTimeout=="function"?l=clearTimeout:l=b}catch(Y){l=b}})();function x(Y){if(s===setTimeout)return setTimeout(Y,0);if((s===y||!s)&&setTimeout)return s=setTimeout,setTimeout(Y,0);try{return s(Y,0)}catch(le){try{return s.call(null,Y,0)}catch(se){return s.call(this,Y,0)}}}function S(Y){if(l===clearTimeout)return clearTimeout(Y);if((l===b||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(Y);try{return l(Y)}catch(le){try{return l.call(null,Y)}catch(se){return l.call(this,Y)}}}var P=[],M=!1,A,j=-1;function C(){!M||!A||(M=!1,A.length?P=A.concat(P):j=-1,P.length&&I())}function I(){if(!M){var Y=x(C);M=!0;for(var le=P.length;le;){for(A=P,P=[];++j<le;)A&&A[j].run();j=-1,le=P.length}A=null,M=!1,S(Y)}}i.nextTick=function(Y){var le=new Array(arguments.length-1);if(arguments.length>1)for(var se=1;se<arguments.length;se++)le[se-1]=arguments[se];P.push(new z(Y,le)),P.length===1&&!M&&x(I)};function z(Y,le){this.fun=Y,this.array=le}z.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function X(){}i.on=X,i.addListener=X,i.once=X,i.off=X,i.removeListener=X,i.removeAllListeners=X,i.emit=X,i.prependListener=X,i.prependOnceListener=X,i.listeners=function(Y){return[]},i.binding=function(Y){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(Y){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(u,c,i){var s=i(32),l=i(157),y=i(27),b=y("species");u.exports=function(x,S){var P=s(x).constructor,M;return P===void 0||(M=s(P)[b])==null?S:l(M)}},function(u,c,i){var s=i(7),l=i(100),y=i(89),b=s.TypeError;u.exports=function(x){if(l(x))return x;throw b(y(x)+" is not a constructor")}},function(u,c,i){var s=i(16),l=i(159).trim,y=i(195);s({target:"String",proto:!0,forced:y("trim")},{trim:function(){return l(this)}})},function(u,c,i){var s=i(15),l=i(45),y=i(40),b=i(160),x=s("".replace),S="["+b+"]",P=RegExp("^"+S+S+"*"),M=RegExp(S+S+"*$"),A=function(j){return function(C){var I=y(l(C));return j&1&&(I=x(I,P,"")),j&2&&(I=x(I,M,"")),I}};u.exports={start:A(1),end:A(2),trim:A(3)}},function(u,c){u.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(u,c,i){var s=i(35),l=i(122),y=i(32),b=i(90),x=i(40),S=i(45),P=i(59),M=i(123),A=i(124);l("match",function(j,C,I){return[function(X){var Y=S(this),le=X==null?void 0:P(X,j);return le?s(le,X,Y):new RegExp(X)[j](x(Y))},function(z){var X=y(this),Y=x(z),le=I(C,X,Y);if(le.done)return le.value;if(!X.global)return A(X,Y);var se=X.unicode;X.lastIndex=0;for(var te=[],Q=0,ee;(ee=A(X,Y))!==null;){var _=x(ee[0]);te[Q]=_,_===""&&(X.lastIndex=M(Y,b(X.lastIndex),se)),Q++}return Q===0?null:te}]})},function(u,c,i){var s=i(7),l=i(77),y=i(62),b=i(28),x=i(34),S=i(18),P=i(133),M=i(101),A=i(86),j=i(163),C=i(126),I=s.setImmediate,z=s.clearImmediate,X=s.process,Y=s.Dispatch,le=s.Function,se=s.MessageChannel,te=s.String,Q=0,ee={},_="onreadystatechange",U,B,w,R;try{U=s.location}catch(me){}var W=function(me){if(x(ee,me)){var be=ee[me];delete ee[me],be()}},Z=function(me){return function(){W(me)}},ce=function(me){W(me.data)},Pe=function(me){s.postMessage(te(me),U.protocol+"//"+U.host)};(!I||!z)&&(I=function(be){var Se=M(arguments,1);return ee[++Q]=function(){l(b(be)?be:le(be),void 0,Se)},B(Q),Q},z=function(be){delete ee[be]},C?B=function(me){X.nextTick(Z(me))}:Y&&Y.now?B=function(me){Y.now(Z(me))}:se&&!j?(w=new se,R=w.port2,w.port1.onmessage=ce,B=y(R.postMessage,R)):s.addEventListener&&b(s.postMessage)&&!s.importScripts&&U&&U.protocol!=="file:"&&!S(Pe)?(B=Pe,s.addEventListener("message",ce,!1)):_ in A("script")?B=function(me){P.appendChild(A("script"))[_]=function(){P.removeChild(this),W(me)}}:B=function(me){setTimeout(Z(me),0)}),u.exports={set:I,clear:z}},function(u,c,i){var s=i(53);u.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(s)},function(u,c,i){var s=i(55),l=function(y){var b,x;this.promise=new y(function(S,P){if(b!==void 0||x!==void 0)throw TypeError("Bad Promise constructor");b=S,x=P}),this.resolve=s(b),this.reject=s(x)};u.exports.f=function(y){return new l(y)}},function(u,c,i){function s(){return!1}c.a=s},function(u,c,i){(function(s){i.d(c,"a",function(){return Q});var l=i(0);function y(_){throw new Error("[mobx-utils] "+_)}function b(_,U){U===void 0&&(U="Illegal state"),_||y(U)}var x=function(_){return _&&_!==Object.prototype&&Object.getOwnPropertyNames(_).concat(x(Object.getPrototypeOf(_))||[])},S=function(_){var U=x(_),B=U.filter(function(w,R){return U.indexOf(w)===R});return B},P=function(_){return S(_).filter(function(U){return U!=="constructor"&&!~U.indexOf("__")})},M="pending",A="fulfilled",j="rejected";function C(_){switch(this.state){case M:return _.pending&&_.pending(this.value);case j:return _.rejected&&_.rejected(this.value);case A:return _.fulfilled?_.fulfilled(this.value):this.value}}function I(_,U){if(b(arguments.length<=2,"fromPromise expects up to two arguments"),b(typeof _=="function"||typeof _=="object"&&_&&typeof _.then=="function","Please pass a promise or function to fromPromise"),_.isPromiseBasedObservable===!0)return _;typeof _=="function"&&(_=new Promise(_));var B=_;_.then(Object(l.k)("observableFromPromise-resolve",function(R){B.value=R,B.state=A}),Object(l.k)("observableFromPromise-reject",function(R){B.value=R,B.state=j})),B.isPromiseBasedObservable=!0,B.case=C;var w=U&&U.state===A?U.value:void 0;return Object(l.q)(B,{value:w,state:M},{},{deep:!1}),B}(function(_){_.reject=Object(l.k)("fromPromise.reject",function(B){var w=_(Promise.reject(B));return w.state=j,w.value=B,w});function U(B){B===void 0&&(B=void 0);var w=_(Promise.resolve(B));return w.state=A,w.value=B,w}_.resolve=Object(l.k)("fromPromise.resolve",U)})(I||(I={}));var z=function(_,U,B,w){var R=arguments.length,W=R<3?U:w===null?w=Object.getOwnPropertyDescriptor(U,B):w,Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(_,U,B,w);else for(var ce=_.length-1;ce>=0;ce--)(Z=_[ce])&&(W=(R<3?Z(W):R>3?Z(U,B,W):Z(U,B))||W);return R>3&&W&&Object.defineProperty(U,B,W),W};(function(){function _(U,B){var w=this;Object(l.G)(function(){w.current=B,w.subscription=U.subscribe(w)})}return _.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},_.prototype.next=function(U){this.current=U},_.prototype.complete=function(){this.dispose()},_.prototype.error=function(U){this.current=U,this.dispose()},z([l.C.ref],_.prototype,"current",void 0),z([l.k.bound],_.prototype,"next",null),z([l.k.bound],_.prototype,"complete",null),z([l.k.bound],_.prototype,"error",null),_})();var X=function(){return X=Object.assign||function(_){for(var U,B=1,w=arguments.length;B<w;B++){U=arguments[B];for(var R in U)Object.prototype.hasOwnProperty.call(U,R)&&(_[R]=U[R])}return _},X.apply(this,arguments)},Y=function(_,U,B,w){var R=arguments.length,W=R<3?U:w===null?w=Object.getOwnPropertyDescriptor(U,B):w,Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(_,U,B,w);else for(var ce=_.length-1;ce>=0;ce--)(Z=_[ce])&&(W=(R<3?Z(W):R>3?Z(U,B,W):Z(U,B))||W);return R>3&&W&&Object.defineProperty(U,B,W),W},le=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function _(U){var B=this;this.model=U,this.localValues=l.C.map({}),this.localComputedValues=l.C.map({}),this.isPropertyDirty=function(w){return B.localValues.has(w)},b(Object(l.A)(U),"createViewModel expects an observable object"),P(U).forEach(function(w){if(!(w===l.a||w==="__mobxDidRunLazyInitializers")){if(b(le.indexOf(w)===-1,"The propertyname "+w+" is reserved and cannot be used with viewModels"),Object(l.w)(U,w)){var R=Object(l.h)(U,w).derivation;B.localComputedValues.set(w,Object(l.m)(R.bind(B)))}var W=Object.getOwnPropertyDescriptor(U,w),Z=W?{enumerable:W.enumerable}:{};Object.defineProperty(B,w,X(X({},Z),{configurable:!0,get:function(){return Object(l.w)(U,w)?B.localComputedValues.get(w).get():B.isPropertyDirty(w)?B.localValues.get(w):B.model[w]},set:Object(l.k)(function(ce){ce!==B.model[w]?B.localValues.set(w,ce):B.localValues.delete(w)})}))}})}return Object.defineProperty(_.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),_.prototype.submit=function(){var U=this;Object(l.B)(this.localValues).forEach(function(B){var w=U.localValues.get(B),R=U.model[B];Object(l.y)(R)?R.replace(w):Object(l.z)(R)?(R.clear(),R.merge(w)):Object(l.v)(w)||(U.model[B]=w)}),this.localValues.clear()},_.prototype.reset=function(){this.localValues.clear()},_.prototype.resetProperty=function(U){this.localValues.delete(U)},Y([l.m],_.prototype,"isDirty",null),Y([l.m],_.prototype,"changedValues",null),Y([l.k.bound],_.prototype,"submit",null),Y([l.k.bound],_.prototype,"reset",null),Y([l.k.bound],_.prototype,"resetProperty",null),_})();function se(_){if(!_)return"ROOT";for(var U=[];_.parent;)U.push(_.path),_=_.parent;return U.reverse().join("/")}function te(_){return Object(l.A)(_)||Object(l.y)(_)||Object(l.z)(_)}function Q(_,U){var B=new WeakMap;function w(ce){var Pe=B.get(ce.object);R(ce,Pe),U(ce,se(Pe),_)}function R(ce,Pe){switch(ce.type){case"add":W(ce.newValue,Pe,ce.name);break;case"update":Z(ce.oldValue),W(ce.newValue,Pe,ce.name||""+ce.index);break;case"remove":case"delete":Z(ce.oldValue);break;case"splice":ce.removed.map(Z),ce.added.forEach(function(Se,Oe){return W(Se,Pe,""+(ce.index+Oe))});for(var me=ce.index+ce.addedCount;me<ce.object.length;me++)if(te(ce.object[me])){var be=B.get(ce.object[me]);be&&(be.path=""+me)}break}}function W(ce,Pe,me){if(te(ce)){var be=B.get(ce);if(be){if(be.parent!==Pe||be.path!==me)throw new Error("The same observable object cannot appear twice in the same tree,"+(" trying to assign it to '"+se(Pe)+"/"+me+"',")+(" but it already exists at '"+se(be.parent)+"/"+be.path+"'"))}else{var Se={parent:Pe,path:me,dispose:Object(l.D)(ce,w)};B.set(ce,Se),Object(l.p)(ce).forEach(function(Oe){var we=Oe[0],Fe=Oe[1];return W(Fe,Se,we)})}}}function Z(ce){if(te(ce)){var Pe=B.get(ce);if(!Pe)return;B.delete(ce),Pe.dispose(),Object(l.L)(ce).forEach(Z)}}return W(_,void 0,""),function(){Z(_)}}var ee=function(){var _=function(U,B){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,R){w.__proto__=R}||function(w,R){for(var W in R)R.hasOwnProperty(W)&&(w[W]=R[W])},_(U,B)};return function(U,B){_(U,B);function w(){this.constructor=U}U.prototype=B===null?Object.create(B):(w.prototype=B.prototype,new w)}}();(function(_){ee(U,_);function U(B,w,R){var W=R===void 0?{}:R,Z=W.name,ce=Z===void 0?"ogm"+(Math.random()*1e3|0):Z,Pe=W.keyToName,me=Pe===void 0?function(Oe){return""+Oe}:Pe,be=_.call(this)||this;be._keyToName=me,be._groupBy=w,be._ogmInfoKey=Symbol("ogmInfo"+ce),be._base=B;for(var Se=0;Se<B.length;Se++)be._addItem(B[Se]);return be._disposeBaseObserver=Object(l.D)(be._base,function(Oe){if(Oe.type==="splice")Object(l.J)(function(){for(var we=0,Fe=Oe.removed;we<Fe.length;we++){var Ve=Fe[we];be._removeItem(Ve)}for(var Le=0,Ee=Oe.added;Le<Ee.length;Le++){var _e=Ee[Le];be._addItem(_e)}});else if(Oe.type==="update")Object(l.J)(function(){be._removeItem(Oe.oldValue),be._addItem(Oe.newValue)});else throw new Error("illegal state")}),be}return U.prototype.clear=function(){throw new Error("not supported")},U.prototype.delete=function(B){throw new Error("not supported")},U.prototype.set=function(B,w){throw new Error("not supported")},U.prototype.dispose=function(){this._disposeBaseObserver();for(var B=0;B<this._base.length;B++){var w=this._base[B],R=w[this._ogmInfoKey];R.reaction(),delete w[this._ogmInfoKey]}},U.prototype._getGroupArr=function(B){var w=_.prototype.get.call(this,B);return w===void 0&&(w=Object(l.C)([],{name:"GroupArray["+this._keyToName(B)+"]",deep:!1}),_.prototype.set.call(this,B,w)),w},U.prototype._removeFromGroupArr=function(B,w){var R=_.prototype.get.call(this,B);R.length===1?_.prototype.delete.call(this,B):(w===R.length-1||(R[w]=R[R.length-1],R[w][this._ogmInfoKey].groupArrIndex=w),R.length--)},U.prototype._addItem=function(B){var w=this,R=this._groupBy(B),W=this._getGroupArr(R),Z={groupByValue:R,groupArrIndex:W.length,reaction:Object(l.F)(function(){return w._groupBy(B)},function(ce,Pe){var me=B[w._ogmInfoKey];w._removeFromGroupArr(me.groupByValue,me.groupArrIndex);var be=w._getGroupArr(ce),Se=be.length;be.push(B),me.groupByValue=ce,me.groupArrIndex=Se})};Object.defineProperty(B,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:Z}),W.push(B)},U.prototype._removeItem=function(B){var w=B[this._ogmInfoKey];this._removeFromGroupArr(w.groupByValue,w.groupArrIndex),w.reaction(),delete B[this._ogmInfoKey]},U})(l.b),Promise.resolve(),typeof queueMicrotask!="undefined"||typeof s!="undefined"&&s.nextTick}).call(this,i(155))},function(u,c,i){var s;(function(l,y,b){if(!l)return;for(var x={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},S={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},P={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},M={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},A,j=1;j<20;++j)x[111+j]="f"+j;for(j=0;j<=9;++j)x[j+96]=j.toString();function C(w,R,W){if(w.addEventListener){w.addEventListener(R,W,!1);return}w.attachEvent("on"+R,W)}function I(w){if(w.type=="keypress"){var R=String.fromCharCode(w.which);return w.shiftKey||(R=R.toLowerCase()),R}return x[w.which]?x[w.which]:S[w.which]?S[w.which]:String.fromCharCode(w.which).toLowerCase()}function z(w,R){return w.sort().join(",")===R.sort().join(",")}function X(w){var R=[];return w.shiftKey&&R.push("shift"),w.altKey&&R.push("alt"),w.ctrlKey&&R.push("ctrl"),w.metaKey&&R.push("meta"),R}function Y(w){if(w.preventDefault){w.preventDefault();return}w.returnValue=!1}function le(w){if(w.stopPropagation){w.stopPropagation();return}w.cancelBubble=!0}function se(w){return w=="shift"||w=="ctrl"||w=="alt"||w=="meta"}function te(){if(!A){A={};for(var w in x)w>95&&w<112||x.hasOwnProperty(w)&&(A[x[w]]=w)}return A}function Q(w,R,W){return W||(W=te()[w]?"keydown":"keypress"),W=="keypress"&&R.length&&(W="keydown"),W}function ee(w){return w==="+"?["+"]:(w=w.replace(/\+{2}/g,"+plus"),w.split("+"))}function _(w,R){var W,Z,ce,Pe=[];for(W=ee(w),ce=0;ce<W.length;++ce)Z=W[ce],M[Z]&&(Z=M[Z]),R&&R!="keypress"&&P[Z]&&(Z=P[Z],Pe.push("shift")),se(Z)&&Pe.push(Z);return R=Q(Z,Pe,R),{key:Z,modifiers:Pe,action:R}}function U(w,R){return w===null||w===y?!1:w===R?!0:U(w.parentNode,R)}function B(w){var R=this;if(w=w||y,!(R instanceof B))return new B(w);R.target=w,R._callbacks={},R._directMap={};var W={},Z,ce=!1,Pe=!1,me=!1;function be(Ee){Ee=Ee||{};var _e=!1,Xe;for(Xe in W){if(Ee[Xe]){_e=!0;continue}W[Xe]=0}_e||(me=!1)}function Se(Ee,_e,Xe,k,$,q){var he,xe,pe=[],Ge=Xe.type;if(!R._callbacks[Ee])return[];for(Ge=="keyup"&&se(Ee)&&(_e=[Ee]),he=0;he<R._callbacks[Ee].length;++he)if(xe=R._callbacks[Ee][he],!(!k&&xe.seq&&W[xe.seq]!=xe.level)&&Ge==xe.action&&(Ge=="keypress"&&!Xe.metaKey&&!Xe.ctrlKey||z(_e,xe.modifiers))){var nt=!k&&xe.combo==$,We=k&&xe.seq==k&&xe.level==q;(nt||We)&&R._callbacks[Ee].splice(he,1),pe.push(xe)}return pe}function Oe(Ee,_e,Xe,k){R.stopCallback(_e,_e.target||_e.srcElement,Xe,k)||Ee(_e,Xe)===!1&&(Y(_e),le(_e))}R._handleKey=function(Ee,_e,Xe){var k=Se(Ee,_e,Xe),$,q={},he=0,xe=!1;for($=0;$<k.length;++$)k[$].seq&&(he=Math.max(he,k[$].level));for($=0;$<k.length;++$){if(k[$].seq){if(k[$].level!=he)continue;xe=!0,q[k[$].seq]=1,Oe(k[$].callback,Xe,k[$].combo,k[$].seq);continue}xe||Oe(k[$].callback,Xe,k[$].combo)}var pe=Xe.type=="keypress"&&Pe;Xe.type==me&&!se(Ee)&&!pe&&be(q),Pe=xe&&Xe.type=="keydown"};function we(Ee){typeof Ee.which!="number"&&(Ee.which=Ee.keyCode);var _e=I(Ee);if(!!_e){if(Ee.type=="keyup"&&ce===_e){ce=!1;return}R.handleKey(_e,X(Ee),Ee)}}function Fe(){clearTimeout(Z),Z=setTimeout(be,1e3)}function Ve(Ee,_e,Xe,k){W[Ee]=0;function $(Ge){return function(){me=Ge,++W[Ee],Fe()}}function q(Ge){Oe(Xe,Ge,Ee),k!=="keyup"&&(ce=I(Ge)),setTimeout(be,10)}for(var he=0;he<_e.length;++he){var xe=he+1===_e.length,pe=xe?q:$(k||_(_e[he+1]).action);Le(_e[he],pe,k,Ee,he)}}function Le(Ee,_e,Xe,k,$){R._directMap[Ee+":"+Xe]=_e,Ee=Ee.replace(/\s+/g," ");var q=Ee.split(" "),he;if(q.length>1){Ve(Ee,q,_e,Xe);return}he=_(Ee,Xe),R._callbacks[he.key]=R._callbacks[he.key]||[],Se(he.key,he.modifiers,{type:he.action},k,Ee,$),R._callbacks[he.key][k?"unshift":"push"]({callback:_e,modifiers:he.modifiers,action:he.action,seq:k,level:$,combo:Ee})}R._bindMultiple=function(Ee,_e,Xe){for(var k=0;k<Ee.length;++k)Le(Ee[k],_e,Xe)},C(w,"keypress",we),C(w,"keydown",we),C(w,"keyup",we)}B.prototype.bind=function(w,R,W){var Z=this;return w=w instanceof Array?w:[w],Z._bindMultiple.call(Z,w,R,W),Z},B.prototype.unbind=function(w,R){var W=this;return W.bind.call(W,w,function(){},R)},B.prototype.trigger=function(w,R){var W=this;return W._directMap[w+":"+R]&&W._directMap[w+":"+R]({},w),W},B.prototype.reset=function(){var w=this;return w._callbacks={},w._directMap={},w},B.prototype.stopCallback=function(w,R){var W=this;if((" "+R.className+" ").indexOf(" mousetrap ")>-1||U(R,W.target))return!1;if("composedPath"in w&&typeof w.composedPath=="function"){var Z=w.composedPath()[0];Z!==w.target&&(R=Z)}return R.tagName=="INPUT"||R.tagName=="SELECT"||R.tagName=="TEXTAREA"||R.isContentEditable},B.prototype.handleKey=function(){var w=this;return w._handleKey.apply(w,arguments)},B.addKeycodes=function(w){for(var R in w)w.hasOwnProperty(R)&&(x[R]=w[R]);A=null},B.init=function(){var w=B(y);for(var R in w)R.charAt(0)!=="_"&&(B[R]=function(W){return function(){return w[W].apply(w,arguments)}}(R))},B.init(),l.Mousetrap=B,u.exports&&(u.exports=B),s=function(){return B}.call(c,i,c,u),s!==b&&(u.exports=s)})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(u,c,i){var s=i(36),l=i(37),y=i(32),b=i(39),x=i(67);u.exports=s?Object.defineProperties:function(P,M){y(P);for(var A=b(M),j=x(M),C=j.length,I=0,z;C>I;)l.f(P,z=j[I++],A[z]);return P}},function(u,c,i){var s=i(7),l=i(35),y=i(28),b=i(33),x=s.TypeError;u.exports=function(S,P){var M,A;if(P==="string"&&y(M=S.toString)&&!b(A=l(M,S))||y(M=S.valueOf)&&!b(A=l(M,S))||P!=="string"&&y(M=S.toString)&&!b(A=l(M,S)))return A;throw x("Can't convert object to primitive value")}},function(u,c,i){var s=i(7),l=i(28),y=i(92),b=s.WeakMap;u.exports=l(b)&&/native code/.test(y(b))},function(u,c,i){var s=i(136).IteratorPrototype,l=i(54),y=i(72),b=i(74),x=i(71),S=function(){return this};u.exports=function(P,M,A,j){var C=M+" Iterator";return P.prototype=l(s,{next:y(+!j,A)}),b(P,C,!1,!0),x[C]=S,P}},function(u,c,i){var s=i(7),l=i(28),y=s.String,b=s.TypeError;u.exports=function(x){if(typeof x=="object"||l(x))return x;throw b("Can't set "+y(x)+" as a prototype")}},function(u,c,i){var s=i(16),l=i(7),y=i(15),b=i(95),x=i(44),S=i(138),P=i(114),M=i(117),A=i(28),j=i(33),C=i(18),I=i(118),z=i(74),X=i(143);u.exports=function(Y,le,se){var te=Y.indexOf("Map")!==-1,Q=Y.indexOf("Weak")!==-1,ee=te?"set":"add",_=l[Y],U=_&&_.prototype,B=_,w={},R=function(Se){var Oe=y(U[Se]);x(U,Se,Se=="add"?function(Fe){return Oe(this,Fe===0?0:Fe),this}:Se=="delete"?function(we){return Q&&!j(we)?!1:Oe(this,we===0?0:we)}:Se=="get"?function(Fe){return Q&&!j(Fe)?void 0:Oe(this,Fe===0?0:Fe)}:Se=="has"?function(Fe){return Q&&!j(Fe)?!1:Oe(this,Fe===0?0:Fe)}:function(Fe,Ve){return Oe(this,Fe===0?0:Fe,Ve),this})},W=b(Y,!A(_)||!(Q||U.forEach&&!C(function(){new _().entries().next()})));if(W)B=se.getConstructor(le,Y,te,ee),S.enable();else if(b(Y,!0)){var Z=new B,ce=Z[ee](Q?{}:-0,1)!=Z,Pe=C(function(){Z.has(1)}),me=I(function(Se){new _(Se)}),be=!Q&&C(function(){for(var Se=new _,Oe=5;Oe--;)Se[ee](Oe,Oe);return!Se.has(-0)});me||(B=le(function(Se,Oe){M(Se,U);var we=X(new _,Se,B);return Oe!=null&&P(Oe,we[ee],{that:we,AS_ENTRIES:te}),we}),B.prototype=U,U.constructor=B),(Pe||be)&&(R("delete"),R("has"),te&&R("get")),(be||ce)&&R(ee),Q&&U.clear&&delete U.clear}return w[Y]=B,s({global:!0,forced:B!=_},w),z(B,Y),Q||se.setStrong(B,Y,te),B}},function(u,c,i){var s=i(18),l=i(33),y=i(50),b=i(175),x=Object.isExtensible,S=s(function(){});u.exports=S||b?function(M){return!l(M)||b&&y(M)=="ArrayBuffer"?!1:x?x(M):!0}:x},function(u,c,i){var s=i(18);u.exports=s(function(){if(typeof ArrayBuffer=="function"){var l=new ArrayBuffer(8);Object.isExtensible(l)&&Object.defineProperty(l,"a",{value:8})}})},function(u,c,i){var s=i(18);u.exports=!s(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(u,c,i){var s=i(37).f,l=i(54),y=i(144),b=i(62),x=i(117),S=i(114),P=i(111),M=i(145),A=i(36),j=i(138).fastKey,C=i(56),I=C.set,z=C.getterFor;u.exports={getConstructor:function(X,Y,le,se){var te=X(function(B,w){x(B,Q),I(B,{type:Y,index:l(null),first:void 0,last:void 0,size:0}),A||(B.size=0),w!=null&&S(w,B[se],{that:B,AS_ENTRIES:le})}),Q=te.prototype,ee=z(Y),_=function(B,w,R){var W=ee(B),Z=U(B,w),ce,Pe;return Z?Z.value=R:(W.last=Z={index:Pe=j(w,!0),key:w,value:R,previous:ce=W.last,next:void 0,removed:!1},W.first||(W.first=Z),ce&&(ce.next=Z),A?W.size++:B.size++,Pe!=="F"&&(W.index[Pe]=Z)),B},U=function(B,w){var R=ee(B),W=j(w),Z;if(W!=="F")return R.index[W];for(Z=R.first;Z;Z=Z.next)if(Z.key==w)return Z};return y(Q,{clear:function(){for(var w=this,R=ee(w),W=R.index,Z=R.first;Z;)Z.removed=!0,Z.previous&&(Z.previous=Z.previous.next=void 0),delete W[Z.index],Z=Z.next;R.first=R.last=void 0,A?R.size=0:w.size=0},delete:function(B){var w=this,R=ee(w),W=U(w,B);if(W){var Z=W.next,ce=W.previous;delete R.index[W.index],W.removed=!0,ce&&(ce.next=Z),Z&&(Z.previous=ce),R.first==W&&(R.first=Z),R.last==W&&(R.last=ce),A?R.size--:w.size--}return!!W},forEach:function(w){for(var R=ee(this),W=b(w,arguments.length>1?arguments[1]:void 0),Z;Z=Z?Z.next:R.first;)for(W(Z.value,Z.key,this);Z&&Z.removed;)Z=Z.previous},has:function(w){return!!U(this,w)}}),y(Q,le?{get:function(w){var R=U(this,w);return R&&R.value},set:function(w,R){return _(this,w===0?0:w,R)}}:{add:function(w){return _(this,w=w===0?0:w,w)}}),A&&s(Q,"size",{get:function(){return ee(this).size}}),te},setStrong:function(X,Y,le){var se=Y+" Iterator",te=z(Y),Q=z(se);P(X,Y,function(ee,_){I(this,{type:se,target:ee,state:te(ee),kind:_,last:void 0})},function(){for(var ee=Q(this),_=ee.kind,U=ee.last;U&&U.removed;)U=U.previous;return!ee.target||!(ee.last=U=U?U.next:ee.state.first)?(ee.target=void 0,{value:void 0,done:!0}):_=="keys"?{value:U.key,done:!1}:_=="values"?{value:U.value,done:!1}:{value:[U.key,U.value],done:!1}},le?"entries":"values",!le,!0),M(Y)}}},function(u,c,i){var s=i(116),l=i(98);u.exports=s?{}.toString:function(){return"[object "+l(this)+"]"}},function(u,c,i){var s=i(75).forEach,l=i(120),y=l("forEach");u.exports=y?[].forEach:function(x){return s(this,x,arguments.length>1?arguments[1]:void 0)}},function(u,c,i){var s=i(7),l=i(99),y=i(100),b=i(33),x=i(27),S=x("species"),P=s.Array;u.exports=function(M){var A;return l(M)&&(A=M.constructor,y(A)&&(A===P||l(A.prototype))?A=void 0:b(A)&&(A=A[S],A===null&&(A=void 0))),A===void 0?P:A}},function(u,c,i){var s=i(7);u.exports=s},function(u,c,i){var s=i(7),l=i(62),y=i(35),b=i(38),x=i(183),S=i(140),P=i(100),M=i(43),A=i(61),j=i(141),C=i(115),I=s.Array;u.exports=function(X){var Y=b(X),le=P(this),se=arguments.length,te=se>1?arguments[1]:void 0,Q=te!==void 0;Q&&(te=l(te,se>2?arguments[2]:void 0));var ee=C(Y),_=0,U,B,w,R,W,Z;if(ee&&!(this==I&&S(ee)))for(R=j(Y,ee),W=R.next,B=le?new this:[];!(w=y(W,R)).done;_++)Z=Q?x(R,te,[w.value,_],!0):w.value,A(B,_,Z);else for(U=M(Y),B=le?new this(U):I(U);U>_;_++)Z=Q?te(Y[_],_):Y[_],A(B,_,Z);return B.length=_,B}},function(u,c,i){var s=i(32),l=i(142);u.exports=function(y,b,x,S){try{return S?b(s(x)[0],x[1]):b(x)}catch(P){l(y,"throw",P)}}},function(u,c,i){var s=i(32);u.exports=function(){var l=s(this),y="";return l.global&&(y+="g"),l.ignoreCase&&(y+="i"),l.multiline&&(y+="m"),l.dotAll&&(y+="s"),l.unicode&&(y+="u"),l.sticky&&(y+="y"),y}},function(u,c,i){var s=i(18),l=i(7),y=l.RegExp;u.exports=s(function(){var b=y(".","s");return!(b.dotAll&&b.exec(`
`)&&b.flags==="s")})},function(u,c,i){var s=i(18),l=i(7),y=l.RegExp;u.exports=s(function(){var b=y("(?<a>b)","g");return b.exec("b").groups.a!=="b"||"b".replace(b,"$<a>c")!=="bc"})},function(u,c,i){var s=i(16),l=i(15),y=i(55),b=i(38),x=i(43),S=i(40),P=i(18),M=i(188),A=i(120),j=i(189),C=i(190),I=i(66),z=i(191),X=[],Y=l(X.sort),le=l(X.push),se=P(function(){X.sort(void 0)}),te=P(function(){X.sort(null)}),Q=A("sort"),ee=!P(function(){if(I)return I<70;if(!(j&&j>3)){if(C)return!0;if(z)return z<603;var B="",w,R,W,Z;for(w=65;w<76;w++){switch(R=String.fromCharCode(w),w){case 66:case 69:case 70:case 72:W=3;break;case 68:case 71:W=4;break;default:W=2}for(Z=0;Z<47;Z++)X.push({k:R+Z,v:W})}for(X.sort(function(ce,Pe){return Pe.v-ce.v}),Z=0;Z<X.length;Z++)R=X[Z].k.charAt(0),B.charAt(B.length-1)!==R&&(B+=R);return B!=="DGBEFHACIJK"}}),_=se||!te||!Q||!ee,U=function(B){return function(w,R){return R===void 0?-1:w===void 0?1:B!==void 0?+B(w,R)||0:S(w)>S(R)?1:-1}};s({target:"Array",proto:!0,forced:_},{sort:function(w){w!==void 0&&y(w);var R=b(this);if(ee)return w===void 0?Y(R):Y(R,w);var W=[],Z=x(R),ce,Pe;for(Pe=0;Pe<Z;Pe++)Pe in R&&le(W,R[Pe]);for(M(W,U(w)),ce=W.length,Pe=0;Pe<ce;)R[Pe]=W[Pe++];for(;Pe<Z;)delete R[Pe++];return R}})},function(u,c,i){var s=i(113),l=Math.floor,y=function(S,P){var M=S.length,A=l(M/2);return M<8?b(S,P):x(S,y(s(S,0,A),P),y(s(S,A),P),P)},b=function(S,P){for(var M=S.length,A=1,j,C;A<M;){for(C=A,j=S[A];C&&P(S[C-1],j)>0;)S[C]=S[--C];C!==A++&&(S[C]=j)}return S},x=function(S,P,M,A){for(var j=P.length,C=M.length,I=0,z=0;I<j||z<C;)S[I+z]=I<j&&z<C?A(P[I],M[z])<=0?P[I++]:M[z++]:I<j?P[I++]:M[z++];return S};u.exports=y},function(u,c,i){var s=i(53),l=s.match(/firefox\/(\d+)/i);u.exports=!!l&&+l[1]},function(u,c,i){var s=i(53);u.exports=/MSIE|Trident/.test(s)},function(u,c,i){var s=i(53),l=s.match(/AppleWebKit\/(\d+)\./);u.exports=!!l&&+l[1]},function(u,c,i){var s=i(16),l=i(75).find,y=i(83),b="find",x=!0;b in[]&&Array(1)[b](function(){x=!1}),s({target:"Array",proto:!0,forced:x},{find:function(P){return l(this,P,arguments.length>1?arguments[1]:void 0)}}),y(b)},function(u,c,i){var s=i(7),l=i(154),y=s.TypeError;u.exports=function(b){if(l(b))throw y("The method doesn't accept regular expressions");return b}},function(u,c,i){var s=i(27),l=s("match");u.exports=function(y){var b=/./;try{"/./"[y](b)}catch(x){try{return b[l]=!1,"/./"[y](b)}catch(S){}}return!1}},function(u,c,i){var s=i(94).PROPER,l=i(18),y=i(160),b="\u200B\x85\u180E";u.exports=function(x){return l(function(){return!!y[x]()||b[x]()!==b||s&&y[x].name!==x})}},function(u,c,i){var s=i(15);u.exports=s(1 .valueOf)},function(u,c,i){var s=i(15),l=i(38),y=Math.floor,b=s("".charAt),x=s("".replace),S=s("".slice),P=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,M=/\$([$&'`]|\d{1,2})/g;u.exports=function(A,j,C,I,z,X){var Y=C+A.length,le=I.length,se=M;return z!==void 0&&(z=l(z),se=P),x(X,se,function(te,Q){var ee;switch(b(Q,0)){case"$":return"$";case"&":return A;case"`":return S(j,0,C);case"'":return S(j,Y);case"<":ee=z[S(Q,1,-1)];break;default:var _=+Q;if(_===0)return te;if(_>le){var U=y(_/10);return U===0?te:U<=le?I[U-1]===void 0?b(Q,1):I[U-1]+b(Q,1):te}ee=I[_-1]}return ee===void 0?"":ee})}},function(u,c,i){var s=i(36),l=i(15),y=i(35),b=i(18),x=i(67),S=i(112),P=i(93),M=i(38),A=i(81),j=Object.assign,C=Object.defineProperty,I=l([].concat);u.exports=!j||b(function(){if(s&&j({b:1},j(C({},"a",{enumerable:!0,get:function(){C(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var z={},X={},Y=Symbol(),le="abcdefghijklmnopqrst";return z[Y]=7,le.split("").forEach(function(se){X[se]=se}),j({},z)[Y]!=7||x(j({},X)).join("")!=le})?function(X,Y){for(var le=M(X),se=arguments.length,te=1,Q=S.f,ee=P.f;se>te;)for(var _=A(arguments[te++]),U=Q?I(x(_),Q(_)):x(_),B=U.length,w=0,R;B>w;)R=U[w++],(!s||y(ee,_,R))&&(le[R]=_[R]);return le}:j},function(u,c,i){var s=i(7),l=i(15),y=i(55),b=i(33),x=i(34),S=i(101),P=s.Function,M=l([].concat),A=l([].join),j={},C=function(I,z,X){if(!x(j,z)){for(var Y=[],le=0;le<z;le++)Y[le]="a["+le+"]";j[z]=P("C,a","return new C("+A(Y,",")+")")}return j[z](I,X)};u.exports=P.bind||function(z){var X=y(this),Y=X.prototype,le=S(arguments,1),se=function(){var Q=M(le,S(arguments));return this instanceof se?C(X,Q.length,Q):X.apply(z,Q)};return b(Y)&&(se.prototype=Y),se}},function(u,c,i){var s=i(34);u.exports=function(l){return l!==void 0&&(s(l,"value")||s(l,"writable"))}},function(u,c,i){var s=i(15),l=i(45),y=i(40),b=/"/g,x=s("".replace);u.exports=function(S,P,M,A){var j=y(l(S)),C="<"+P;return M!==""&&(C+=" "+M+'="'+x(y(A),b,"&quot;")+'"'),C+">"+j+"</"+P+">"}},function(u,c,i){var s=i(18);u.exports=function(l){return s(function(){var y=""[l]('"');return y!==y.toLowerCase()||y.split('"').length>3})}},function(u,c,i){var s=i(16),l=Math.hypot,y=Math.abs,b=Math.sqrt,x=!!l&&l(1/0,NaN)!==1/0;s({target:"Math",stat:!0,forced:x},{hypot:function(P,M){for(var A=0,j=0,C=arguments.length,I=0,z,X;j<C;)z=y(arguments[j++]),I<z?(X=I/z,A=A*X*X+1,I=z):z>0?(X=z/I,A+=X*X):A+=z;return I===1/0?1/0:I*b(A)}})},function(u,c,i){var s=i(16),l=i(65),y=i(7),b=i(46),x=i(35),S=i(205),P=i(44),M=i(144),A=i(97),j=i(74),C=i(145),I=i(55),z=i(28),X=i(33),Y=i(117),le=i(92),se=i(114),te=i(118),Q=i(156),ee=i(162).set,_=i(206),U=i(209),B=i(210),w=i(164),R=i(211),W=i(56),Z=i(95),ce=i(27),Pe=i(212),me=i(126),be=i(66),Se=ce("species"),Oe="Promise",we=W.getterFor(Oe),Fe=W.set,Ve=W.getterFor(Oe),Le=S&&S.prototype,Ee=S,_e=Le,Xe=y.TypeError,k=y.document,$=y.process,q=w.f,he=q,xe=!!(k&&k.createEvent&&y.dispatchEvent),pe=z(y.PromiseRejectionEvent),Ge="unhandledrejection",nt="rejectionhandled",We=0,it=1,ve=2,lt=1,ot=2,ze=!1,et,wt,vt,Ot,ae=Z(Oe,function(){var Ce=le(Ee),Ye=Ce!==String(Ee);if(!Ye&&be===66||l&&!_e.finally)return!0;if(be>=51&&/native code/.test(Ce))return!1;var at=new Ee(function(H){H(1)}),Je=function(H){H(function(){},function(){})},ct=at.constructor={};return ct[Se]=Je,ze=at.then(function(){})instanceof Je,ze?!Ye&&Pe&&!pe:!0}),jt=ae||!te(function(Ce){Ee.all(Ce).catch(function(){})}),xt=function(Ce){var Ye;return X(Ce)&&z(Ye=Ce.then)?Ye:!1},mt=function(Ce,Ye){if(!Ce.notified){Ce.notified=!0;var at=Ce.reactions;_(function(){for(var Je=Ce.value,ct=Ce.state==it,H=0;at.length>H;){var J=at[H++],re=ct?J.ok:J.fail,ne=J.resolve,Te=J.reject,De=J.domain,$e,yt,er;try{re?(ct||(Ce.rejection===ot&&Mr(Ce),Ce.rejection=lt),re===!0?$e=Je:(De&&De.enter(),$e=re(Je),De&&(De.exit(),er=!0)),$e===J.promise?Te(Xe("Promise-chain cycle")):(yt=xt($e))?x(yt,$e,ne,Te):ne($e)):Te(Je)}catch(tr){De&&!er&&De.exit(),Te(tr)}}Ce.reactions=[],Ce.notified=!1,Ye&&!Ce.rejection&&mr(Ce)})}},Vt=function(Ce,Ye,at){var Je,ct;xe?(Je=k.createEvent("Event"),Je.promise=Ye,Je.reason=at,Je.initEvent(Ce,!1,!0),y.dispatchEvent(Je)):Je={promise:Ye,reason:at},!pe&&(ct=y["on"+Ce])?ct(Je):Ce===Ge&&B("Unhandled promise rejection",at)},mr=function(Ce){x(ee,y,function(){var Ye=Ce.facade,at=Ce.value,Je=qt(Ce),ct;if(Je&&(ct=R(function(){me?$.emit("unhandledRejection",at,Ye):Vt(Ge,Ye,at)}),Ce.rejection=me||qt(Ce)?ot:lt,ct.error))throw ct.value})},qt=function(Ce){return Ce.rejection!==lt&&!Ce.parent},Mr=function(Ce){x(ee,y,function(){var Ye=Ce.facade;me?$.emit("rejectionHandled",Ye):Vt(nt,Ye,Ce.value)})},tt=function(Ce,Ye,at){return function(Je){Ce(Ye,Je,at)}},Pt=function(Ce,Ye,at){Ce.done||(Ce.done=!0,at&&(Ce=at),Ce.value=Ye,Ce.state=ve,mt(Ce,!0))},ur=function(Ce,Ye,at){if(!Ce.done){Ce.done=!0,at&&(Ce=at);try{if(Ce.facade===Ye)throw Xe("Promise can't be resolved itself");var Je=xt(Ye);Je?_(function(){var ct={done:!1};try{x(Je,Ye,tt(ur,ct,Ce),tt(Pt,ct,Ce))}catch(H){Pt(ct,H,Ce)}}):(Ce.value=Ye,Ce.state=it,mt(Ce,!1))}catch(ct){Pt({done:!1},ct,Ce)}}};if(ae&&(Ee=function(Ye){Y(this,_e),I(Ye),x(et,this);var at=we(this);try{Ye(tt(ur,at),tt(Pt,at))}catch(Je){Pt(at,Je)}},_e=Ee.prototype,et=function(Ye){Fe(this,{type:Oe,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:We,value:void 0})},et.prototype=M(_e,{then:function(Ye,at){var Je=Ve(this),ct=Je.reactions,H=q(Q(this,Ee));return H.ok=z(Ye)?Ye:!0,H.fail=z(at)&&at,H.domain=me?$.domain:void 0,Je.parent=!0,ct[ct.length]=H,Je.state!=We&&mt(Je,!1),H.promise},catch:function(Ce){return this.then(void 0,Ce)}}),wt=function(){var Ce=new et,Ye=we(Ce);this.promise=Ce,this.resolve=tt(ur,Ye),this.reject=tt(Pt,Ye)},w.f=q=function(Ce){return Ce===Ee||Ce===vt?new wt(Ce):he(Ce)},!l&&z(S)&&Le!==Object.prototype)){Ot=Le.then,ze||(P(Le,"then",function(Ye,at){var Je=this;return new Ee(function(ct,H){x(Ot,Je,ct,H)}).then(Ye,at)},{unsafe:!0}),P(Le,"catch",_e.catch,{unsafe:!0}));try{delete Le.constructor}catch(Ce){}A&&A(Le,_e)}s({global:!0,wrap:!0,forced:ae},{Promise:Ee}),j(Ee,Oe,!1,!0),C(Oe),vt=b(Oe),s({target:Oe,stat:!0,forced:ae},{reject:function(Ye){var at=q(this);return x(at.reject,void 0,Ye),at.promise}}),s({target:Oe,stat:!0,forced:l||ae},{resolve:function(Ye){return U(l&&this===vt?Ee:this,Ye)}}),s({target:Oe,stat:!0,forced:jt},{all:function(Ye){var at=this,Je=q(at),ct=Je.resolve,H=Je.reject,J=R(function(){var re=I(at.resolve),ne=[],Te=0,De=1;se(Ye,function($e){var yt=Te++,er=!1;De++,x(re,at,$e).then(function(tr){er||(er=!0,ne[yt]=tr,--De||ct(ne))},H)}),--De||ct(ne)});return J.error&&H(J.value),Je.promise},race:function(Ye){var at=this,Je=q(at),ct=Je.reject,H=R(function(){var J=I(at.resolve);se(Ye,function(re){x(J,at,re).then(Je.resolve,ct)})});return H.error&&ct(H.value),Je.promise}})},function(u,c,i){var s=i(7);u.exports=s.Promise},function(u,c,i){var s=i(7),l=i(62),y=i(51).f,b=i(162).set,x=i(163),S=i(207),P=i(208),M=i(126),A=s.MutationObserver||s.WebKitMutationObserver,j=s.document,C=s.process,I=s.Promise,z=y(s,"queueMicrotask"),X=z&&z.value,Y,le,se,te,Q,ee,_,U;X||(Y=function(){var B,w;for(M&&(B=C.domain)&&B.exit();le;){w=le.fn,le=le.next;try{w()}catch(R){throw le?te():se=void 0,R}}se=void 0,B&&B.enter()},!x&&!M&&!P&&A&&j?(Q=!0,ee=j.createTextNode(""),new A(Y).observe(ee,{characterData:!0}),te=function(){ee.data=Q=!Q}):!S&&I&&I.resolve?(_=I.resolve(void 0),_.constructor=I,U=l(_.then,_),te=function(){U(Y)}):M?te=function(){C.nextTick(Y)}:(b=l(b,s),te=function(){b(Y)})),u.exports=X||function(B){var w={fn:B,next:void 0};se&&(se.next=w),le||(le=w,te()),se=w}},function(u,c,i){var s=i(53),l=i(7);u.exports=/ipad|iphone|ipod/i.test(s)&&l.Pebble!==void 0},function(u,c,i){var s=i(53);u.exports=/web0s(?!.*chrome)/i.test(s)},function(u,c,i){var s=i(32),l=i(33),y=i(164);u.exports=function(b,x){if(s(b),l(x)&&x.constructor===b)return x;var S=y.f(b),P=S.resolve;return P(x),S.promise}},function(u,c,i){var s=i(7);u.exports=function(l,y){var b=s.console;b&&b.error&&(arguments.length==1?b.error(l):b.error(l,y))}},function(u,c){u.exports=function(i){try{return{error:!1,value:i()}}catch(s){return{error:!0,value:s}}}},function(u,c){u.exports=typeof window=="object"},function(u,c,i){var s=i(36),l=i(15),y=i(67),b=i(39),x=i(93).f,S=l(x),P=l([].push),M=function(A){return function(j){for(var C=b(j),I=y(C),z=I.length,X=0,Y=[],le;z>X;)le=I[X++],(!s||S(C,le))&&P(Y,A?[le,C[le]]:C[le]);return Y}};u.exports={entries:M(!0),values:M(!1)}},function(u,c,i){var s=i(38),l=i(68),y=i(43);u.exports=function(x){for(var S=s(this),P=y(S),M=arguments.length,A=l(M>1?arguments[1]:void 0,P),j=M>2?arguments[2]:void 0,C=j===void 0?P:l(j,P);C>A;)S[A++]=x;return S}},function(u,c,i){i.r(c),i.d(c,"observer",function(){return kr}),i.d(c,"LogicFlow",function(){return Qc}),i.d(c,"h",function(){return ae.g}),i.d(c,"LogicFlowUtil",function(){return s}),i.d(c,"BaseNode",function(){return vn}),i.d(c,"RectNode",function(){return cc}),i.d(c,"CircleNode",function(){return hc}),i.d(c,"PolygonNode",function(){return gc}),i.d(c,"DiamondNode",function(){return Oc}),i.d(c,"EllipseNode",function(){return xc}),i.d(c,"TextNode",function(){return Ac}),i.d(c,"HtmlNode",function(){return wc}),i.d(c,"BaseEdge",function(){return Pi}),i.d(c,"LineEdge",function(){return _c}),i.d(c,"PolylineEdge",function(){return Gc}),i.d(c,"BezierEdge",function(){return kc}),i.d(c,"Arrow",function(){return dj}),i.d(c,"BaseEdgeModel",function(){return pf}),i.d(c,"BezierEdgeModel",function(){return Ff}),i.d(c,"LineEdgeModel",function(){return yf}),i.d(c,"PolylineEdgeModel",function(){return bf}),i.d(c,"BaseNodeModel",function(){return pn}),i.d(c,"CircleNodeModel",function(){return Uf}),i.d(c,"DiamondNodeModel",function(){return $f}),i.d(c,"EllipseNodeModel",function(){return Wf}),i.d(c,"PolygonNodeModel",function(){return Zf}),i.d(c,"RectNodeModel",function(){return qf}),i.d(c,"TextNodeModel",function(){return tc}),i.d(c,"HtmlNodeModel",function(){return nc}),i.d(c,"EditConfigModel",function(){return sp}),i.d(c,"GraphModel",function(){return iv}),i.d(c,"SnaplineModel",function(){return ig}),i.d(c,"Keyboard",function(){return cm}),i.d(c,"get",function(){return Fv}),i.d(c,"defaults",function(){return Gv}),i.d(c,"ElementState",function(){return bt}),i.d(c,"ModelType",function(){return ht}),i.d(c,"ElementType",function(){return Gt}),i.d(c,"EventType",function(){return rt});var s={};i.r(s),i.d(s,"createUuid",function(){return Bn}),i.d(s,"refreshGraphId",function(){return mP}),i.d(s,"createDrag",function(){return PA}),i.d(s,"StepDrag",function(){return fn});var l=i(0),y=i(10);if(!y.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!l.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var b=i(42),x=Object(b.b)("observerBatching");function S(e){e()}function P(e){e||(e=S),Object(l.n)({reactionScheduler:e}),Object(b.a)()[x]=!0}function M(e){return Object(l.t)(e)}function A(e){var r={cleanAt:Date.now()+j,reaction:e};return r}var j=1e4,C=1e4,I=new Set,z;function X(){z===void 0&&(z=setTimeout(se,C))}function Y(e){I.add(e),X()}function le(e){I.delete(e)}function se(){z=void 0;var e=Date.now();I.forEach(function(r){var t=r.current;t&&e>=t.cleanAt&&(t.reaction.dispose(),r.current=null,I.delete(r))}),I.size>0&&X()}var te=!1,Q=[];function ee(e){return function(){te?Q.push(e):e()}}function _(e){te=!0,Q=[];try{var r=e();te=!1;var t=Q.length>0?Q:void 0;return y.d.useLayoutEffect(function(){t&&t.forEach(function(n){return n()})},[t]),r}finally{te=!1}}var U={};function B(e){return"observer"+e}function w(e,r,t){r===void 0&&(r="observed"),t===void 0&&(t=U);var n=t.useForceUpdate||b.d,o=n(),a=ee(o),f=y.d.useRef(null);if(!f.current){var p=new l.c(B(r),function(){m.mounted?a():(p.dispose(),f.current=null)}),m=A(p);f.current=m,Y(f)}var O=f.current.reaction;return y.d.useDebugValue(O,M),y.d.useEffect(function(){return le(f),f.current?f.current.mounted=!0:(f.current={reaction:new l.c(B(r),function(){a()}),cleanAt:1/0},a()),function(){f.current.reaction.dispose(),f.current=null}},[]),_(function(){var T,N;if(O.track(function(){try{T=e()}catch(L){N=L}}),N)throw N;return T})}var R=function(){return R=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},R.apply(this,arguments)};function W(e,r){var t=R({forwardRef:!1},r),n=e.displayName||e.name,o=function(f,p){return w(function(){return e(f,p)},n)};o.displayName=n;var a;return t.forwardRef?a=Object(y.f)(Object(y.e)(o)):a=Object(y.f)(o),ce(e,a),a.displayName=n,a}var Z={$$typeof:!0,render:!0,compare:!0,type:!0};function ce(e,r){Object.keys(e).forEach(function(t){Z[t]||Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}function Pe(e){var r=e.children,t=e.render,n=r||t;return typeof n!="function"?null:w(n)}Pe.propTypes={children:me,render:me},Pe.displayName="Observer";function me(e,r,t,n,o){var a=r==="children"?"render":"children",f=typeof e[r]=="function",p=typeof e[a]=="function";return f&&p?new Error("MobX Observer: Do not use children and render in the same time in`"+t):f||p?null:new Error("Invalid prop `"+o+"` of type `"+typeof e[r]+"` supplied to `"+t+"`, expected `function`.")}P(y.g);var be=0;function Se(e){if(typeof Symbol=="function")return Symbol(e);var r="__$mobx-react "+e+" ("+be+")";return be++,r}var Oe={};function we(e){return Oe[e]||(Oe[e]=Se(e)),Oe[e]}function Fe(e,r){if(Ve(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(var o=0;o<t.length;o++)if(!Object.hasOwnProperty.call(r,t[o])||!Ve(e[t[o]],r[t[o]]))return!1;return!0}function Ve(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}function Le(e,r,t){Object.hasOwnProperty.call(e,r)?e[r]=t:Object.defineProperty(e,r,{enumerable:!1,configurable:!0,writable:!0,value:t})}var Ee=we("patchMixins"),_e=we("patchedDefinition");function Xe(e,r){var t=e[Ee]=e[Ee]||{},n=t[r]=t[r]||{};return n.locks=n.locks||0,n.methods=n.methods||[],n}function k(e,r){for(var t=this,n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];r.locks++;try{var f;return e!=null&&(f=e.apply(this,o)),f}finally{r.locks--,r.locks===0&&r.methods.forEach(function(p){p.apply(t,o)})}}function $(e,r){var t=function(){for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];k.call.apply(k,[this,e,r].concat(a))};return t}function q(e,r,t){var n=Xe(e,r);n.methods.indexOf(t)<0&&n.methods.push(t);var o=Object.getOwnPropertyDescriptor(e,r);if(!(o&&o[_e])){var a=e[r],f=he(e,r,o?o.enumerable:void 0,n,a);Object.defineProperty(e,r,f)}}function he(e,r,t,n,o){var a,f=$(o,n);return a={},a[_e]=!0,a.get=function(){return f},a.set=function(m){if(this===e)f=$(m,n);else{var O=he(this,r,t,n,m);Object.defineProperty(this,r,O)}},a.configurable=!0,a.enumerable=t,a}var xe=l.a||"$mobx",pe=we("isMobXReactObserver"),Ge=we("isUnmounted"),nt=we("skipRender"),We=we("isForcingUpdate");function it(e){var r=e.prototype;if(e[pe]){var t=ve(r);console.warn("The provided component class ("+t+`) 
                has already been declared as an observer component.`)}else e[pe]=!0;if(r.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==y.b){if(!r.shouldComponentUpdate)r.shouldComponentUpdate=ot;else if(r.shouldComponentUpdate!==ot)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}ze(r,"props"),ze(r,"state");var n=r.render;return r.render=function(){return lt.call(this,n)},q(r,"componentWillUnmount",function(){var o;if((o=this.render[xe])===null||o===void 0||o.dispose(),this[Ge]=!0,!this.render[xe]){var a=ve(this);console.warn("The reactive render of an observer class component ("+a+`) 
                was overriden after MobX attached. This may result in a memory leak if the 
                overriden reactive render was not properly disposed.`)}}),e}function ve(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function lt(e){var r=this;Le(this,nt,!1),Le(this,We,!1);var t=ve(this),n=e.bind(this),o=!1,a=new l.c(t+".render()",function(){if(!o&&(o=!0,r[Ge]!==!0)){var p=!0;try{Le(r,We,!0),r[nt]||y.a.prototype.forceUpdate.call(r),p=!1}finally{Le(r,We,!1),p&&a.dispose()}}});a.reactComponent=this,f[xe]=a,this.render=f;function f(){o=!1;var p=void 0,m=void 0;if(a.track(function(){try{m=Object(l.d)(!1,n)}catch(O){p=O}}),p)throw p;return m}return f.call(this)}function ot(e,r){return this.state!==r?!0:!Fe(this.props,e)}function ze(e,r){var t=we("reactProp_"+r+"_valueHolder"),n=we("reactProp_"+r+"_atomHolder");function o(){return this[n]||Le(this,n,Object(l.o)("reactive "+r)),this[n]}Object.defineProperty(e,r,{configurable:!0,enumerable:!0,get:function(){var f=!1;return l.f&&l.e&&(f=Object(l.f)(!0)),o.call(this).reportObserved(),l.f&&l.e&&Object(l.e)(f),this[t]},set:function(f){!this[We]&&!Fe(this[t],f)?(Le(this,t,f),Le(this,nt,!0),o.call(this).reportChanged(),Le(this,nt,!1)):Le(this,t,f)}})}var et=typeof Symbol=="function"&&Symbol.for,wt=et?Symbol.for("react.forward_ref"):typeof y.e=="function"&&Object(y.e)(function(e){return null}).$$typeof,vt=et?Symbol.for("react.memo"):typeof y.f=="function"&&Object(y.f)(function(e){return null}).$$typeof;function Ot(e){if(e.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),vt&&e.$$typeof===vt)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(wt&&e.$$typeof===wt){var r=e.render;if(typeof r!="function")throw new Error("render property of ForwardRef was not a function");return Object(y.e)(function(){var n=arguments;return Object(y.c)(Pe,null,function(){return r.apply(void 0,n)})})}return typeof e=="function"&&(!e.prototype||!e.prototype.render)&&!e.isReactClass&&!Object.prototype.isPrototypeOf.call(y.a,e)?W(e):it(e)}if(!y.a)throw new Error("mobx-react requires React to be available");if(!l.C)throw new Error("mobx-react requires mobx to be available");var ae=i(1);i(3),i(60),i(2),i(6),i(4),i(11),i(41),i(23),i(20),i(5),i(22),i(21),i(24),i(8),i(9),i(17),i(25),i(19),i(29),i(187),i(192),i(103),i(152),i(153);function jt(e,r){for(var t=-1,n=e==null?0:e.length,o=Array(n);++t<n;)o[t]=r(e[t],t,e);return o}var xt=jt;function mt(){this.__data__=[],this.size=0}var Vt=mt;function mr(e,r){return e===r||e!==e&&r!==r}var qt=mr;function Mr(e,r){for(var t=e.length;t--;)if(qt(e[t][0],r))return t;return-1}var tt=Mr,Pt=Array.prototype,ur=Pt.splice;function Ce(e){var r=this.__data__,t=tt(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():ur.call(r,t,1),--this.size,!0}var Ye=Ce;function at(e){var r=this.__data__,t=tt(r,e);return t<0?void 0:r[t][1]}var Je=at;function ct(e){return tt(this.__data__,e)>-1}var H=ct;function J(e,r){var t=this.__data__,n=tt(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}var re=J;function ne(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}ne.prototype.clear=Vt,ne.prototype.delete=Ye,ne.prototype.get=Je,ne.prototype.has=H,ne.prototype.set=re;var Te=ne;function De(){this.__data__=new Te,this.size=0}var $e=De;function yt(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var er=yt;function tr(e){return this.__data__.get(e)}var Wn=tr;function Xr(e){return this.__data__.has(e)}var zi=Xr,wr=i(31),Fi=wr.a.Symbol,pr=Fi,En=Object.prototype,Kn=En.hasOwnProperty,un=En.toString,Vn=pr?pr.toStringTag:void 0;function Sn(e){var r=Kn.call(e,Vn),t=e[Vn];try{e[Vn]=void 0;var n=!0}catch(a){}var o=un.call(e);return n&&(r?e[Vn]=t:delete e[Vn]),o}var xn=Sn,co=Object.prototype,qs=co.toString;function po(e){return qs.call(e)}var ho=po,Gi="[object Null]",He="[object Undefined]",Hi=pr?pr.toStringTag:void 0;function el(e){return e==null?e===void 0?He:Gi:Hi&&Hi in Object(e)?xn(e):ho(e)}var $r=el;function Ui(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var At=Ui,br="[object AsyncFunction]",ki="[object Function]",tl="[object GeneratorFunction]",rl="[object Proxy]";function nl(e){if(!At(e))return!1;var r=$r(e);return r==ki||r==tl||r==br||r==rl}var vo=nl,Xi=wr.a["__core-js_shared__"],sn=Xi,Jo=function(){var e=/[^.]+$/.exec(sn&&sn.keys&&sn.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Qo(e){return!!Jo&&Jo in e}var $i=Qo,ol=Function.prototype,yo=ol.toString;function il(e){if(e!=null){try{return yo.call(e)}catch(r){}try{return e+""}catch(r){}}return""}var Ct=il,hd=/[\\^$.*+?()[\]{}|]/g,vd=/^\[object .+?Constructor\]$/,yd=Function.prototype,Yi=Object.prototype,al=yd.toString,Wi=Yi.hasOwnProperty,ul=RegExp("^"+al.call(Wi).replace(hd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function sl(e){if(!At(e)||$i(e))return!1;var r=vo(e)?ul:vd;return r.test(Ct(e))}var Yr=sl;function ll(e,r){return e==null?void 0:e[r]}var fl=ll;function qo(e,r){var t=fl(e,r);return Yr(t)?t:void 0}var Lr=qo,cl=Lr(wr.a,"Map"),Pn=cl,dl=Lr(Object,"create"),Zn=dl;function pl(){this.__data__=Zn?Zn(null):{},this.size=0}var ei=pl;function Ki(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var hl=Ki,ti="__lodash_hash_undefined__",Vi=Object.prototype,Zi=Vi.hasOwnProperty;function Ji(e){var r=this.__data__;if(Zn){var t=r[e];return t===ti?void 0:t}return Zi.call(r,e)?r[e]:void 0}var Qi=Ji,vl=Object.prototype,qi=vl.hasOwnProperty;function yl(e){var r=this.__data__;return Zn?r[e]!==void 0:qi.call(r,e)}var ea=yl,ta="__lodash_hash_undefined__";function gl(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Zn&&r===void 0?ta:r,this}var ml=gl;function An(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}An.prototype.clear=ei,An.prototype.delete=hl,An.prototype.get=Qi,An.prototype.has=ea,An.prototype.set=ml;var Tn=An;function Mn(){this.size=0,this.__data__={hash:new Tn,map:new(Pn||Te),string:new Tn}}var bl=Mn;function Ol(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var ra=Ol;function El(e,r){var t=e.__data__;return ra(r)?t[typeof r=="string"?"string":"hash"]:t.map}var go=El;function Sl(e){var r=go(this,e).delete(e);return this.size-=r?1:0,r}var xl=Sl;function wn(e){return go(this,e).get(e)}var Wr=wn;function Pl(e){return go(this,e).has(e)}var Al=Pl;function Tl(e,r){var t=go(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}var Nr=Tl;function Nn(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Nn.prototype.clear=bl,Nn.prototype.delete=xl,Nn.prototype.get=Wr,Nn.prototype.has=Al,Nn.prototype.set=Nr;var Jn=Nn,Ml=200;function mo(e,r){var t=this.__data__;if(t instanceof Te){var n=t.__data__;if(!Pn||n.length<Ml-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new Jn(n)}return t.set(e,r),this.size=t.size,this}var bo=mo;function Dn(e){var r=this.__data__=new Te(e);this.size=r.size}Dn.prototype.clear=$e,Dn.prototype.delete=er,Dn.prototype.get=Wn,Dn.prototype.has=zi,Dn.prototype.set=bo;var jn=Dn,Dr="__lodash_hash_undefined__";function Qn(e){return this.__data__.set(e,Dr),this}var jr=Qn;function Or(e){return this.__data__.has(e)}var qn=Or;function rr(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new Jn;++r<t;)this.add(e[r])}rr.prototype.add=rr.prototype.push=jr,rr.prototype.has=qn;var wl=rr;function Nl(e,r){for(var t=-1,n=e==null?0:e.length;++t<n;)if(r(e[t],t,e))return!0;return!1}var Dl=Nl;function na(e,r){return e.has(r)}var _r=na,jl=1,zr=2;function oa(e,r,t,n,o,a){var f=t&jl,p=e.length,m=r.length;if(p!=m&&!(f&&m>p))return!1;var O=a.get(e),T=a.get(r);if(O&&T)return O==r&&T==e;var N=-1,L=!0,G=t&zr?new wl:void 0;for(a.set(e,r),a.set(r,e);++N<p;){var K=e[N],ie=r[N];if(n)var oe=f?n(ie,K,N,r,e,a):n(K,ie,N,e,r,a);if(oe!==void 0){if(oe)continue;L=!1;break}if(G){if(!Dl(r,function(ue,Me){if(!_r(G,Me)&&(K===ue||o(K,ue,t,n,a)))return G.push(Me)})){L=!1;break}}else if(!(K===ie||o(K,ie,t,n,a))){L=!1;break}}return a.delete(e),a.delete(r),L}var ia=oa,ri=wr.a.Uint8Array,$t=ri;function aa(e){var r=-1,t=Array(e.size);return e.forEach(function(n,o){t[++r]=[o,n]}),t}var Cl=aa;function ua(e){var r=-1,t=Array(e.size);return e.forEach(function(n){t[++r]=n}),t}var hr=ua,sa=1,ni=2,la="[object Boolean]",fa="[object Date]",Rl="[object Error]",ca="[object Map]",Il="[object Number]",Bl="[object RegExp]",Er="[object Set]",Cr="[object String]",eo="[object Symbol]",Ll="[object ArrayBuffer]",da="[object DataView]",Oo=pr?pr.prototype:void 0,to=Oo?Oo.valueOf:void 0;function pa(e,r,t,n,o,a,f){switch(t){case da:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case Ll:return!(e.byteLength!=r.byteLength||!a(new $t(e),new $t(r)));case la:case fa:case Il:return qt(+e,+r);case Rl:return e.name==r.name&&e.message==r.message;case Bl:case Cr:return e==r+"";case ca:var p=Cl;case Er:var m=n&sa;if(p||(p=hr),e.size!=r.size&&!m)return!1;var O=f.get(e);if(O)return O==r;n|=ni,f.set(e,r);var T=ia(p(e),p(r),n,o,a,f);return f.delete(e),T;case eo:if(to)return to.call(e)==to.call(r)}return!1}var _l=pa;function Eo(e,r){for(var t=-1,n=r.length,o=e.length;++t<n;)e[o+t]=r[t];return e}var oi=Eo,ha=Array.isArray,d=ha;function h(e,r,t){var n=r(e);return d(e)?n:oi(n,t(e))}var E=h;function D(e,r){for(var t=-1,n=e==null?0:e.length,o=0,a=[];++t<n;){var f=e[t];r(f,t,e)&&(a[o++]=f)}return a}var F=D;function V(){return[]}var fe=V,Ae=Object.prototype,Ue=Ae.propertyIsEnumerable,dt=Object.getOwnPropertySymbols,pt=dt?function(e){return e==null?[]:(e=Object(e),F(dt(e),function(r){return Ue.call(e,r)}))}:fe,Et=pt;function St(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}var Lt=St;function Yt(e){return e!=null&&typeof e=="object"}var Tt=Yt,Sr="[object Arguments]";function Cn(e){return Tt(e)&&$r(e)==Sr}var va=Cn,ya=Object.prototype,ga=ya.hasOwnProperty,ma=ya.propertyIsEnumerable,ii=va(function(){return arguments}())?va:function(e){return Tt(e)&&ga.call(e,"callee")&&!ma.call(e,"callee")},Rn=ii,ln=i(48),Ab=9007199254740991,Tb=/^(?:0|[1-9]\d*)$/;function Mb(e,r){var t=typeof e;return r=r==null?Ab:r,!!r&&(t=="number"||t!="symbol"&&Tb.test(e))&&e>-1&&e%1==0&&e<r}var ba=Mb,wb=9007199254740991;function Nb(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=wb}var zl=Nb,Db="[object Arguments]",jb="[object Array]",Cb="[object Boolean]",Rb="[object Date]",Ib="[object Error]",Bb="[object Function]",Lb="[object Map]",_b="[object Number]",zb="[object Object]",Fb="[object RegExp]",Gb="[object Set]",Hb="[object String]",Ub="[object WeakMap]",kb="[object ArrayBuffer]",Xb="[object DataView]",$b="[object Float32Array]",Yb="[object Float64Array]",Wb="[object Int8Array]",Kb="[object Int16Array]",Vb="[object Int32Array]",Zb="[object Uint8Array]",Jb="[object Uint8ClampedArray]",Qb="[object Uint16Array]",qb="[object Uint32Array]",Nt={};Nt[$b]=Nt[Yb]=Nt[Wb]=Nt[Kb]=Nt[Vb]=Nt[Zb]=Nt[Jb]=Nt[Qb]=Nt[qb]=!0,Nt[Db]=Nt[jb]=Nt[kb]=Nt[Cb]=Nt[Xb]=Nt[Rb]=Nt[Ib]=Nt[Bb]=Nt[Lb]=Nt[_b]=Nt[zb]=Nt[Fb]=Nt[Gb]=Nt[Hb]=Nt[Ub]=!1;function eO(e){return Tt(e)&&zl(e.length)&&!!Nt[$r(e)]}var tO=eO;function rO(e){return function(r){return e(r)}}var Fl=rO,So=i(49),gd=So.a&&So.a.isTypedArray,nO=gd?Fl(gd):tO,Gl=nO,oO=Object.prototype,iO=oO.hasOwnProperty;function aO(e,r){var t=d(e),n=!t&&Rn(e),o=!t&&!n&&Object(ln.a)(e),a=!t&&!n&&!o&&Gl(e),f=t||n||o||a,p=f?Lt(e.length,String):[],m=p.length;for(var O in e)(r||iO.call(e,O))&&!(f&&(O=="length"||o&&(O=="offset"||O=="parent")||a&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||ba(O,m)))&&p.push(O);return p}var md=aO,uO=Object.prototype;function sO(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||uO;return e===t}var Oa=sO;function lO(e,r){return function(t){return e(r(t))}}var bd=lO,fO=bd(Object.keys,Object),cO=fO,dO=Object.prototype,pO=dO.hasOwnProperty;function hO(e){if(!Oa(e))return cO(e);var r=[];for(var t in Object(e))pO.call(e,t)&&t!="constructor"&&r.push(t);return r}var vO=hO;function yO(e){return e!=null&&zl(e.length)&&!vo(e)}var ro=yO;function gO(e){return ro(e)?md(e):vO(e)}var xo=gO;function mO(e){return E(e,xo,Et)}var Hl=mO,bO=1,OO=Object.prototype,EO=OO.hasOwnProperty;function SO(e,r,t,n,o,a){var f=t&bO,p=Hl(e),m=p.length,O=Hl(r),T=O.length;if(m!=T&&!f)return!1;for(var N=m;N--;){var L=p[N];if(!(f?L in r:EO.call(r,L)))return!1}var G=a.get(e),K=a.get(r);if(G&&K)return G==r&&K==e;var ie=!0;a.set(e,r),a.set(r,e);for(var oe=f;++N<m;){L=p[N];var ue=e[L],Me=r[L];if(n)var je=f?n(Me,ue,L,r,e,a):n(ue,Me,L,e,r,a);if(!(je===void 0?ue===Me||o(ue,Me,t,n,a):je)){ie=!1;break}oe||(oe=L=="constructor")}if(ie&&!oe){var ye=e.constructor,Be=r.constructor;ye!=Be&&"constructor"in e&&"constructor"in r&&!(typeof ye=="function"&&ye instanceof ye&&typeof Be=="function"&&Be instanceof Be)&&(ie=!1)}return a.delete(e),a.delete(r),ie}var xO=SO,PO=Lr(wr.a,"DataView"),Ul=PO,AO=Lr(wr.a,"Promise"),kl=AO,TO=Lr(wr.a,"Set"),Xl=TO,MO=Lr(wr.a,"WeakMap"),$l=MO,Od="[object Map]",wO="[object Object]",Ed="[object Promise]",Sd="[object Set]",xd="[object WeakMap]",Pd="[object DataView]",NO=Ct(Ul),DO=Ct(Pn),jO=Ct(kl),CO=Ct(Xl),RO=Ct($l),no=$r;(Ul&&no(new Ul(new ArrayBuffer(1)))!=Pd||Pn&&no(new Pn)!=Od||kl&&no(kl.resolve())!=Ed||Xl&&no(new Xl)!=Sd||$l&&no(new $l)!=xd)&&(no=function(e){var r=$r(e),t=r==wO?e.constructor:void 0,n=t?Ct(t):"";if(n)switch(n){case NO:return Pd;case DO:return Od;case jO:return Ed;case CO:return Sd;case RO:return xd}return r});var ai=no,IO=1,Ad="[object Arguments]",Td="[object Array]",Ea="[object Object]",BO=Object.prototype,Md=BO.hasOwnProperty;function LO(e,r,t,n,o,a){var f=d(e),p=d(r),m=f?Td:ai(e),O=p?Td:ai(r);m=m==Ad?Ea:m,O=O==Ad?Ea:O;var T=m==Ea,N=O==Ea,L=m==O;if(L&&Object(ln.a)(e)){if(!Object(ln.a)(r))return!1;f=!0,T=!1}if(L&&!T)return a||(a=new jn),f||Gl(e)?ia(e,r,t,n,o,a):_l(e,r,m,t,n,o,a);if(!(t&IO)){var G=T&&Md.call(e,"__wrapped__"),K=N&&Md.call(r,"__wrapped__");if(G||K){var ie=G?e.value():e,oe=K?r.value():r;return a||(a=new jn),o(ie,oe,t,n,a)}}return L?(a||(a=new jn),xO(e,r,t,n,o,a)):!1}var _O=LO;function wd(e,r,t,n,o){return e===r?!0:e==null||r==null||!Tt(e)&&!Tt(r)?e!==e&&r!==r:_O(e,r,t,n,wd,o)}var Yl=wd,zO=1,FO=2;function GO(e,r,t,n){var o=t.length,a=o,f=!n;if(e==null)return!a;for(e=Object(e);o--;){var p=t[o];if(f&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++o<a;){p=t[o];var m=p[0],O=e[m],T=p[1];if(f&&p[2]){if(O===void 0&&!(m in e))return!1}else{var N=new jn;if(n)var L=n(O,T,m,e,r,N);if(!(L===void 0?Yl(T,O,zO|FO,n,N):L))return!1}}return!0}var HO=GO;function UO(e){return e===e&&!At(e)}var Nd=UO;function kO(e){for(var r=xo(e),t=r.length;t--;){var n=r[t],o=e[n];r[t]=[n,o,Nd(o)]}return r}var XO=kO;function $O(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}var Dd=$O;function YO(e){var r=XO(e);return r.length==1&&r[0][2]?Dd(r[0][0],r[0][1]):function(t){return t===e||HO(t,e,r)}}var WO=YO,KO="[object Symbol]";function VO(e){return typeof e=="symbol"||Tt(e)&&$r(e)==KO}var Sa=VO,ZO=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,JO=/^\w*$/;function QO(e,r){if(d(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||Sa(e)?!0:JO.test(e)||!ZO.test(e)||r!=null&&e in Object(r)}var Wl=QO,qO="Expected a function";function Kl(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(qO);var t=function(){var n=arguments,o=r?r.apply(this,n):n[0],a=t.cache;if(a.has(o))return a.get(o);var f=e.apply(this,n);return t.cache=a.set(o,f)||a,f};return t.cache=new(Kl.Cache||Jn),t}Kl.Cache=Jn;var eE=Kl,tE=500;function rE(e){var r=eE(e,function(n){return t.size===tE&&t.clear(),n}),t=r.cache;return r}var nE=rE,oE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,iE=/\\(\\)?/g,aE=nE(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(oE,function(t,n,o,a){r.push(o?a.replace(iE,"$1"):n||t)}),r}),uE=aE,sE=1/0,jd=pr?pr.prototype:void 0,Cd=jd?jd.toString:void 0;function Rd(e){if(typeof e=="string")return e;if(d(e))return xt(e,Rd)+"";if(Sa(e))return Cd?Cd.call(e):"";var r=e+"";return r=="0"&&1/e==-sE?"-0":r}var lE=Rd;function fE(e){return e==null?"":lE(e)}var cE=fE;function dE(e,r){return d(e)?e:Wl(e,r)?[e]:uE(cE(e))}var xa=dE,pE=1/0;function hE(e){if(typeof e=="string"||Sa(e))return e;var r=e+"";return r=="0"&&1/e==-pE?"-0":r}var ui=hE;function vE(e,r){r=xa(r,e);for(var t=0,n=r.length;e!=null&&t<n;)e=e[ui(r[t++])];return t&&t==n?e:void 0}var Vl=vE;function yE(e,r,t){var n=e==null?void 0:Vl(e,r);return n===void 0?t:n}var Id=yE;function gE(e,r){return e!=null&&r in Object(e)}var mE=gE;function bE(e,r,t){r=xa(r,e);for(var n=-1,o=r.length,a=!1;++n<o;){var f=ui(r[n]);if(!(a=e!=null&&t(e,f)))break;e=e[f]}return a||++n!=o?a:(o=e==null?0:e.length,!!o&&zl(o)&&ba(f,o)&&(d(e)||Rn(e)))}var OE=bE;function EE(e,r){return e!=null&&OE(e,r,mE)}var Bd=EE,SE=1,xE=2;function PE(e,r){return Wl(e)&&Nd(r)?Dd(ui(e),r):function(t){var n=Id(t,e);return n===void 0&&n===r?Bd(t,e):Yl(r,n,SE|xE)}}var AE=PE;function TE(e){return e}var Zl=TE;function ME(e){return function(r){return r==null?void 0:r[e]}}var wE=ME;function NE(e){return function(r){return Vl(r,e)}}var DE=NE;function jE(e){return Wl(e)?wE(ui(e)):DE(e)}var CE=jE;function RE(e){return typeof e=="function"?e:e==null?Zl:typeof e=="object"?d(e)?AE(e[0],e[1]):WO(e):CE(e)}var IE=RE;function BE(e){return function(r,t,n){for(var o=-1,a=Object(r),f=n(r),p=f.length;p--;){var m=f[e?p:++o];if(t(a[m],m,a)===!1)break}return r}}var LE=BE,_E=LE(),Ld=_E;function zE(e,r){return e&&Ld(e,r,xo)}var FE=zE;function GE(e,r){return function(t,n){if(t==null)return t;if(!ro(t))return e(t,n);for(var o=t.length,a=r?o:-1,f=Object(t);(r?a--:++a<o)&&n(f[a],a,f)!==!1;);return t}}var HE=GE,UE=HE(FE),kE=UE;function XE(e,r){var t=-1,n=ro(e)?Array(e.length):[];return kE(e,function(o,a,f){n[++t]=r(o,a,f)}),n}var $E=XE;function YE(e,r){var t=d(e)?xt:$E;return t(e,IE(r))}var Pa=YE,WE=function(){try{var e=Lr(Object,"defineProperty");return e({},"",{}),e}catch(r){}}(),Aa=WE;function KE(e,r,t){r=="__proto__"&&Aa?Aa(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var Jl=KE,VE=Object.prototype,ZE=VE.hasOwnProperty;function JE(e,r,t){var n=e[r];(!(ZE.call(e,r)&&qt(n,t))||t===void 0&&!(r in e))&&Jl(e,r,t)}var Ta=JE;function QE(e,r,t,n){var o=!t;t||(t={});for(var a=-1,f=r.length;++a<f;){var p=r[a],m=n?n(t[p],e[p],p,t,e):void 0;m===void 0&&(m=e[p]),o?Jl(t,p,m):Ta(t,p,m)}return t}var Po=QE;function qE(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}var eS=qE,_d=Math.max;function tS(e,r,t){return r=_d(r===void 0?e.length-1:r,0),function(){for(var n=arguments,o=-1,a=_d(n.length-r,0),f=Array(a);++o<a;)f[o]=n[r+o];o=-1;for(var p=Array(r+1);++o<r;)p[o]=n[o];return p[r]=t(f),eS(e,this,p)}}var zd=tS;function rS(e){return function(){return e}}var nS=rS,oS=Aa?function(e,r){return Aa(e,"toString",{configurable:!0,enumerable:!1,value:nS(r),writable:!0})}:Zl,iS=oS,aS=800,uS=16,sS=Date.now;function lS(e){var r=0,t=0;return function(){var n=sS(),o=uS-(n-t);if(t=n,o>0){if(++r>=aS)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}var fS=lS,cS=fS(iS),Fd=cS;function dS(e,r){return Fd(zd(e,r,Zl),e+"")}var pS=dS;function hS(e,r,t){if(!At(t))return!1;var n=typeof r;return(n=="number"?ro(t)&&ba(r,t.length):n=="string"&&r in t)?qt(t[r],e):!1}var vS=hS;function yS(e){return pS(function(r,t){var n=-1,o=t.length,a=o>1?t[o-1]:void 0,f=o>2?t[2]:void 0;for(a=e.length>3&&typeof a=="function"?(o--,a):void 0,f&&vS(t[0],t[1],f)&&(a=o<3?void 0:a,o=1),r=Object(r);++n<o;){var p=t[n];p&&e(r,p,n,a)}return r})}var Gd=yS,gS=Object.prototype,mS=gS.hasOwnProperty,bS=Gd(function(e,r){if(Oa(r)||ro(r)){Po(r,xo(r),e);return}for(var t in r)mS.call(r,t)&&Ta(e,t,r[t])}),sr=bS;function OS(e,r,t,n){if(!At(e))return e;r=xa(r,e);for(var o=-1,a=r.length,f=a-1,p=e;p!=null&&++o<a;){var m=ui(r[o]),O=t;if(m==="__proto__"||m==="constructor"||m==="prototype")return e;if(o!=f){var T=p[m];O=n?n(T,m,p):void 0,O===void 0&&(O=At(T)?T:ba(r[o+1])?[]:{})}Ta(p,m,O),p=p[m]}return e}var ES=OS;function SS(e,r,t){for(var n=-1,o=r.length,a={};++n<o;){var f=r[n],p=Vl(e,f);t(p,f)&&ES(a,xa(f,e),p)}return a}var xS=SS;function PS(e,r){return xS(e,r,function(t,n){return Bd(e,n)})}var AS=PS,Hd=pr?pr.isConcatSpreadable:void 0;function TS(e){return d(e)||Rn(e)||!!(Hd&&e&&e[Hd])}var MS=TS;function Ud(e,r,t,n,o){var a=-1,f=e.length;for(t||(t=MS),o||(o=[]);++a<f;){var p=e[a];r>0&&t(p)?r>1?Ud(p,r-1,t,n,o):oi(o,p):n||(o[o.length]=p)}return o}var wS=Ud;function NS(e){var r=e==null?0:e.length;return r?wS(e,1):[]}var DS=NS;function jS(e){return Fd(zd(e,void 0,DS),e+"")}var CS=jS,RS=CS(function(e,r){return e==null?{}:AS(e,r)}),si=RS,Rt,kd,Xd,$d,Yd,Wd,Kd,Vd,Zd,Jd,Qd,qd,ep,tp,rp,np,op,ip;function Zt(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function IS(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ap(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function BS(e,r,t){return r&&ap(e.prototype,r),t&&ap(e,t),e}function up(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Wt(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var LS={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},Ql=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],sp=(Rt=function(){function e(r){IS(this,e),Zt(this,"isSilentMode",kd,this),Zt(this,"stopZoomGraph",Xd,this),Zt(this,"stopScrollGraph",$d,this),Zt(this,"stopMoveGraph",Yd,this),Zt(this,"adjustEdge",Wd,this),Zt(this,"adjustEdgeMiddle",Kd,this),Zt(this,"adjustEdgeStartAndEnd",Vd,this),Zt(this,"adjustNodePosition",Zd,this),Zt(this,"hideAnchors",Jd,this),Zt(this,"hoverOutline",Qd,this),Zt(this,"nodeSelectedOutline",qd,this),Zt(this,"edgeSelectedOutline",ep,this),Zt(this,"nodeTextEdit",tp,this),Zt(this,"edgeTextEdit",rp,this),Zt(this,"nodeTextDraggable",np,this),Zt(this,"edgeTextDraggable",op,this),Zt(this,"autoExpand",ip,this),up(this,"multipleSelectKey",""),up(this,"defaultConfig",{}),sr(this,this.getConfigDetail(r))}return BS(e,[{key:"updateEditConfig",value:function(t){var n=this.getConfigDetail(t);sr(this,n)}},{key:"getConfigDetail",value:function(t){var n=t.isSilentMode,o=t.textEdit,a={};if(n===!1&&sr(a,this.defaultConfig),n===!0){var f=si(LS,Ql);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},sr(a,f)}o===!1&&sr(a,{nodeTextEdit:!1,edgeTextEdit:!1});var p=si(t,Ql);return sr(a,p)}},{key:"getConfig",value:function(){return si(this,Ql)}}]),e}(),kd=Wt(Rt.prototype,"isSilentMode",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xd=Wt(Rt.prototype,"stopZoomGraph",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$d=Wt(Rt.prototype,"stopScrollGraph",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yd=Wt(Rt.prototype,"stopMoveGraph",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wd=Wt(Rt.prototype,"adjustEdge",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Kd=Wt(Rt.prototype,"adjustEdgeMiddle",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Vd=Wt(Rt.prototype,"adjustEdgeStartAndEnd",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zd=Wt(Rt.prototype,"adjustNodePosition",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Jd=Wt(Rt.prototype,"hideAnchors",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qd=Wt(Rt.prototype,"hoverOutline",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),qd=Wt(Rt.prototype,"nodeSelectedOutline",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ep=Wt(Rt.prototype,"edgeSelectedOutline",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),tp=Wt(Rt.prototype,"nodeTextEdit",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),rp=Wt(Rt.prototype,"edgeTextEdit",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),np=Wt(Rt.prototype,"nodeTextDraggable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),op=Wt(Rt.prototype,"edgeTextDraggable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ip=Wt(Rt.prototype,"autoExpand",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wt(Rt.prototype,"updateEditConfig",[l.k],Object.getOwnPropertyDescriptor(Rt.prototype,"updateEditConfig"),Rt.prototype),Rt);i(63);var bt;(function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"})(bt||(bt={}));var lp;(function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"})(lp||(lp={}));var ht;(function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"})(ht||(ht={}));var Gt;(function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"})(Gt||(Gt={}));var rt;(function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.ANCHOR_DRAGEND="anchor:dragend",e.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",e.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",e.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",e.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",e.ADJUST_POINT_DRAG="adjustPoint:drag",e.ADJUST_POINT_DROP="adjustPoint:drop",e.ADJUST_POINT_DRAGEND="adjustPoint:dragend",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"})(rt||(rt={}));var Dt;(function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"})(Dt||(Dt={}));var _S=9999,xr;(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"})(xr||(xr={}));var _t,fp,cp,dp,pp,hp,vp,yp;function Ma(e,r){return HS(e)||GS(e,r)||FS(e,r)||zS()}function zS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FS(e,r){if(!!e){if(typeof e=="string")return gp(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return gp(e,r)}}function gp(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function GS(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function HS(e){if(Array.isArray(e))return e}function oo(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function US(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function mp(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kS(e,r,t){return r&&mp(e.prototype,r),t&&mp(e,t),e}function ql(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Fr(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var XS=(_t=function(){function e(r){US(this,e),ql(this,"MINI_SCALE_SIZE",.2),ql(this,"MAX_SCALE_SIZE",16),oo(this,"SCALE_X",fp,this),oo(this,"SKEW_Y",cp,this),oo(this,"SKEW_X",dp,this),oo(this,"SCALE_Y",pp,this),oo(this,"TRANSLATE_X",hp,this),oo(this,"TRANSLATE_Y",vp,this),oo(this,"ZOOM_SIZE",yp,this),ql(this,"eventCenter",void 0),this.eventCenter=r}return kS(e,[{key:"setZoomMiniSize",value:function(t){this.MINI_SCALE_SIZE=t}},{key:"setZoomMaxSize",value:function(t){this.MAX_SCALE_SIZE=t}},{key:"HtmlPointToCanvasPoint",value:function(t){var n=Ma(t,2),o=n[0],a=n[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(a-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(t){var n=Ma(t,2),o=n[0],a=n[1];return[o*this.SCALE_X+this.TRANSLATE_X,a*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(t,n,o){var a=Ma(t,2),f=a[0],p=a[1];return[f+n/this.SCALE_X,p+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(t,n){return[t/this.SCALE_X,n/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var t=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(t,")")}}},{key:"zoom",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1?arguments[1]:void 0,o=this.SCALE_X,a=this.SCALE_Y;return t===!0?(o+=this.ZOOM_SIZE,a+=this.ZOOM_SIZE):t===!1?(o-=this.ZOOM_SIZE,a-=this.ZOOM_SIZE):typeof t=="number"&&(o=t,a=t),o<this.MINI_SCALE_SIZE||o>this.MAX_SCALE_SIZE?"".concat(this.SCALE_X*100,"%"):(n&&(this.TRANSLATE_X-=(o-this.SCALE_X)*n[0],this.TRANSLATE_Y-=(a-this.SCALE_Y)*n[1]),this.SCALE_X=o,this.SCALE_Y=a,this.emitGraphTransform("zoom"),"".concat(this.SCALE_X*100,"%"))}},{key:"emitGraphTransform",value:function(t){this.eventCenter.emit(rt.GRAPH_TRANSFORM,{type:t,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(t,n){this.TRANSLATE_X+=t,this.TRANSLATE_Y+=n,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(t,n,o,a){var f=this.CanvasPointToHtmlPoint([t,n]),p=Ma(f,2),m=p[0],O=p[1],T=o/2-m,N=a/2-O;this.TRANSLATE_X+=T,this.TRANSLATE_Y+=N,this.emitGraphTransform("focusOn")}}]),e}(),fp=Fr(_t.prototype,"SCALE_X",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),cp=Fr(_t.prototype,"SKEW_Y",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),dp=Fr(_t.prototype,"SKEW_X",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),pp=Fr(_t.prototype,"SCALE_Y",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),hp=Fr(_t.prototype,"TRANSLATE_X",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),vp=Fr(_t.prototype,"TRANSLATE_Y",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),yp=Fr(_t.prototype,"ZOOM_SIZE",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),Fr(_t.prototype,"zoom",[l.k],Object.getOwnPropertyDescriptor(_t.prototype,"zoom"),_t.prototype),Fr(_t.prototype,"resetZoom",[l.k],Object.getOwnPropertyDescriptor(_t.prototype,"resetZoom"),_t.prototype),Fr(_t.prototype,"translate",[l.k],Object.getOwnPropertyDescriptor(_t.prototype,"translate"),_t.prototype),Fr(_t.prototype,"focusOn",[l.k],Object.getOwnPropertyDescriptor(_t.prototype,"focusOn"),_t.prototype),_t);function $S(e,r){for(var t=-1,n=e==null?0:e.length;++t<n&&r(e[t],t,e)!==!1;);return e}var YS=$S;function WS(e,r){return e&&Po(r,xo(r),e)}var KS=WS;function VS(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}var ZS=VS,JS=Object.prototype,QS=JS.hasOwnProperty;function qS(e){if(!At(e))return ZS(e);var r=Oa(e),t=[];for(var n in e)n=="constructor"&&(r||!QS.call(e,n))||t.push(n);return t}var ex=qS;function tx(e){return ro(e)?md(e,!0):ex(e)}var li=tx;function rx(e,r){return e&&Po(r,li(r),e)}var nx=rx,bp=i(106);function ox(e,r){var t=-1,n=e.length;for(r||(r=Array(n));++t<n;)r[t]=e[t];return r}var Op=ox;function ix(e,r){return Po(e,Et(e),r)}var ax=ix,ux=bd(Object.getPrototypeOf,Object),ef=ux,sx=Object.getOwnPropertySymbols,lx=sx?function(e){for(var r=[];e;)oi(r,Et(e)),e=ef(e);return r}:fe,Ep=lx;function fx(e,r){return Po(e,Ep(e),r)}var cx=fx;function dx(e){return E(e,li,Ep)}var px=dx,hx=Object.prototype,vx=hx.hasOwnProperty;function yx(e){var r=e.length,t=new e.constructor(r);return r&&typeof e[0]=="string"&&vx.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var gx=yx;function mx(e){var r=new e.constructor(e.byteLength);return new $t(r).set(new $t(e)),r}var tf=mx;function bx(e,r){var t=r?tf(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}var Ox=bx,Ex=/\w*$/;function Sx(e){var r=new e.constructor(e.source,Ex.exec(e));return r.lastIndex=e.lastIndex,r}var xx=Sx,Sp=pr?pr.prototype:void 0,xp=Sp?Sp.valueOf:void 0;function Px(e){return xp?Object(xp.call(e)):{}}var Ax=Px;function Tx(e,r){var t=r?tf(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var Pp=Tx,Mx="[object Boolean]",wx="[object Date]",Nx="[object Map]",Dx="[object Number]",jx="[object RegExp]",Cx="[object Set]",Rx="[object String]",Ix="[object Symbol]",Bx="[object ArrayBuffer]",Lx="[object DataView]",_x="[object Float32Array]",zx="[object Float64Array]",Fx="[object Int8Array]",Gx="[object Int16Array]",Hx="[object Int32Array]",Ux="[object Uint8Array]",kx="[object Uint8ClampedArray]",Xx="[object Uint16Array]",$x="[object Uint32Array]";function Yx(e,r,t){var n=e.constructor;switch(r){case Bx:return tf(e);case Mx:case wx:return new n(+e);case Lx:return Ox(e,t);case _x:case zx:case Fx:case Gx:case Hx:case Ux:case kx:case Xx:case $x:return Pp(e,t);case Nx:return new n;case Dx:case Rx:return new n(e);case jx:return xx(e);case Cx:return new n;case Ix:return Ax(e)}}var Wx=Yx,Ap=Object.create,Kx=function(){function e(){}return function(r){if(!At(r))return{};if(Ap)return Ap(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}(),Vx=Kx;function Zx(e){return typeof e.constructor=="function"&&!Oa(e)?Vx(ef(e)):{}}var Tp=Zx,Jx="[object Map]";function Qx(e){return Tt(e)&&ai(e)==Jx}var qx=Qx,Mp=So.a&&So.a.isMap,e0=Mp?Fl(Mp):qx,t0=e0,r0="[object Set]";function n0(e){return Tt(e)&&ai(e)==r0}var o0=n0,wp=So.a&&So.a.isSet,i0=wp?Fl(wp):o0,a0=i0,u0=1,s0=2,l0=4,Np="[object Arguments]",f0="[object Array]",c0="[object Boolean]",d0="[object Date]",p0="[object Error]",Dp="[object Function]",h0="[object GeneratorFunction]",v0="[object Map]",y0="[object Number]",jp="[object Object]",g0="[object RegExp]",m0="[object Set]",b0="[object String]",O0="[object Symbol]",E0="[object WeakMap]",S0="[object ArrayBuffer]",x0="[object DataView]",P0="[object Float32Array]",A0="[object Float64Array]",T0="[object Int8Array]",M0="[object Int16Array]",w0="[object Int32Array]",N0="[object Uint8Array]",D0="[object Uint8ClampedArray]",j0="[object Uint16Array]",C0="[object Uint32Array]",Mt={};Mt[Np]=Mt[f0]=Mt[S0]=Mt[x0]=Mt[c0]=Mt[d0]=Mt[P0]=Mt[A0]=Mt[T0]=Mt[M0]=Mt[w0]=Mt[v0]=Mt[y0]=Mt[jp]=Mt[g0]=Mt[m0]=Mt[b0]=Mt[O0]=Mt[N0]=Mt[D0]=Mt[j0]=Mt[C0]=!0,Mt[p0]=Mt[Dp]=Mt[E0]=!1;function wa(e,r,t,n,o,a){var f,p=r&u0,m=r&s0,O=r&l0;if(t&&(f=o?t(e,n,o,a):t(e)),f!==void 0)return f;if(!At(e))return e;var T=d(e);if(T){if(f=gx(e),!p)return Op(e,f)}else{var N=ai(e),L=N==Dp||N==h0;if(Object(ln.a)(e))return Object(bp.a)(e,p);if(N==jp||N==Np||L&&!o){if(f=m||L?{}:Tp(e),!p)return m?cx(e,nx(f,e)):ax(e,KS(f,e))}else{if(!Mt[N])return o?e:{};f=Wx(e,N,p)}}a||(a=new jn);var G=a.get(e);if(G)return G;a.set(e,f),a0(e)?e.forEach(function(oe){f.add(wa(oe,r,t,oe,e,a))}):t0(e)&&e.forEach(function(oe,ue){f.set(ue,wa(oe,r,t,ue,e,a))});var K=O?m?px:Hl:m?li:xo,ie=T?void 0:K(e);return YS(ie||e,function(oe,ue){ie&&(ue=oe,oe=e[ue]),Ta(f,ue,wa(oe,r,t,ue,e,a))}),f}var R0=wa,I0=1,B0=4;function L0(e){return R0(e,I0|B0)}var It=L0;function _0(e,r,t){(t!==void 0&&!qt(e[r],t)||t===void 0&&!(r in e))&&Jl(e,r,t)}var rf=_0;function z0(e){return Tt(e)&&ro(e)}var F0=z0,G0="[object Object]",H0=Function.prototype,U0=Object.prototype,Cp=H0.toString,k0=U0.hasOwnProperty,X0=Cp.call(Object);function $0(e){if(!Tt(e)||$r(e)!=G0)return!1;var r=ef(e);if(r===null)return!0;var t=k0.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&Cp.call(t)==X0}var Y0=$0;function W0(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}var nf=W0;function K0(e){return Po(e,li(e))}var V0=K0;function Z0(e,r,t,n,o,a,f){var p=nf(e,t),m=nf(r,t),O=f.get(m);if(O){rf(e,t,O);return}var T=a?a(p,m,t+"",e,r,f):void 0,N=T===void 0;if(N){var L=d(m),G=!L&&Object(ln.a)(m),K=!L&&!G&&Gl(m);T=m,L||G||K?d(p)?T=p:F0(p)?T=Op(p):G?(N=!1,T=Object(bp.a)(m,!0)):K?(N=!1,T=Pp(m,!0)):T=[]:Y0(m)||Rn(m)?(T=p,Rn(p)?T=V0(p):(!At(p)||vo(p))&&(T=Tp(m))):N=!1}N&&(f.set(m,T),o(T,m,n,a,f),f.delete(m)),rf(e,t,T)}var J0=Z0;function Rp(e,r,t,n,o){e!==r&&Ld(r,function(a,f){if(o||(o=new jn),At(a))J0(e,r,f,t,Rp,n,o);else{var p=n?n(nf(e,f),a,f+"",e,r,o):void 0;p===void 0&&(p=a),rf(e,f,p)}},li)}var Q0=Rp,q0=Gd(function(e,r,t){Q0(e,r,t)}),Ip=q0,eP={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},Bp=function(r){var t=It(eP);return r&&(t=Ip(t,r)),t};i(78),i(158);function tP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Lp(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function rP(e,r,t){return r&&Lp(e.prototype,r),t&&Lp(e,t),e}function nP(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var oP="*",iP=function(){function e(){tP(this,e),nP(this,"_events",{})}return rP(e,[{key:"on",value:function(t,n,o){var a=this;return t==null||t.split(",").forEach(function(f){f=f.trim(),a._events[f]||(a._events[f]=[]),a._events[f].push({callback:n,once:!!o})}),this}},{key:"once",value:function(t,n){var o=this;t==null||t.split(",").forEach(function(a){return a=a.trim(),o.on(a,n,!0)})}},{key:"emit",value:function(t,n){var o=this;t==null||t.split(",").forEach(function(a){var f=o._events[a]||[],p=o._events[oP]||[],m=function(T){for(var N=T.length,L=0;L<N;L++)if(!!T[L]){var G=T[L],K=G.callback,ie=G.once;ie&&(T.splice(L,1),T.length===0&&delete o._events[a],N--,L--),K.apply(o,[n])}};m(f),m(p)})}},{key:"off",value:function(t,n){var o=this;return t||(this._events={}),t.split(",").forEach(function(a){if(!n)delete o._events[a];else{for(var f=o._events[a]||[],p=f.length,m=0;m<p;m++)f[m].callback===n&&(f.splice(m,1),p--,m--);f.length===0&&delete o._events[a]}}),this}},{key:"getEvents",value:function(){return this._events}}]),e}();function In(e,r){return r*Math.round(e/r)||e}function _p(e,r){return e%r}function of(e,r){return lP(e)||sP(e,r)||uP(e,r)||aP()}function aP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uP(e,r){if(!!e){if(typeof e=="string")return zp(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return zp(e,r)}}function zp(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function sP(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function lP(e){if(Array.isArray(e))return e}var af=function(r,t,n){var o=of(r,2),a=o[0],f=o[1],p=of(t,2),m=p[0],O=p[1],T=of(n,2),N=T[0],L=T[1];return a>m&&a<N&&f>O&&f<L},Fp=function(r,t){var n=t.multipleSelectKey,o=!1;switch(n){case"meta":o=r.metaKey;break;case"alt":o=r.altKey;break;case"shift":o=r.shiftKey;break;case"ctrl":o=r.ctrlKey;break;default:o=!1;break}return o};i(79),i(161),i(125),i(80),i(30),i(12),i(13),i(14),i(47);var Na,fP=new Uint8Array(16);function cP(){if(!Na&&(Na=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Na))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Na(fP)}var dP=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function pP(e){return typeof e=="string"&&dP.test(e)}for(var hP=pP,Jt=[],uf=0;uf<256;++uf)Jt.push((uf+256).toString(16).substr(1));function vP(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Jt[e[r+0]]+Jt[e[r+1]]+Jt[e[r+2]]+Jt[e[r+3]]+"-"+Jt[e[r+4]]+Jt[e[r+5]]+"-"+Jt[e[r+6]]+Jt[e[r+7]]+"-"+Jt[e[r+8]]+Jt[e[r+9]]+"-"+Jt[e[r+10]]+Jt[e[r+11]]+Jt[e[r+12]]+Jt[e[r+13]]+Jt[e[r+14]]+Jt[e[r+15]]).toLowerCase();if(!hP(t))throw TypeError("Stringified UUID is invalid");return t}var yP=vP;function gP(e,r,t){e=e||{};var n=e.random||(e.rng||cP)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r){t=t||0;for(var o=0;o<16;++o)r[t+o]=n[o];return r}return yP(n)}var sf=gP,Bn=function(){var r=sf();return r},mP=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=r.nodes.reduce(function(o,a){return o[a.id]=t+sf(),a.id=o[a.id],o},{});return r.edges.forEach(function(o){o.id=t+sf(),o.sourceNodeId=n[o.sourceNodeId],o.targetNodeId=n[o.targetNodeId]}),r};i(104),i(203);var bP=function(r,t,n,o){var a=(t.y-r.y)*(o.x-n.x)-(r.x-t.x)*(n.y-o.y);if(a===0)return!1;var f=((t.x-r.x)*(o.x-n.x)*(n.y-r.y)+(t.y-r.y)*(o.x-n.x)*r.x-(o.y-n.y)*(t.x-r.x)*n.x)/a,p=-((t.y-r.y)*(o.y-n.y)*(n.x-r.x)+(t.x-r.x)*(o.y-n.y)*r.y-(o.x-n.x)*(t.y-r.y)*n.y)/a;return(f-r.x)*(f-t.x)<=0&&(p-r.y)*(p-t.y)<=0&&(f-n.x)*(f-o.x)<=0&&(p-n.y)*(p-o.y)<=0?{x:f,y:p}:!1},fi=function(r,t,n){var o=r.x,a=r.y;return(o-t.x)*(o-n.x)<=0&&(a-t.y)*(a-n.y)<=0};function Da(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Da=function(t){return typeof t}:Da=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Da(e)}function Gp(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Hp(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Gp(Object(t),!0).forEach(function(n){OP(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Gp(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function OP(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var lf=function(r){var t=r.anchors;return t},ja=function(r,t){for(var n=t.nodes,o,a=n.length-1;a>=0;a--){var f=n[a],p=xP(r,f);if(p){var m=f.getTargetAnchor(r);if(m){var O={node:f,anchorIndex:m.index,anchor:m.anchor};(!o||EP(f,o.node,t))&&(o=O)}}}return o},EP=function(r,t,n){return r.zIndex>t.zIndex||n.nodesMap[r.id].index>n.nodesMap[t.id].index},SP=function(r,t){for(var n=lf(t),o,a=Number.MAX_SAFE_INTEGER,f=0;f<n.length;f++){var p=Kr(r.x,r.y,n[f].x,n[f].y);p<a&&(a=p,o={index:f,anchor:Hp(Hp({},n[f]),{},{x:n[f].x,y:n[f].y,id:n[f].id})})}return o},Kr=function(r,t,n,o){return Math.hypot(r-n,t-o)},Ln=function(r,t){var n=!1,o=0,a=Pr(t);return r.x>=a.minX-o&&r.x<=a.maxX+o&&r.y>=a.minY-o&&r.y<=a.maxY+o&&(n=!0),n},xP=function(r,t){var n=!1,o=5,a=Pr(t);return r.x>=a.minX-o&&r.x<=a.maxX+o&&r.y>=a.minY-o&&r.y<=a.maxY+o&&(n=!0),n},Pr=function(r){var t=r.x,n=r.y,o=r.width,a=r.height,f={minX:t-o/2,minY:n-a/2,maxX:t+o/2,maxY:n+a/2,x:t,y:n,width:o,height:a,centerX:t,centerY:n};return f},PP=function(r){var t=r,n=t.x,o=t.y,a=t.width,f=t.height,p=t.radius,m=[{x:n-a/2+p,y:o-f/2+p,r:p},{x:n+a/2-p,y:o-f/2+p,r:p},{x:n-a/2+p,y:o+f/2-p,r:p},{x:n+a/2-p,y:o+f/2-p,r:p}];return m},Up=function(r,t,n){var o=PP(n),a,f=Number.MAX_SAFE_INTEGER;o.forEach(function(m){var O=Kr(r.x,r.y,m.x,m.y);O<f&&(f=O,a=m)});var p=ff(r,t,a);return p},ff=function(r,t,n){var o,a=n,f=a.x,p=a.y,m=a.r;if(t===Dt.HORIZONTAL){var O=f-Math.sqrt(m*m-(r.y-p)*(r.y-p)),T=f+Math.sqrt(m*m-(r.y-p)*(r.y-p)),N=Math.abs(O-r.x)<Math.abs(T-r.x)?O:T;o={x:N,y:r.y}}else if(t===Dt.VERTICAL){var L=p-Math.sqrt(m*m-(r.x-f)*(r.x-f)),G=p+Math.sqrt(m*m-(r.x-f)*(r.x-f)),K=Math.abs(L-r.y)<Math.abs(G-r.y)?L:G;o={x:r.x,y:K}}return o},kp=function(r,t){var n=t,o=!1,a={minX:n.x-n.width/2+n.radius,maxX:n.x+n.width/2-n.radius,minY:n.y-n.height/2+n.radius,maxY:n.y+n.height/2-n.radius},f=n.x,p=n.y,m=n.width,O=n.height;return r.y===p+O/2||r.y===p-O/2?o=r.x>a.minX&&r.x<a.maxX:(r.x===f+m/2||r.x===f-m/2)&&(o=r.y>a.minY&&r.y<a.maxY),o},Xp=function(r,t,n){var o,a=n,f=a.x,p=a.y,m=a.rx,O=a.ry;if(t===Dt.HORIZONTAL){var T=f-Math.sqrt(m*m-(r.y-p)*(r.y-p)*m*m/(O*O)),N=f+Math.sqrt(m*m-(r.y-p)*(r.y-p)*m*m/(O*O)),L=Math.abs(T-r.x)<Math.abs(N-r.x)?T:N;o={x:L,y:r.y}}else if(t===Dt.VERTICAL){var G=p-Math.sqrt(O*O-(r.x-f)*(r.x-f)*O*O/(m*m)),K=p+Math.sqrt(O*O-(r.x-f)*(r.x-f)*O*O/(m*m)),ie=Math.abs(G-r.y)<Math.abs(K-r.y)?G:K;o={x:r.x,y:ie}}return o},Ca=function(r,t,n){for(var o=n,a=o.pointsPosition,f=Number.MAX_SAFE_INTEGER,p,m=[],O=0;O<a.length;O++)m.push({start:a[O],end:a[(O+1)%a.length]});return m.forEach(function(T){var N=T.start,L=T.end,G=N,K=L;N.x>L.x&&(G=L,K=N);var ie={x:r.x,y:r.y};if(G.x===K.x&&t===Dt.HORIZONTAL&&(ie={x:G.x,y:r.y}),G.y===K.y&&t===Dt.VERTICAL&&(ie={x:r.x,y:G.y}),G.x!==K.x&&G.y!==K.y){var oe=(K.y-G.y)/(K.x-G.x),ue=(G.x*K.y-K.x*G.y)/(G.x-K.x);t===Dt.HORIZONTAL?ie={x:(r.y-ue)/oe,y:r.y}:t===Dt.VERTICAL&&(ie={x:r.x,y:oe*r.x+ue})}var Me=fi(ie,N,L);if(Me){var je=Kr(ie.x,ie.y,r.x,r.y);je<f&&(f=je,p=ie)}}),p},AP=function(r){var t=si(r,["id","type","x","y","text","properties","virtual"]);return t},$p=function(r,t,n,o){var a=r.x,f=r.y;return t.x>r.x?a=r.x+n/2:t.x<r.x&&(a=r.x-n/2),t.y>r.y?f=r.y+o/2:t.y<r.y&&(f=r.y-o/2),{x:a,y:f}},Yp=function(r){var t=r.rows,n=r.style,o=r.rowsLength,a=r.className,f=document.createElement("div");f.style.fontSize=n.fontSize,f.style.width=n.width,f.className=a,f.style.lineHeight=n.lineHeight,f.style.padding=n.padding,n.fontFamily&&(f.style.fontFamily=n.fontFamily),o>1?t.forEach(function(m){var O=document.createElement("div");O.textContent=m,f.appendChild(O)}):f.textContent=t,document.body.appendChild(f);var p=f.clientHeight;return document.body.removeChild(f),p},cf=function(r){var t=r.rows,n=r.rowsLength,o=r.fontSize,a=0;return t&&t.forEach(function(f){var p=_h(f);a=p>a?p:a}),{width:Math.ceil(a/2)*o+o/4,height:n*(o+2)+o/4}},Ra=function(r){return Da(r)!=="object"?{isAllPass:!!r,msg:r?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:r},nr=function(r){try{return JSON.parse(JSON.stringify(r))}catch(t){return r}},TP=1e3,MP=999,df=function(){return++TP},wP=function(){return--MP},ge,Wp,Kp,Vp,Zp,Jp,Qp,qp,eh,th,rh,nh,oh,ih,ah,uh,sh,lh,fh,ch,dh;function ph(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function vr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ph(Object(t),!0).forEach(function(n){Rr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ph(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ht(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function NP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function hh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function DP(e,r,t){return r&&hh(e.prototype,r),t&&hh(e,t),e}function Rr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Qe(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var pf=(ge=function(){function e(r,t){NP(this,e),Rr(this,"id",""),Ht(this,"type",Wp,this),Ht(this,"sourceNodeId",Kp,this),Ht(this,"targetNodeId",Vp,this),Ht(this,"startPoint",Zp,this),Ht(this,"endPoint",Jp,this),Ht(this,"text",Qp,this),Ht(this,"properties",qp,this),Ht(this,"points",eh,this),Ht(this,"pointsList",th,this),Ht(this,"isSelected",rh,this),Ht(this,"isHovered",nh,this),Ht(this,"isHitable",oh,this),Ht(this,"draggable",ih,this),Ht(this,"visible",ah,this),Rr(this,"virtual",!1),Ht(this,"isAnimation",uh,this),Ht(this,"isShowAdjustPoint",sh,this),Rr(this,"graphModel",void 0),Ht(this,"zIndex",lh,this),Rr(this,"BaseType",Gt.EDGE),Rr(this,"modelType",ht.EDGE),Ht(this,"state",fh,this),Rr(this,"additionStateData",void 0),Rr(this,"sourceAnchorId",""),Rr(this,"targetAnchorId",""),Rr(this,"menu",void 0),Rr(this,"customTextPosition",!1),Ht(this,"style",ch,this),Ht(this,"arrowConfig",dh,this),this.graphModel=t,this.initEdgeData(r),this.setAttributes()}return DP(e,[{key:"initEdgeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,o=n&&n(t.type),a=this.createId();t.id=a||o||Bn()}this.arrowConfig.markerEnd="url(#marker-end-".concat(t.id,")");var f=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=f,sr(this,bA(t));var p=this.graphModel.overlapMode;p===xr.INCREASE&&(this.zIndex=t.zIndex||df()),this.setAnchors(),this.initPoints(),this.formatText(t)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return vr(vr({},this.graphModel.theme.baseEdge),this.style)}},{key:"getAdjustPointStyle",value:function(){return vr({},this.graphModel.theme.edgeAdjust)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.edgeText;return It(t)}},{key:"getEdgeAnimationStyle",value:function(){var t=this.graphModel.theme.edgeAnimation;return It(t)}},{key:"getArrowStyle",value:function(){var t=this.getEdgeStyle(),n=this.getEdgeAnimationStyle(),o=this.graphModel.theme.arrow,a=this.isAnimation?n.stroke:t.stroke;return vr(vr({},t),{},{fill:a,stroke:a},o)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel,n=t.theme.outline;return It(n)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var t,n;return(t=this.graphModel)===null||t===void 0||(n=t.nodesMap[this.sourceNodeId])===null||n===void 0?void 0:n.model}},{key:"targetNode",get:function(){var t,n;return(t=this.graphModel)===null||t===void 0||(n=t.nodesMap[this.targetNodeId])===null||n===void 0?void 0:n.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(t,n){var o,a,f=lf(t);return f.forEach(function(p){var m=Gh(p,n);(a===void 0||m<a)&&(a=m,o=p)}),o}},{key:"getEndAnchor",value:function(t){var n=this,o,a,f=lf(t);return f.forEach(function(p){var m=Gh(p,n.startPoint);(a===void 0||m<a)&&(a=m,o=p)}),o}},{key:"getProperties",value:function(){return Object(l.I)(this.properties)}},{key:"getData",value:function(){var t=this.text,n=t.x,o=t.y,a=t.value,f={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(l.I)(this.properties)};return a&&(f.text={x:n,y:o,value:a}),this.graphModel.overlapMode===xr.INCREASE&&(f.zIndex=this.zIndex),f}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(t,n){this.properties[t]=nr(n),this.setAttributes()}},{key:"deleteProperty",value:function(t){delete this.properties[t],this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=vr(vr({},this.properties),nr(t)),this.setAttributes()}},{key:"changeEdgeId",value:function(t){var n=this.arrowConfig,o=n.markerEnd,a=n.markerStart;a&&a==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(t,")")),o&&o==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(t,")")),this.id=t}},{key:"setStyle",value:function(t,n){this.style=vr(vr({},this.style),{},Rr({},t,nr(n)))}},{key:"setStyles",value:function(t){this.style=vr(vr({},this.style),nr(t))}},{key:"updateStyles",value:function(t){this.style=vr({},nr(t))}},{key:"formatText",value:function(t){var n=this.textPosition,o=n.x,a=n.y;if(!t.text||typeof t.text=="string"){this.text={value:t.text||"",x:o,y:a,draggable:this.text.draggable,editable:this.text.editable};return}Object.prototype.toString.call(t.text)==="[object Object]"&&(this.text={x:t.text.x||o,y:t.text.y||a,value:t.text.value||"",draggable:this.text.draggable,editable:this.text.editable})}},{key:"resetTextPosition",value:function(){var t=this.textPosition,n=t.x,o=t.y;this.text.x=n,this.text.y=o}},{key:"moveText",value:function(t,n){if(this.text){var o=this.text,a=o.x,f=o.y,p=o.value,m=o.draggable,O=o.editable;this.text={value:p,draggable:m,x:a+t,y:f+n,editable:O}}}},{key:"setText",value:function(t){t&&sr(this.text,t)}},{key:"updateText",value:function(t){this.text=vr(vr({},this.text),{},{value:t})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var t=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:t.x,y:t.y}),this.sourceAnchorId||(this.sourceAnchorId=t.id)}if(!this.targetAnchorId||!this.endPoint){var n=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:n.x,y:n.y}),this.targetAnchorId||(this.targetAnchorId=n.id)}}},{key:"setSelected",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=t}},{key:"setHovered",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=t}},{key:"setHitable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=t}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(t,n){this.state=t,this.additionStateData=n}},{key:"updateStartPoint",value:function(t){this.startPoint=t}},{key:"moveStartPoint",value:function(t,n){this.startPoint.x+=t,this.startPoint.y+=n}},{key:"updateEndPoint",value:function(t){this.endPoint=t}},{key:"moveEndPoint",value:function(t,n){this.endPoint.x+=t,this.endPoint.y+=n}},{key:"setZIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=t}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(t){sr(this,t)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var n=t.startPoint,o=t.endPoint;this.updateStartPoint({x:n.x,y:n.y}),this.updateEndPoint({x:o.x,y:o.y})}}]),e}(),Wp=Qe(ge.prototype,"type",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Kp=Qe(ge.prototype,"sourceNodeId",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Vp=Qe(ge.prototype,"targetNodeId",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Zp=Qe(ge.prototype,"startPoint",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Jp=Qe(ge.prototype,"endPoint",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qp=Qe(ge.prototype,"text",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),qp=Qe(ge.prototype,"properties",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),eh=Qe(ge.prototype,"points",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),th=Qe(ge.prototype,"pointsList",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),rh=Qe(ge.prototype,"isSelected",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),nh=Qe(ge.prototype,"isHovered",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oh=Qe(ge.prototype,"isHitable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ih=Qe(ge.prototype,"draggable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ah=Qe(ge.prototype,"visible",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),uh=Qe(ge.prototype,"isAnimation",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),sh=Qe(ge.prototype,"isShowAdjustPoint",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),lh=Qe(ge.prototype,"zIndex",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),fh=Qe(ge.prototype,"state",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ch=Qe(ge.prototype,"style",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),dh=Qe(ge.prototype,"arrowConfig",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:""}}}),Qe(ge.prototype,"sourceNode",[l.m],Object.getOwnPropertyDescriptor(ge.prototype,"sourceNode"),ge.prototype),Qe(ge.prototype,"targetNode",[l.m],Object.getOwnPropertyDescriptor(ge.prototype,"targetNode"),ge.prototype),Qe(ge.prototype,"textPosition",[l.m],Object.getOwnPropertyDescriptor(ge.prototype,"textPosition"),ge.prototype),Qe(ge.prototype,"setProperty",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setProperty"),ge.prototype),Qe(ge.prototype,"deleteProperty",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"deleteProperty"),ge.prototype),Qe(ge.prototype,"setProperties",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setProperties"),ge.prototype),Qe(ge.prototype,"changeEdgeId",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"changeEdgeId"),ge.prototype),Qe(ge.prototype,"setStyle",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setStyle"),ge.prototype),Qe(ge.prototype,"setStyles",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setStyles"),ge.prototype),Qe(ge.prototype,"updateStyles",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"updateStyles"),ge.prototype),Qe(ge.prototype,"formatText",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"formatText"),ge.prototype),Qe(ge.prototype,"resetTextPosition",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"resetTextPosition"),ge.prototype),Qe(ge.prototype,"moveText",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"moveText"),ge.prototype),Qe(ge.prototype,"setText",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setText"),ge.prototype),Qe(ge.prototype,"updateText",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"updateText"),ge.prototype),Qe(ge.prototype,"setAnchors",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setAnchors"),ge.prototype),Qe(ge.prototype,"setSelected",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setSelected"),ge.prototype),Qe(ge.prototype,"setHovered",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setHovered"),ge.prototype),Qe(ge.prototype,"setHitable",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setHitable"),ge.prototype),Qe(ge.prototype,"openEdgeAnimation",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"openEdgeAnimation"),ge.prototype),Qe(ge.prototype,"closeEdgeAnimation",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"closeEdgeAnimation"),ge.prototype),Qe(ge.prototype,"setElementState",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setElementState"),ge.prototype),Qe(ge.prototype,"updateStartPoint",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"updateStartPoint"),ge.prototype),Qe(ge.prototype,"moveStartPoint",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"moveStartPoint"),ge.prototype),Qe(ge.prototype,"updateEndPoint",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"updateEndPoint"),ge.prototype),Qe(ge.prototype,"moveEndPoint",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"moveEndPoint"),ge.prototype),Qe(ge.prototype,"setZIndex",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setZIndex"),ge.prototype),Qe(ge.prototype,"initPoints",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"initPoints"),ge.prototype),Qe(ge.prototype,"updateAttributes",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"updateAttributes"),ge.prototype),Qe(ge.prototype,"getAdjustStart",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"getAdjustStart"),ge.prototype),Qe(ge.prototype,"getAdjustEnd",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"getAdjustEnd"),ge.prototype),Qe(ge.prototype,"updateAfterAdjustStartAndEnd",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"updateAfterAdjustStartAndEnd"),ge.prototype),ge),hf=pf;function Ia(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ia=function(t){return typeof t}:Ia=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ia(e)}function vh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function yh(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?vh(Object(t),!0).forEach(function(n){bh(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):vh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function jP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function gh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CP(e,r,t){return r&&gh(e.prototype,r),t&&gh(e,t),e}function Ba(){return typeof Reflect!="undefined"&&Reflect.get?Ba=Reflect.get:Ba=function(r,t,n){var o=RP(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Ba.apply(this,arguments)}function RP(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Ao(e),e!==null););return e}function IP(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&vf(e,r)}function vf(e,r){return vf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},vf(e,r)}function BP(e){var r=_P();return function(){var n=Ao(e),o;if(r){var a=Ao(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return LP(this,o)}}function LP(e,r){if(r&&(Ia(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mh(e)}function mh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _P(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ao(e){return Ao=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ao(e)}function bh(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var yf=function(e){IP(t,e);var r=BP(t);function t(){var n;jP(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),bh(mh(n),"modelType",ht.LINE_EDGE),n}return CP(t,[{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.line,a=Ba(Ao(t.prototype),"getEdgeStyle",this).call(this);return yh(yh({},a),It(o))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}]),t}(hf);function La(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?La=function(t){return typeof t}:La=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},La(e)}var ut,Oh;function zP(e,r){return UP(e)||HP(e,r)||GP(e,r)||FP()}function FP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GP(e,r){if(!!e){if(typeof e=="string")return Eh(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Eh(e,r)}}function Eh(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function HP(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function UP(e){if(Array.isArray(e))return e}function Sh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function xh(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Sh(Object(t),!0).forEach(function(n){mf(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Sh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function kP(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function XP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ph(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $P(e,r,t){return r&&Ph(e.prototype,r),t&&Ph(e,t),e}function To(){return typeof Reflect!="undefined"&&Reflect.get?To=Reflect.get:To=function(r,t,n){var o=YP(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},To.apply(this,arguments)}function YP(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=_n(e),e!==null););return e}function WP(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&gf(e,r)}function gf(e,r){return gf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},gf(e,r)}function KP(e){var r=ZP();return function(){var n=_n(e),o;if(r){var a=_n(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return VP(this,o)}}function VP(e,r){if(r&&(La(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ci(e)}function ci(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZP(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _n(e){return _n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_n(e)}function mf(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function lr(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var bf=(ut=function(e){WP(t,e);var r=KP(t);function t(){var n;XP(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),mf(ci(n),"modelType",ht.POLYLINE_EDGE),mf(ci(n),"draggingPointList",void 0),kP(ci(n),"dbClickPosition",Oh,ci(n)),n}return $P(t,[{key:"initEdgeData",value:function(o){this.offset=30,To(_n(t.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.polyline,a=To(_n(t.prototype),"getEdgeStyle",this).call(this);return xh(xh({},a),It(o))}},{key:"getTextPosition",value:function(){var o,a=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!a){var f=this.dbClickPosition,p=f.x,m=f.y;return{x:p,y:m}}var O=Mo(this.points),T=vA(O),N=zP(T,2),L=N[0],G=N[1];return{x:(L.x+G.x)/2,y:(L.y+G.y)/2}}},{key:"getAfterAnchor",value:function(o,a,f){var p,m;return f.forEach(function(O){var T;o===Dt.HORIZONTAL?T=Math.abs(a.y-O.y):o===Dt.VERTICAL&&(T=Math.abs(a.x-O.x)),(!m||m>T)&&(m=T,p=O)}),p}},{key:"getCrossPoint",value:function(o,a,f){var p;return o===Dt.HORIZONTAL?p={x:f.x,y:a.y}:o===Dt.VERTICAL&&(p={x:a.x,y:f.y}),p}},{key:"removeCrossPoints",value:function(o,a,f){var p=f.map(function(Ne){return Ne});if(o===1){var m=p[o],O=p[a],T=p[o-1],N=Rh(T,m,this.sourceNode);if(N){var L=Ih(m,O,this.sourceNode);if(L){var G=Bh(m,O,this.sourceNode);G&&(p[o]=G,p.splice(o-1,1),o--,a--)}}else{var K=this.sourceNode.anchors;K.forEach(function(Ne){if(Ne.x===T.x&&Ne.x===m.x||Ne.y===T.y&&Ne.y===m.y){var ke=Kr(Ne.x,Ne.y,m.x,m.y),Re=Kr(T.x,T.y,m.x,m.y);ke<Re&&(p[o-1]=Ne)}})}}if(a===f.length-2){var ie=p[o],oe=p[a],ue=p[a+1],Me=Rh(oe,ue,this.targetNode);if(Me){var je=Ih(ie,oe,this.targetNode);if(je){var ye=Bh(ie,oe,this.targetNode);ye&&(p[a]=ye,p.splice(a+1,1))}}else{var Be=this.targetNode.anchors;Be.forEach(function(Ne){if(Ne.x===ue.x&&Ne.x===oe.x||Ne.y===ue.y&&Ne.y===oe.y){var ke=Kr(Ne.x,Ne.y,oe.x,oe.y),Re=Kr(ue.x,ue.y,oe.x,oe.y);ke<Re&&(p[a+1]=Ne)}})}}return p}},{key:"getDraggingPoints",value:function(o,a,f,p,m){var O=m.map(function(L){return L}),T=this.getAfterAnchor(o,f,p),N=this.getCrossPoint(o,f,T);return a==="start"?(O.unshift(N),O.unshift(T)):(O.push(N),O.push(T)),O}},{key:"updateCrossPoints",value:function(o){var a=o.map(function(ye){return ye}),f=o[0],p=o[1],m=o[a.length-2],O=o[a.length-1],T=this.sourceNode,N=this.targetNode,L=T.modelType,G=N.modelType,K=ka(f,p),ie=a[0];switch(L){case ht.RECT_NODE:if(T.radius!==0){var oe=kp(f,T);oe||(ie=Up(f,K,T))}break;case ht.CIRCLE_NODE:ie=ff(f,K,T);break;case ht.ELLIPSE_NODE:ie=Xp(f,K,T);break;case ht.DIAMOND_NODE:ie=Ca(f,K,T);break;case ht.POLYGON_NODE:ie=Ca(f,K,T);break}a[0]=ie;var ue=ka(m,O),Me=a[a.length-1];switch(G){case ht.RECT_NODE:if(N.radius!==0){var je=kp(O,N);je||(Me=Up(O,ue,N))}break;case ht.CIRCLE_NODE:Me=ff(O,ue,N);break;case ht.ELLIPSE_NODE:Me=Xp(O,ue,N);break;case ht.DIAMOND_NODE:Me=Ca(O,ue,N);break;case ht.POLYGON_NODE:Me=Ca(O,ue,N);break}return a[a.length-1]=Me,a}},{key:"getData",value:function(){var o=To(_n(t.prototype),"getData",this).call(this),a=this.pointsList.map(function(f){var p=f.x,m=f.y;return{x:p,y:m}});return Object.assign({},o,{pointsList:a})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=Ch({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(a){return"".concat(a.x,",").concat(a.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,a){this.startPoint.x+=o,this.startPoint.y+=a,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveEndPoint",value:function(o,a){this.endPoint.x+=o,this.endPoint.y+=a,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draggingPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,a){this.isDragging=!0;var f=o.start,p=o.end,m=o.startIndex,O=o.endIndex,T=o.direction,N=this.pointsList,L=N;return T===Dt.HORIZONTAL?(N[m]={x:f.x,y:f.y+a.y},N[O]={x:p.x,y:p.y+a.y},L=this.pointsList.map(function(G){return G})):T===Dt.VERTICAL&&(N[m]={x:f.x+a.x,y:f.y},N[O]={x:p.x+a.x,y:p.y},L=this.pointsList.map(function(G){return G})),this.updatePointsAfterDrag(L),this.draggingPointList=L,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},N[m]),end:Object.assign({},N[O]),startIndex:m,endIndex:O,direction:T}}},{key:"dragAppend",value:function(o,a){this.isDragging=!0;var f=o.start,p=o.end,m=o.startIndex,O=o.endIndex,T=o.direction,N=this.pointsList;if(T===Dt.HORIZONTAL){N[m]={x:f.x,y:f.y+a.y},N[O]={x:p.x,y:p.y+a.y};var L=this.pointsList.map(function(st){return st});if(m!==0&&O!==this.pointsList.length-1&&(L=this.removeCrossPoints(m,O,L)),m===0){var G={x:f.x,y:f.y+a.y},K=Ln(G,this.sourceNode);if(!K){var ie=this.sourceNode.anchors;L=this.getDraggingPoints(T,"start",G,ie,L)}}if(O===this.pointsList.length-1){var oe={x:p.x,y:p.y+a.y},ue=Ln(oe,this.targetNode);if(!ue){var Me=this.targetNode.anchors;L=this.getDraggingPoints(T,"end",oe,Me,L)}}this.updatePointsAfterDrag(L),this.draggingPointList=L}else if(T===Dt.VERTICAL){N[m]={x:f.x+a.x,y:f.y},N[O]={x:p.x+a.x,y:p.y};var je=this.pointsList.map(function(st){return st});if(m!==0&&O!==this.pointsList.length-1&&(je=this.removeCrossPoints(m,O,je)),m===0){var ye={x:f.x+a.x,y:f.y},Be=Ln(ye,this.sourceNode);if(!Be){var Ne=this.sourceNode.anchors;je=this.getDraggingPoints(T,"start",ye,Ne,je)}}if(O===this.pointsList.length-1){var ke={x:p.x+a.x,y:p.y},Re=Ln(ke,this.targetNode);if(!Re){var qe=this.targetNode.anchors;je=this.getDraggingPoints(T,"end",ke,qe,je)}}this.updatePointsAfterDrag(je),this.draggingPointList=je}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},N[m]),end:Object.assign({},N[O]),startIndex:m,endIndex:O,direction:T}}},{key:"dragAppendEnd",value:function(){if(this.draggingPointList){var o=jh(Mo(this.points));this.pointsList=o.map(function(p){return p}),this.draggingPointList=[];var a=o[0];this.startPoint=Object.assign({},a);var f=o[o.length-1];this.endPoint=Object.assign({},f)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(o){var a=this.updateCrossPoints(o);this.points=a.map(function(f){return"".concat(f.x,",").concat(f.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var a=o.startPoint,f=o.endPoint,p=o.sourceNode,m=o.targetNode,O=Ch({x:a.x,y:a.y},{x:f.x,y:f.y},p,m,this.offset||0);this.pointsList=O,this.initPoints()}}]),t}(hf),Oh=lr(ut.prototype,"dbClickPosition",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lr(ut.prototype,"initPoints",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"initPoints"),ut.prototype),lr(ut.prototype,"updatePoints",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"updatePoints"),ut.prototype),lr(ut.prototype,"updateStartPoint",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"updateStartPoint"),ut.prototype),lr(ut.prototype,"moveStartPoint",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"moveStartPoint"),ut.prototype),lr(ut.prototype,"updateEndPoint",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"updateEndPoint"),ut.prototype),lr(ut.prototype,"moveEndPoint",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"moveEndPoint"),ut.prototype),lr(ut.prototype,"dragAppendStart",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"dragAppendStart"),ut.prototype),lr(ut.prototype,"dragAppendSimple",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"dragAppendSimple"),ut.prototype),lr(ut.prototype,"dragAppend",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"dragAppend"),ut.prototype),lr(ut.prototype,"dragAppendEnd",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"dragAppendEnd"),ut.prototype),lr(ut.prototype,"updatePointsAfterDrag",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"updatePointsAfterDrag"),ut.prototype),lr(ut.prototype,"getAdjustStart",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"getAdjustStart"),ut.prototype),lr(ut.prototype,"getAdjustEnd",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"getAdjustEnd"),ut.prototype),lr(ut.prototype,"updateAfterAdjustStartAndEnd",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"updateAfterAdjustStartAndEnd"),ut.prototype),ut),di=function(r){var t=r.start,n=r.end,o=r.offset,a=r.verticalLength,f=r.type,p={leftX:0,leftY:0,rightX:0,rightY:0},m=Math.atan((n.y-t.y)/(n.x-t.x)),O=Math.atan(o/a),T=Math.sqrt(a*a+o*o);return f==="start"?n.x>=t.x?(p.leftX=t.x+T*Math.sin(m+O),p.leftY=t.y-T*Math.cos(m+O),p.rightX=t.x-T*Math.sin(m-O),p.rightY=t.y+T*Math.cos(m-O)):(p.leftX=t.x-T*Math.sin(m+O),p.leftY=t.y+T*Math.cos(m+O),p.rightX=t.x+T*Math.sin(m-O),p.rightY=t.y-T*Math.cos(m-O)):f==="end"&&(n.x>=t.x?(p.leftX=n.x+T*Math.sin(m-O),p.leftY=n.y-T*Math.cos(m-O),p.rightX=n.x-T*Math.sin(m+O),p.rightY=n.y+T*Math.cos(m+O)):(p.leftX=n.x-T*Math.sin(m-O),p.leftY=n.y+T*Math.cos(m-O),p.rightX=n.x+T*Math.sin(m+O),p.rightY=n.y-T*Math.cos(m+O))),p};function Ah(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function _a(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ah(Object(t),!0).forEach(function(n){JP(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ah(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function JP(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function QP(e){return tA(e)||eA(e)||Th(e)||qP()}function qP(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eA(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tA(e){if(Array.isArray(e))return Ef(e)}function za(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?za=function(t){return typeof t}:za=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},za(e)}function Of(e,r){return oA(e)||nA(e,r)||Th(e,r)||rA()}function rA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Th(e,r){if(!!e){if(typeof e=="string")return Ef(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ef(e,r)}}function Ef(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function nA(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function oA(e){if(Array.isArray(e))return e}var iA=function(r,t){return Math.abs(r.centerX-t.centerX)*2<r.width+t.width&&Math.abs(r.centerY-t.centerY)*2<r.height+t.height},Sf=function(r){var t=[],n={};return r.forEach(function(o){var a="".concat(o.x,"-").concat(o.y);o.id=a,n[a]=o}),Object.keys(n).forEach(function(o){t.push(n[o])}),t},Fa=function(r,t){return r.width===0&&r.height===0?r:{centerX:r.centerX,centerY:r.centerY,minX:r.minX-t,minY:r.minY-t,maxX:r.maxX+t,maxY:r.maxY+t,height:r.height+2*t,width:r.width+2*t}},aA=function(r,t){var n=Math.abs(r.x-t.centerX),o=Math.abs(r.y-t.centerY);return n/t.width>o/t.height?Dt.HORIZONTAL:Dt.VERTICAL},Ga=function(r,t){var n=aA(t,r);return n===Dt.HORIZONTAL?{x:t.x>r.centerX?r.maxX:r.minX,y:t.y}:{x:t.x,y:t.y>r.centerY?r.maxY:r.minY}},Mh=function(r,t){var n=Math.min(r.minX,t.minX),o=Math.min(r.minY,t.minY),a=Math.max(r.maxX,t.maxX),f=Math.max(r.maxY,t.maxY);return{centerX:(n+a)/2,centerY:(o+f)/2,minX:n,minY:o,maxX:a,maxY:f,height:f-o,width:a-n}},pi=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],o=[];r.forEach(function(N){n.push(N.x),o.push(N.y)});var a=Math.min.apply(Math,n),f=Math.max.apply(Math,n),p=Math.min.apply(Math,o),m=Math.max.apply(Math,o),O=f-a,T=m-p;return t&&(O+=t,T+=t),{centerX:(a+f)/2,centerY:(p+m)/2,maxX:f,maxY:m,minX:a,minY:p,x:(a+f)/2,y:(p+m)/2,height:T,width:O}},Ha=function(r){var t=r.minX,n=r.minY,o=r.maxX,a=r.maxY;return[{x:t,y:n},{x:o,y:n},{x:o,y:a},{x:t,y:a}]},Ua=function(r,t){var n=r.x,o=r.y;return n<t.minX||n>t.maxX||o<t.minY||o>t.maxY},uA=function(r,t){return t<r.minX||t>r.maxX?[]:[{x:t,y:r.minY},{x:t,y:r.maxY}]},sA=function(r,t){return t<r.minY||t>r.maxY?[]:[{x:r.minX,y:t},{x:r.maxX,y:t}]},lA=function(r,t){return uA(r,t.x).concat(sA(r,t.y))},xf=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},fA=function(r,t){var n=-2,o=0;return t.forEach(function(a){a&&(r.x===a.x&&(o+=n),r.y===a.y&&(o+=n))}),o},wh=function(r,t,n,o,a){return xf(r,t)+xf(r,n)+fA(r,[t,n,o,a])},cA=function e(r,t,n,o,a){a||(a=0),r.unshift(t[o]),n[o]&&n[o]!==o&&a<=100&&e(r,t,n,n[o],a+1)},dA=function(r,t){var n=r.indexOf(t);n>-1&&r.splice(n,1)},hi=function(r,t,n,o){var a=t.x-r.x,f=t.y-r.y,p=o.x-n.x,m=o.y-n.y,O=(-f*(r.x-n.x)+a*(r.y-n.y))/(-p*f+a*m),T=(p*(r.y-n.y)-m*(r.x-n.x))/(-p*f+a*m);return O>=0&&O<=1&&T>=0&&T<=1},Nh=function(r,t,n){if(n.width===0&&n.height===0)return!1;var o=Ha(n),a=Of(o,4),f=a[0],p=a[1],m=a[2],O=a[3];return hi(r,t,f,p)||hi(r,t,f,O)||hi(r,t,p,m)||hi(r,t,m,O)},pA=function(r,t,n,o){var a=[];return r.forEach(function(f){f!==t&&(f.x===t.x||f.y===t.y)&&!Nh(f,t,n)&&!Nh(f,t,o)&&a.push(f)}),Sf(a)},hA=function(r,t,n,o,a,f,p){var m=[],O=[t],T={},N={},L={};N[t.id]=0,L[t.id]=wh(t,n,t);var G={};r.forEach(function(oe){G[oe.id]=oe});for(var K=function(){var ue=void 0,Me=1/0;if(O.forEach(function(ye){L[ye.id]<Me&&(Me=L[ye.id],ue=ye)}),ue===n){var je=[];return cA(je,G,T,n.id),{v:je}}dA(O,ue),m.push(ue),pA(r,ue,o,a).forEach(function(ye){if(m.indexOf(ye)===-1){O.indexOf(ye)===-1&&O.push(ye);var Be=L[ue.id]+xf(ue,ye);N[ye.id]&&Be>=N[ye.id]||(T[ye.id]=ue.id,N[ye.id]=Be,L[ye.id]=N[ye.id]+wh(ye,n,t,f,p))}})};O.length;){var ie=K();if(za(ie)==="object")return ie.v}return[t,n]},Dh=function(r){var t=Pr(r);return t},jh=function(r){for(var t=1;t<r.length-1;){var n=r[t-1],o=r[t],a=r[t+1];n.x===o.x&&o.x===a.x||n.y===o.y&&o.y===a.y?r.splice(t,1):t++}return r},Ch=function(r,t,n,o,a){var f=Dh(n),p=Dh(o),m=Fa(f,a),O=Fa(p,a),T=Ga(m,r),N=Ga(O,t);if(iA(m,O)){var L=yA(r,t,T,N);return[r,T].concat(QP(L),[N,t])}var G=pi([T,N]),K=Mh(m,G),ie=Mh(O,G),oe=[];oe=oe.concat(Ha(K)),oe=oe.concat(Ha(ie));var ue={x:(r.x+t.x)/2,y:(r.y+t.y)/2};[G,K,ie].forEach(function(je){oe=oe.concat(lA(je,ue).filter(function(ye){return Ua(ye,m)&&Ua(ye,O)}))}),[{x:T.x,y:N.y},{x:N.x,y:T.y}].forEach(function(je){Ua(je,m)&&Ua(je,O)&&oe.push(je)}),oe.unshift(T),oe.push(N),oe=Sf(oe);var Me=hA(oe,T,N,f,p,r,t);return Me.unshift(r),Me.push(t),Me.length>2&&(Me=jh(Me)),Sf(Me)},vA=function(r){var t;if(r.length===1)t=[r[0],r[0]];else if(r.length>=2){for(var n=r[0],o=r[1],a=Kr(n.x,n.y,o.x,o.y),f=1;f<r.length-1;f++){var p=r[f],m=r[f+1],O=Kr(p.x,p.y,m.x,m.y);O>a&&(a=O,n=p,o=m)}t=[n,o]}return t},Rh=function(r,t,n){var o=Ln(r,n),a=Ln(t,n);return o&&a},Ih=function(r,t,n){var o=Ln(r,n),a=Ln(t,n),f=o&&a,p=o||a;return!f&&p},Bh=function(r,t,n){for(var o,a,f=Pr(n),p=Ha(f),m=0;m<p.length;m++){var O=hi(r,t,p[m],p[(m+1)%p.length]);O&&(a=[p[m],p[(m+1)%p.length]])}return a&&(o=bP(r,t,a[0],a[1])),o},ka=function(r,t){var n;return r.x===t.x?n=Dt.VERTICAL:r.y===t.y&&(n=Dt.HORIZONTAL),n},Mo=function(r){var t=r.split(" "),n=[];return t&&t.forEach(function(o){var a=o.split(","),f=Of(a,2),p=f[0],m=f[1];n.push({x:Number(p),y:Number(m)})}),n},yA=function(r,t,n,o){var a=[],f=ka(r,n),p=ka(t,o);if(f===p)r.y===n.y?(a.push({x:n.x,y:(n.y+o.y)/2}),a.push({x:o.x,y:(n.y+o.y)/2})):(a.push({x:(n.x+o.x)/2,y:n.y}),a.push({x:(n.x+o.x)/2,y:o.y}));else{var m={x:n.x,y:o.y},O=fi(m,r,n),T=fi(m,t,o);if(O||T)m={x:o.x,y:n.y};else{var N=Lh(m,r,n),L=Lh(m,t,o);N&&L&&(m={x:o.x,y:n.y})}a.push(m)}return a},Lh=function(r,t,n){return r.x===t.x&&r.x===n.x||r.y===t.y&&r.y===n.y},_h=function(r){if(!r)return 0;for(var t=0,n=0;n<r.length;n++){var o=r.charCodeAt(n);r.match(/[A-Z]/)?t+=1.5:o>=1&&o<=126||o>=65376&&o<=65439?t+=1:t+=2}return t},gA=function(r){var t=r.start,n=r.end,o;if(t.x===n.x&&t.y===n.y)o="";else{var a={start:t,end:n,offset:10,verticalLength:5},f=di(_a(_a({},a),{},{type:"start"})),p=di(_a(_a({},a),{},{type:"end"}));o="M".concat(f.leftX," ").concat(f.leftY,` 
    L`).concat(f.rightX," ").concat(f.rightY,` 
    L`).concat(p.rightX," ").concat(p.rightY,`
    L`).concat(p.leftX," ").concat(p.leftY," z")}return{d:o,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},zh=function(r){var t=r.start,n=r.end,o=r.sourceNode,a=r.targetNode,f=r.offset,p=Pr(o),m=Pr(a),O=Fa(p,f),T=Fa(m,f),N=Ga(O,t),L=Ga(T,n);return{sNext:N,ePre:L}},Xa=function(r){var t=r.replace(/M/g,"").replace(/C/g,",").split(","),n=$a(t[0]),o=$a(t[1]),a=$a(t[2]),f=$a(t[3]);return[n,o,a,f]},$a=function(r){var t=r.replace(/(^\s*)/g,"").split(" "),n=Of(t,2),o=n[0],a=n[1];return{x:+o,y:+a}},mA=function(r){var t=Xa(r);return[t[2],t[3]]},Fh=function(r,t){for(var n=r.x,o=r.y,a=Mo(t),f=Number.MAX_SAFE_INTEGER,p,m=[],O=0;O<a.length;O++)m.push({start:a[O],end:a[(O+1)%a.length]});if(m.forEach(function(G){var K=G.start,ie=G.end;if(K.x===ie.x){var oe={x:K.x,y:o},ue=fi(oe,K,ie);if(ue){var Me=Math.abs(K.x-n);Me<f&&(f=Me,p=oe)}}else if(K.y===ie.y){var je={x:n,y:K.y},ye=fi(je,K,ie);if(ye){var Be=Math.abs(K.y-o);Be<f&&(f=Be,p=je)}}}),!p){var T=m[0],N=T.start,L=T.end;p={x:N.x+(L.x-N.x)/2,y:N.y+(L.y-N.y)/2}}return p},bA=function(r){return si(r,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Gh=function(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))};function OA(e,r){return typeof r!="function"?function(t,n,o){return Object.assign({type:e.edgeType},o)}:function(t,n,o){var a=r(t,n,o);return a?typeof a=="string"?Object.assign({},o,{type:a}):Object.assign({type:a},o):{type:e.edgeType}}}i(204);function EA(){}var wo=EA;function SA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Hh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xA(e,r,t){return r&&Hh(e.prototype,r),t&&Hh(e,t),e}function Ut(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Vr=window.document,Uh=0;function PA(e){var r=e.onDragStart,t=r===void 0?wo:r,n=e.onDragging,o=n===void 0?wo:n,a=e.onDragEnd,f=a===void 0?wo:a,p=e.step,m=p===void 0?1:p,O=e.isStopPropagation,T=O===void 0?!0:O,N=!1,L=!1,G=0,K=0,ie=0,oe=0;function ue(ye){if(T&&ye.stopPropagation(),!!L&&(N=!0,ie+=ye.clientX-G,oe+=ye.clientY-K,G=ye.clientX,K=ye.clientY,Math.abs(ie)>m||Math.abs(oe)>m)){var Be=ie%m,Ne=oe%m,ke=ie-Be,Re=oe-Ne;ie=Be,oe=Ne,o({deltaX:ke,deltaY:Re,event:ye})}}function Me(ye){if(T&&ye.stopPropagation(),L=!1,Vr.removeEventListener("mousemove",ue,!1),Vr.removeEventListener("mouseup",Me,!1),!!N)return N=!1,f({event:ye})}function je(ye){if(ye.button===Uh)return T&&ye.stopPropagation(),L=!0,G=ye.clientX,K=ye.clientY,Vr.addEventListener("mousemove",ue,!1),Vr.addEventListener("mouseup",Me,!1),t({event:ye})}return je}var fn=function(){function e(r){var t=this,n=r.onDragStart,o=n===void 0?wo:n,a=r.onDragging,f=a===void 0?wo:a,p=r.onDragEnd,m=p===void 0?wo:p,O=r.eventType,T=O===void 0?"":O,N=r.eventCenter,L=N===void 0?null:N,G=r.step,K=G===void 0?1:G,ie=r.isStopPropagation,oe=ie===void 0?!0:ie,ue=r.model,Me=ue===void 0?null:ue,je=r.data,ye=je===void 0?null:je;SA(this,e),Ut(this,"onDragStart",void 0),Ut(this,"onDragging",void 0),Ut(this,"onDragEnd",void 0),Ut(this,"step",void 0),Ut(this,"isStopPropagation",void 0),Ut(this,"isDragging",!1),Ut(this,"isStartDragging",!1),Ut(this,"startX",0),Ut(this,"startY",0),Ut(this,"sumDeltaX",0),Ut(this,"sumDeltaY",0),Ut(this,"eventType",void 0),Ut(this,"eventCenter",void 0),Ut(this,"model",void 0),Ut(this,"data",void 0),Ut(this,"startTime",void 0),Ut(this,"handleMouseDown",function(Be){var Ne,ke;if(Be.button===Uh){t.isStopPropagation&&Be.stopPropagation(),t.isStartDragging=!0,t.startX=Be.clientX,t.startY=Be.clientY,Vr.addEventListener("mousemove",t.handleMouseMove,!1),Vr.addEventListener("mouseup",t.handleMouseUp,!1);var Re=(Ne=t.model)===null||Ne===void 0?void 0:Ne.getData();(ke=t.eventCenter)===null||ke===void 0||ke.emit(rt["".concat(t.eventType,"_MOUSEDOWN")],{e:Be,data:t.data||Re}),t.startTime=new Date().getTime()}}),Ut(this,"handleMouseMove",function(Be){if(t.isStopPropagation&&Be.stopPropagation(),!!t.isStartDragging&&(t.sumDeltaX+=Be.clientX-t.startX,t.sumDeltaY+=Be.clientY-t.startY,t.startX=Be.clientX,t.startY=Be.clientY,t.step<=1||Math.abs(t.sumDeltaX)>t.step||Math.abs(t.sumDeltaY)>t.step)){var Ne,ke=t.sumDeltaX%t.step,Re=t.sumDeltaY%t.step,qe=t.sumDeltaX-ke,st=t.sumDeltaY-Re;t.sumDeltaX=ke,t.sumDeltaY=Re;var Bt=(Ne=t.model)===null||Ne===void 0?void 0:Ne.getData();if(!t.isDragging){var Ft;(Ft=t.eventCenter)===null||Ft===void 0||Ft.emit(rt["".concat(t.eventType,"_DRAGSTART")],{e:Be,data:t.data||Bt}),t.onDragStart({event:Be})}t.isDragging=!0,Promise.resolve().then(function(){var Kt,ar;t.onDragging({deltaX:qe,deltaY:st,event:Be}),(Kt=t.eventCenter)===null||Kt===void 0||Kt.emit(rt["".concat(t.eventType,"_MOUSEMOVE")],{e:Be,data:t.data||Bt}),(ar=t.eventCenter)===null||ar===void 0||ar.emit(rt["".concat(t.eventType,"_DRAG")],{e:Be,data:t.data||Bt})})}}),Ut(this,"handleMouseUp",function(Be){t.isStartDragging=!1,t.isStopPropagation&&Be.stopPropagation(),Promise.resolve().then(function(){var Ne,ke,Re;Vr.removeEventListener("mousemove",t.handleMouseMove,!1),Vr.removeEventListener("mouseup",t.handleMouseUp,!1);var qe=(Ne=t.model)===null||Ne===void 0?void 0:Ne.getData();(ke=t.eventCenter)===null||ke===void 0||ke.emit(rt["".concat(t.eventType,"_MOUSEUP")],{e:Be,data:t.data||qe}),t.isDragging&&(t.isDragging=!1,t.onDragEnd({event:Be}),(Re=t.eventCenter)===null||Re===void 0||Re.emit(rt["".concat(t.eventType,"_DROP")],{e:Be,data:t.data||qe}))})}),Ut(this,"cancelDrag",function(){Vr.removeEventListener("mousemove",t.handleMouseMove,!1),Vr.removeEventListener("mouseup",t.handleMouseUp,!1),t.onDragEnd({event:null}),t.isDragging=!1}),this.onDragStart=o,this.onDragging=f,this.onDragEnd=m,this.step=K,this.isStopPropagation=oe,this.eventType=T,this.eventCenter=L,this.model=Me,this.data=ye}return xA(e,[{key:"setStep",value:function(t){this.step=t}}]),e}(),kh={node:!1,edge:!1},AA={node:!0,edge:!0},TA=function(r){return!r||typeof r=="boolean"?It(r===!0?AA:kh):Ip(It(kh),r)},de,Xh,$h,Yh,Wh,Kh,Vh,Zh,Jh,Qh,qh,ev,tv;function rv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ya(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?rv(Object(t),!0).forEach(function(n){Zr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function vi(e,r){return NA(e)||wA(e,r)||nv(e,r)||MA()}function MA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wA(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function NA(e){if(Array.isArray(e))return e}function No(e){return CA(e)||jA(e)||nv(e)||DA()}function DA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nv(e,r){if(!!e){if(typeof e=="string")return Pf(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Pf(e,r)}}function jA(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CA(e){if(Array.isArray(e))return Pf(e)}function Pf(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function yi(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yi=function(t){return typeof t}:yi=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yi(e)}function Ir(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function RA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ov(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function IA(e,r,t){return r&&ov(e.prototype,r),t&&ov(e,t),e}function Zr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ze(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Wa=200,iv=(de=function(){function e(r){RA(this,e),Zr(this,"rootEl",void 0),Ir(this,"width",Xh,this),Ir(this,"height",$h,this),Zr(this,"theme",void 0),Zr(this,"eventCenter",void 0),Zr(this,"modelMap",new Map),Zr(this,"topElement",void 0),Zr(this,"animation",void 0),Zr(this,"idGenerator",void 0),Zr(this,"edgeGenerator",void 0),Zr(this,"nodeMoveRules",[]),Ir(this,"edgeType",Yh,this),Ir(this,"nodes",Wh,this),Ir(this,"edges",Kh,this),Ir(this,"overlapMode",Vh,this),Ir(this,"background",Zh,this),Ir(this,"transformModel",Jh,this),Ir(this,"editConfigModel",Qh,this),Ir(this,"gridSize",qh,this),Ir(this,"partial",ev,this),Ir(this,"fakerNode",tv,this);var t=r.container,n=r.background,o=n===void 0?{}:n,a=r.grid,f=r.idGenerator,p=r.edgeGenerator,m=r.animation;this.background=o,yi(a)==="object"&&(this.gridSize=a.size),this.rootEl=t,this.editConfigModel=new sp(r),this.eventCenter=new iP,this.transformModel=new XS(this.eventCenter),this.theme=Bp(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=TA(m),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=f,this.edgeGenerator=OA(this,p),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height,this.flowId=Bn()}return IA(e,[{key:"nodesMap",get:function(){return this.nodes.reduce(function(t,n,o){return t[n.id]={index:o,model:n},t},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(t,n,o){return t[n.id]={index:o,model:n},t},{})}},{key:"modelsMap",get:function(){return[].concat(No(this.nodes),No(this.edges)).reduce(function(t,n){return t[n.id]=n,t},{})}},{key:"sortElements",get:function(){var t=[];this.nodes.forEach(function(m){return t.push(m)}),this.edges.forEach(function(m){return t.push(m)}),t=t.sort(function(m,O){return m.zIndex-O.zIndex});for(var n=[],o=[-Wa,-Wa],a=[this.width+Wa,this.height+Wa],f=0;f<t.length;f++){var p=t[f];p.visible&&(!this.partial||p.isSelected||this.isElementInArea(p,o,a,!1,!1))&&n.push(p)}return n}},{key:"textEditElement",get:function(){var t=this.nodes.find(function(o){return o.state===bt.TEXT_EDIT}),n=this.edges.find(function(o){return o.state===bt.TEXT_EDIT});return t||n}},{key:"selectElements",get:function(){var t=new Map;return this.nodes.forEach(function(n){n.isSelected&&t.set(n.id,n)}),this.edges.forEach(function(n){n.isSelected&&t.set(n.id,n)}),t}},{key:"getAreaElement",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,p=[],m=[];this.nodes.forEach(function(N){return m.push(N)}),this.edges.forEach(function(N){return m.push(N)});for(var O=0;O<m.length;O++){var T=m[O];(!f||T.visible)&&this.isElementInArea(T,t,n,o,a)&&p.push(T)}return p}},{key:"getModel",value:function(t){return this.modelMap.get(t)}},{key:"getNodeModelById",value:function(t){var n;return this.fakerNode&&t===this.fakerNode.id?this.fakerNode:(n=this.nodesMap[t])===null||n===void 0?void 0:n.model}},{key:"getPointByClient",value:function(t){var n=t.x,o=t.y,a=this.rootEl.getBoundingClientRect(),f={x:n-a.left,y:o-a.top},p=this.transformModel.HtmlPointToCanvasPoint([f.x,f.y]),m=vi(p,2),O=m[0],T=m[1];return{domOverlayPosition:f,canvasOverlayPosition:{x:O,y:T}}}},{key:"isElementInArea",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(t.BaseType===Gt.NODE){t=t;for(var p=Pr(t),m=p.minX,O=p.minY,T=p.maxX,N=p.maxY,L=[{x:m,y:O},{x:T,y:O},{x:T,y:N},{x:m,y:N}],G=f,K=0;K<L.length;K++){var ie=L[K],oe=ie.x,ue=ie.y,Me=this.transformModel.CanvasPointToHtmlPoint([oe,ue]),je=vi(Me,2);if(oe=je[0],ue=je[1],af([oe,ue],n,o)!==f){G=!f;break}}return G}if(t.BaseType===Gt.EDGE){t=t;var ye=t,Be=ye.startPoint,Ne=ye.endPoint,ke=this.transformModel.CanvasPointToHtmlPoint([Be.x,Be.y]),Re=this.transformModel.CanvasPointToHtmlPoint([Ne.x,Ne.y]),qe=af(ke,n,o),st=af(Re,n,o);return a?qe&&st:qe||st}return!1}},{key:"graphDataToModel",value:function(t){var n=this;(!this.width||!this.height)&&this.resize(),this.nodes=Pa(t.nodes,function(o){var a=n.getModel(o.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var f=o.x,p=o.y;return f&&p&&(o.x=In(f,n.gridSize),o.y=In(p,n.gridSize),yi(o.text)==="object"&&(o.text.x-=_p(f,n.gridSize),o.text.y-=_p(p,n.gridSize))),new a(o,n)}),this.edges=Pa(t.edges,function(o){var a=n.getModel(o.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new a(o,n)})}},{key:"modelToGraphData",value:function(){var t=[];this.edges.forEach(function(o){var a=o.getData();a&&!o.virtual&&t.push(a)});var n=[];return this.nodes.forEach(function(o){var a=o.getData();a&&!o.virtual&&n.push(a)}),{nodes:n,edges:t}}},{key:"modelToHistoryData",value:function(){for(var t=!1,n=[],o=0;o<this.nodes.length;o++){var a=this.nodes[o];if(a.isDragging){t=!0;break}else n.push(a.getHistoryData())}if(t)return!1;for(var f=!1,p=[],m=0;m<this.edges.length;m++){var O=this.edges[m];if(O.isDragging){f=!0;break}else p.push(O.getHistoryData())}return f?!1:{nodes:n,edges:p}}},{key:"getEdgeModelById",value:function(t){var n;return(n=this.edgesMap[t])===null||n===void 0?void 0:n.model}},{key:"getElement",value:function(t){return this.modelsMap[t]}},{key:"getNodeEdges",value:function(t){for(var n=[],o=0;o<this.edges.length;o++){var a=this.edges[o],f=this.edges[o].sourceNodeId===t,p=this.edges[o].targetNodeId===t;(f||p)&&n.push(a)}return n}},{key:"getSelectElements",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=this.selectElements,o={nodes:[],edges:[]};return n.forEach(function(a){if(a.BaseType===Gt.NODE&&o.nodes.push(a.getData()),a.BaseType===Gt.EDGE){var f=a.getData(),p=n.get(f.sourceNodeId)&&n.get(f.targetNodeId);(t||p)&&o.edges.push(f)}}),o}},{key:"updateAttributes",value:function(t,n){var o=this.getElement(t);o.updateAttributes(n)}},{key:"changeNodeId",value:function(t,n){return n||(n=Bn()),this.nodesMap[n]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8282\u70B9".concat(n,", \u4FEE\u6539\u5931\u8D25")),""):this.nodesMap[t]?(this.edges.forEach(function(o){o.sourceNodeId===t&&(o.sourceNodeId=n),o.targetNodeId===t&&(o.targetNodeId=n)}),this.nodesMap[t].model.id=n,n):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8282\u70B9".concat(n,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"changeEdgeId",value:function(t,n){return n||(n=Bn()),this.edgesMap[n]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8FB9: ".concat(n,", \u4FEE\u6539\u5931\u8D25")),""):this.edgesMap[t]?(this.edges.forEach(function(o){o.id===t&&o.changeEdgeId(n)}),n):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8FB9: ".concat(n,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"setFakerNode",value:function(t){this.fakerNode=t}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(t,n){return this.modelMap.set(t,n)}},{key:"toFront",value:function(t){var n,o,a=((n=this.nodesMap[t])===null||n===void 0?void 0:n.model)||((o=this.edgesMap[t])===null||o===void 0?void 0:o.model);if(a){if(this.overlapMode===xr.DEFAULT){var f;(f=this.topElement)===null||f===void 0||f.setZIndex(),a.setZIndex(_S),this.topElement=a}this.overlapMode===xr.INCREASE&&this.setElementZIndex(t,"top")}}},{key:"setElementZIndex",value:function(t,n){var o,a,f=((o=this.nodesMap[t])===null||o===void 0?void 0:o.model)||((a=this.edgesMap[t])===null||a===void 0?void 0:a.model);if(f){var p;typeof n=="number"&&(p=n),n==="top"&&(p=df()),n==="bottom"&&(p=wP()),f.setZIndex(p)}}},{key:"deleteNode",value:function(t){var n=this.nodesMap[t].model.getData();this.deleteEdgeBySource(t),this.deleteEdgeByTarget(t),this.nodes.splice(this.nodesMap[t].index,1),this.eventCenter.emit(rt.NODE_DELETE,{data:n})}},{key:"addNode",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rt.NODE_ADD,o=nr(t);o.id&&this.nodesMap[t.id]&&delete o.id;var a=this.getModel(o.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));o.x=In(o.x,this.gridSize),o.y=In(o.y,this.gridSize);var f=new a(o,this);this.nodes.push(f);var p=f.getData();return this.eventCenter.emit(n,{data:p}),f}},{key:"cloneNode",value:function(t){var n=this.getNodeModelById(t),o=n.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var a=this.addNode(o);return a.setSelected(!0),n.setSelected(!1),a.getData()}},{key:"moveNode",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,f=this.nodesMap[t];if(!f){console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(t,"\u7684\u8282\u70B9"));return}var p=f.model,m=p.getMoveDistance(n,o,a),O=vi(m,2);n=O[0],o=O[1],this.moveEdge(t,n,o)}},{key:"moveNode2Coordinate",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,f=this.nodesMap[t];if(!f){console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(t,"\u7684\u8282\u70B9"));return}var p=f.model,m=p.x,O=p.y,T=n-m,N=o-O;this.moveNode(t,T,N,a)}},{key:"editText",value:function(t){this.setElementStateById(t,bt.TEXT_EDIT)}},{key:"addEdge",value:function(t){var n=nr(t),o=n.type;o||(o=this.edgeType),n.id&&this.edgesMap[n.id]&&delete n.id;var a=this.getModel(o);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o,"\u5BF9\u5E94\u7684\u8FB9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FB9\u3002"));var f=new a(Ya(Ya({},n),{},{type:o}),this),p=f.getData();return this.edges.push(f),this.eventCenter.emit(rt.EDGE_ADD,{data:p}),f}},{key:"moveEdge",value:function(t,n,o){for(var a=0;a<this.edges.length;a++){var f=this.edges[a],p=f.textPosition,m=p.x,O=p.y,T=this.edges[a].sourceNodeId===t,N=this.edges[a].targetNodeId===t;if(T&&f.moveStartPoint(n,o),N&&f.moveEndPoint(n,o),T||N){var L;if(f.customTextPosition===!0)f.resetTextPosition();else if(f.modelType===ht.POLYLINE_EDGE&&(L=f.text)!==null&&L!==void 0&&L.value){var G=f.text,K=Fh(G,f.points);f.moveText(K.x-G.x,K.y-G.y)}else{var ie=f.textPosition,oe=ie.x,ue=ie.y;f.moveText(oe-m,ue-O)}}}}},{key:"deleteEdgeBySourceAndTarget",value:function(t,n){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===t&&this.edges[o].targetNodeId===n){var a=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(rt.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeById",value:function(t){var n=this.edgesMap[t];if(!!n){var o=this.edgesMap[t].index,a=this.edgesMap[t].model.getData();this.edges.splice(o,1),this.eventCenter.emit(rt.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeBySource",value:function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].sourceNodeId===t){var o=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(rt.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeByTarget",value:function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].targetNodeId===t){var o=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(rt.EDGE_DELETE,{data:o})}}},{key:"setElementStateById",value:function(t,n,o){this.nodes.forEach(function(a){a.id===t?a.setElementState(n,o):a.setElementState(bt.DEFAULT)}),this.edges.forEach(function(a){a.id===t?a.setElementState(n,o):a.setElementState(bt.DEFAULT)})}},{key:"updateText",value:function(t,n){this.nodes.forEach(function(o){o.id===t&&o.updateText(n)}),this.edges.forEach(function(o){o.id===t&&o.updateText(n)})}},{key:"selectNodeById",value:function(t){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o||this.clearSelectElements();var a=(n=this.nodesMap[t])===null||n===void 0?void 0:n.model;a==null||a.setSelected(!0)}},{key:"selectEdgeById",value:function(t){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o||this.clearSelectElements();var a=(n=this.edgesMap[t])===null||n===void 0?void 0:n.model;a==null||a.setSelected(!0)}},{key:"selectElementById",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||this.clearSelectElements();var o=this.getElement(t);o==null||o.setSelected(!0)}},{key:"clearSelectElements",value:function(){if(this.selectElements.forEach(function(n){n==null||n.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===xr.DEFAULT){var t;(t=this.topElement)===null||t===void 0||t.setZIndex()}}},{key:"moveNodes",value:function(t,n,o){for(var a=this,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,p=t.reduce(function(oe,ue){var Me=a.nodesMap[ue].model,je=Me.getMoveDistance(n,o,f);return oe[ue]=je,oe},{}),m=0;m<this.edges.length;m++){var O=this.edges[m],T=p[O.sourceNodeId],N=void 0,L=void 0;if(T){var G=vi(T,2);N=G[0],L=G[1],O.moveStartPoint(N,L)}var K=p[O.targetNodeId];if(K){var ie=vi(K,2);N=ie[0],L=ie[1],O.moveEndPoint(N,L)}(T||K)&&O.moveText(N,L)}}},{key:"addNodeMoveRules",value:function(t){this.nodeMoveRules.includes(t)||this.nodeMoveRules.push(t)}},{key:"setDefaultEdgeType",value:function(t){this.edgeType=t}},{key:"changeNodeType",value:function(t,n){var o=this.getNodeModelById(t);if(!o){console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(t,"\u7684\u8282\u70B9"));return}var a=o.getData();a.type=n;var f=this.getModel(n);if(!f)throw new Error("\u627E\u4E0D\u5230".concat(n,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var p=new f(a,this);this.nodes.splice(this.nodesMap[t].index,1,p);var m=this.getNodeEdges(t);m.forEach(function(O){if(O.sourceNodeId===t){var T=$p(p,O.startPoint,p.width,p.height);O.updateStartPoint(T)}if(O.targetNodeId===t){var N=$p(p,O.endPoint,p.width,p.height);O.updateEndPoint(N)}})}},{key:"changeEdgeType",value:function(t,n){var o=this.getEdgeModelById(t);if(!o){console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(t,"\u7684\u8FB9"));return}if(o.type!==n){var a=o.getData();a.type=n;var f=this.getModel(n);if(!f)throw new Error("\u627E\u4E0D\u5230".concat(n,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));delete a.pointsList;var p=new f(a,this);this.edges.splice(this.edgesMap[t].index,1,p)}}},{key:"getNodeIncomingEdge",value:function(t){var n=[];return this.edges.forEach(function(o){o.targetNodeId===t&&n.push(o)}),n}},{key:"getNodeOutgoingEdge",value:function(t){var n=[];return this.edges.forEach(function(o){o.sourceNodeId===t&&n.push(o)}),n}},{key:"getNodeIncomingNode",value:function(t){var n=this,o=[];return this.edges.forEach(function(a){a.targetNodeId===t&&o.push(n.nodesMap[a.sourceNodeId].model)}),o}},{key:"getNodeOutgoingNode",value:function(t){var n=this,o=[];return this.edges.forEach(function(a){a.sourceNodeId===t&&o.push(n.nodesMap[a.targetNodeId].model)}),o}},{key:"setTheme",value:function(t){this.theme=Bp(Ya(Ya({},this.theme),t))}},{key:"resize",value:function(t,n){this.width=t||this.rootEl.getBoundingClientRect().width,this.height=n||this.rootEl.getBoundingClientRect().height,(!this.width||!this.height)&&console.warn("\u6E32\u67D3\u753B\u5E03\u7684\u65F6\u5019\u65E0\u6CD5\u83B7\u53D6\u753B\u5E03\u5BBD\u9AD8\uFF0C\u8BF7\u786E\u8BA4\u5728container\u5DF2\u6302\u8F7D\u5230DOM\u3002@see https://github.com/didi/LogicFlow/issues/675")}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var t=this.nodes,n=[],o=[];t.forEach(function(G){var K=G.x,ie=G.y,oe=G.width,ue=G.height,Me=G.getNodeStyle(),je=Me.strokeWidth,ye=je===void 0?0:je;n=n.concat([K+oe/2+ye,K-oe/2-ye]),o=o.concat([ie+ue/2+ye,ie-ue/2-ye])});var a=Math.min.apply(Math,No(n)),f=Math.max.apply(Math,No(n)),p=Math.min.apply(Math,No(o)),m=Math.max.apply(Math,No(o)),O=f-a||0,T=m-p||0,N=a+O/2,L=p+T/2;return{virtualRectWidth:O,virtualRectHeight:T,virtualRectCenterPositionX:N,virtualRectCenterPositionY:L}}},{key:"translateCenter",value:function(){var t=this.nodes,n=this.width,o=this.height,a=this.rootEl,f=this.transformModel;if(!!t.length){var p=n||a.clientWidth,m=o||a.clientHeight,O=this.getVirtualRectSize(),T=O.virtualRectCenterPositionX,N=O.virtualRectCenterPositionY;f.focusOn(T,N,p,m)}}},{key:"fitView",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,o=this.nodes,a=this.width,f=this.height,p=this.rootEl,m=this.transformModel;if(!!o.length){var O=a||p.clientWidth,T=f||p.clientHeight,N=this.getVirtualRectSize(),L=N.virtualRectWidth,G=N.virtualRectHeight,K=N.virtualRectCenterPositionX,ie=N.virtualRectCenterPositionY,oe=(L+n)/O,ue=(G+t)/T,Me=0;Me=1/Math.max(oe,ue);var je=[O/2,T/2];m.zoom(Me,je),m.focusOn(K,ie,O,T)}}},{key:"openEdgeAnimation",value:function(t){var n=this.getEdgeModelById(t);n.openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(t){var n=this.getEdgeModelById(t);n.closeEdgeAnimation()}}]),e}(),Xh=Ze(de.prototype,"width",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$h=Ze(de.prototype,"height",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yh=Ze(de.prototype,"edgeType",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wh=Ze(de.prototype,"nodes",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Kh=Ze(de.prototype,"edges",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Vh=Ze(de.prototype,"overlapMode",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return xr.DEFAULT}}),Zh=Ze(de.prototype,"background",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jh=Ze(de.prototype,"transformModel",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qh=Ze(de.prototype,"editConfigModel",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qh=Ze(de.prototype,"gridSize",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ev=Ze(de.prototype,"partial",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tv=Ze(de.prototype,"fakerNode",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ze(de.prototype,"nodesMap",[l.m],Object.getOwnPropertyDescriptor(de.prototype,"nodesMap"),de.prototype),Ze(de.prototype,"edgesMap",[l.m],Object.getOwnPropertyDescriptor(de.prototype,"edgesMap"),de.prototype),Ze(de.prototype,"modelsMap",[l.m],Object.getOwnPropertyDescriptor(de.prototype,"modelsMap"),de.prototype),Ze(de.prototype,"sortElements",[l.m],Object.getOwnPropertyDescriptor(de.prototype,"sortElements"),de.prototype),Ze(de.prototype,"textEditElement",[l.m],Object.getOwnPropertyDescriptor(de.prototype,"textEditElement"),de.prototype),Ze(de.prototype,"selectElements",[l.m],Object.getOwnPropertyDescriptor(de.prototype,"selectElements"),de.prototype),Ze(de.prototype,"setFakerNode",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"setFakerNode"),de.prototype),Ze(de.prototype,"removeFakerNode",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"removeFakerNode"),de.prototype),Ze(de.prototype,"setModel",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"setModel"),de.prototype),Ze(de.prototype,"toFront",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"toFront"),de.prototype),Ze(de.prototype,"setElementZIndex",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"setElementZIndex"),de.prototype),Ze(de.prototype,"deleteNode",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteNode"),de.prototype),Ze(de.prototype,"addNode",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"addNode"),de.prototype),Ze(de.prototype,"cloneNode",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"cloneNode"),de.prototype),Ze(de.prototype,"moveNode",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNode"),de.prototype),Ze(de.prototype,"moveNode2Coordinate",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNode2Coordinate"),de.prototype),Ze(de.prototype,"editText",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"editText"),de.prototype),Ze(de.prototype,"addEdge",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"addEdge"),de.prototype),Ze(de.prototype,"moveEdge",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"moveEdge"),de.prototype),Ze(de.prototype,"deleteEdgeBySourceAndTarget",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeBySourceAndTarget"),de.prototype),Ze(de.prototype,"deleteEdgeById",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeById"),de.prototype),Ze(de.prototype,"deleteEdgeBySource",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeBySource"),de.prototype),Ze(de.prototype,"deleteEdgeByTarget",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeByTarget"),de.prototype),Ze(de.prototype,"setElementStateById",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"setElementStateById"),de.prototype),Ze(de.prototype,"updateText",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"updateText"),de.prototype),Ze(de.prototype,"selectNodeById",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"selectNodeById"),de.prototype),Ze(de.prototype,"selectEdgeById",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"selectEdgeById"),de.prototype),Ze(de.prototype,"selectElementById",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"selectElementById"),de.prototype),Ze(de.prototype,"clearSelectElements",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"clearSelectElements"),de.prototype),Ze(de.prototype,"moveNodes",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNodes"),de.prototype),Ze(de.prototype,"setDefaultEdgeType",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"setDefaultEdgeType"),de.prototype),Ze(de.prototype,"changeNodeType",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"changeNodeType"),de.prototype),Ze(de.prototype,"changeEdgeType",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"changeEdgeType"),de.prototype),Ze(de.prototype,"getNodeIncomingEdge",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeIncomingEdge"),de.prototype),Ze(de.prototype,"getNodeOutgoingEdge",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeOutgoingEdge"),de.prototype),Ze(de.prototype,"getNodeIncomingNode",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeIncomingNode"),de.prototype),Ze(de.prototype,"getNodeOutgoingNode",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeOutgoingNode"),de.prototype),Ze(de.prototype,"setTheme",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"setTheme"),de.prototype),Ze(de.prototype,"resize",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"resize"),de.prototype),Ze(de.prototype,"clearData",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"clearData"),de.prototype),Ze(de.prototype,"translateCenter",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"translateCenter"),de.prototype),Ze(de.prototype,"fitView",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"fitView"),de.prototype),Ze(de.prototype,"openEdgeAnimation",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"openEdgeAnimation"),de.prototype),Ze(de.prototype,"closeEdgeAnimation",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"closeEdgeAnimation"),de.prototype),de),BA=iv;function Ka(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ka=function(t){return typeof t}:Ka=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ka(e)}var av;function Af(){return Af=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Af.apply(this,arguments)}function LA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function uv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _A(e,r,t){return r&&uv(e.prototype,r),t&&uv(e,t),e}function zA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Tf(e,r)}function Tf(e,r){return Tf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Tf(e,r)}function FA(e){var r=HA();return function(){var n=Va(e),o;if(r){var a=Va(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return GA(this,o)}}function GA(e,r){if(r&&(Ka(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jr(e)}function Jr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HA(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Va(e){return Va=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Va(e)}function cn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var UA=kr(av=function(e){zA(t,e);var r=FA(t);function t(n){var o;LA(this,t),o=r.call(this),cn(Jr(o),"stepDrag",void 0),cn(Jr(o),"stepScrollX",0),cn(Jr(o),"stepScrollY",0),cn(Jr(o),"onDragging",function(m){var O=m.deltaX,T=m.deltaY;o.setState({isDragging:!0});var N=o.props.graphModel,L=N.transformModel,G=N.editConfigModel;G.stopMoveGraph||L.translate(O,T)}),cn(Jr(o),"onDragEnd",function(){o.setState({isDragging:!1})}),cn(Jr(o),"zoomHandler",function(m){var O=o.props,T=O.graphModel,N=T.editConfigModel,L=T.transformModel,G=T.gridSize,K=O.graphModel,ie=m.deltaX,oe=m.deltaY;if(!N.stopScrollGraph&&m.ctrlKey!==!0){if(m.preventDefault(),o.stepScrollX+=ie,o.stepScrollY+=oe,Math.abs(o.stepScrollX)>=G){var ue=o.stepScrollX%G,Me=o.stepScrollX-ue;L.translate(-Me*L.SCALE_X,0),o.stepScrollX=ue}if(Math.abs(o.stepScrollY)>=G){var je=o.stepScrollY%G,ye=o.stepScrollY-je;L.translate(0,-ye*L.SCALE_Y),o.stepScrollY=je}return}if(!N.stopZoomGraph){m.preventDefault();var Be=K.getPointByClient({x:m.clientX,y:m.clientY}),Ne=Be.canvasOverlayPosition,ke=Ne.x,Re=Ne.y;L.zoom(m.deltaY<0,[ke,Re])}}),cn(Jr(o),"clickHandler",function(m){var O=m.target;if(O.getAttribute("name")==="canvas-overlay"){var T=o.props.graphModel,N=T.selectElements;N.size>0&&T.clearSelectElements(),T.eventCenter.emit(rt.BLANK_CLICK,{e:m})}}),cn(Jr(o),"handleContextMenu",function(m){var O=m.target;if(O.getAttribute("name")==="canvas-overlay"){m.preventDefault();var T=o.props.graphModel,N=T.getPointByClient({x:m.clientX,y:m.clientY});T.eventCenter.emit(rt.BLANK_CONTEXTMENU,{e:m,position:N})}}),cn(Jr(o),"mouseDownHandler",function(m){var O=o.props.graphModel,T=O.eventCenter,N=O.editConfigModel,L=O.transformModel.SCALE_X,G=O.gridSize,K=m.target,ie=!N.adjustEdge&&!N.adjustNodePosition;(K.getAttribute("name")==="canvas-overlay"||ie)&&(N.stopMoveGraph?T.emit(rt.BLANK_MOUSEDOWN,{e:m}):(o.stepDrag.setStep(G*L),o.stepDrag.handleMouseDown(m)),o.clickHandler(m))});var a=n.graphModel,f=a.gridSize,p=a.eventCenter;return o.stepDrag=new fn({onDragging:o.onDragging,onDragEnd:o.onDragEnd,step:f,eventType:"BLANK",isStopPropagation:!1,eventCenter:p,model:null}),o.state={isDragging:!1},o}return _A(t,[{key:"render",value:function(){var o=this.props.graphModel.transformModel,a=o.getTransformStyle(),f=a.transform,p=this.props,m=p.children,O=p.dnd,T=this.state.isDragging;return Object(ae.g)("svg",Af({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:T?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},O.eventMap()),Object(ae.g)("g",{transform:f},m))}}]),t}(ae.a))||av,kA=UA;function Za(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Za=function(t){return typeof t}:Za=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Za(e)}var sv;function XA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function lv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $A(e,r,t){return r&&lv(e.prototype,r),t&&lv(e,t),e}function YA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Mf(e,r)}function Mf(e,r){return Mf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Mf(e,r)}function WA(e){var r=ZA();return function(){var n=Ja(e),o;if(r){var a=Ja(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return KA(this,o)}}function KA(e,r){if(r&&(Za(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VA(e)}function VA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZA(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ja(e){return Ja=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ja(e)}var JA=kr(sv=function(e){YA(t,e);var r=WA(t);function t(){return XA(this,t),r.apply(this,arguments)}return $A(t,[{key:"componentDidMount",value:function(){this.triggerToolRender()}},{key:"componentDidUpdate",value:function(){this.triggerToolRender()}},{key:"getTools",value:function(){var o=this.props,a=o.tool,f=o.graphModel,p=a.getTools(),m=p.map(function(O){return Object(ae.g)(O,{graphModel:f,logicFlow:a.instance})});return a.components=m,m}},{key:"triggerToolRender",value:function(){var o=this.props,a=o.tool,f=o.graphModel,p=document.querySelector("#ToolOverlay_".concat(f.flowId)),m=a.getInstance();m.components.forEach(function(O){return O(m,p)}),m.components=[]}},{key:"render",value:function(){var o=this.props.graphModel;return Object(ae.g)("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(o.flowId)},this.getTools())}}]),t}(ae.a))||sv;function Qa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qa=function(t){return typeof t}:Qa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qa(e)}function QA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function fv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qA(e,r,t){return r&&fv(e.prototype,r),t&&fv(e,t),e}function eT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&wf(e,r)}function wf(e,r){return wf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},wf(e,r)}function tT(e){var r=oT();return function(){var n=qa(e),o;if(r){var a=qa(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return rT(this,o)}}function rT(e,r){if(r&&(Qa(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nT(e)}function nT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function qa(e){return qa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qa(e)}var iT=function(e){eT(t,e);var r=tT(t);function t(){return QA(this,t),r.apply(this,arguments)}return qA(t,[{key:"render",value:function(){var o=this.props.background;return Object(ae.g)("div",{className:"lf-background"},Object(ae.g)("div",{style:o,className:"lf-background-area"}))}}]),t}(ae.a);function eu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eu=function(t){return typeof t}:eu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(e)}var cv;function aT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function dv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function uT(e,r,t){return r&&dv(e.prototype,r),t&&dv(e,t),e}function sT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Nf(e,r)}function Nf(e,r){return Nf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Nf(e,r)}function lT(e){var r=cT();return function(){var n=tu(e),o;if(r){var a=tu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return fT(this,o)}}function fT(e,r){if(r&&(eu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pv(e)}function pv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function tu(e){return tu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},tu(e)}function dT(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var hv=kr(cv=function(e){sT(t,e);var r=lT(t);function t(){var n;aT(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),dT(pv(n),"id",Bn()),n}return uT(t,[{key:"renderDot",value:function(){var o=this.props,a=o.config,f=a.color,p=a.thickness,m=p===void 0?2:p,O=o.size,T=o.visible,N=Math.min(Math.max(2,m),O/2),L=1;return T||(L=0),Object(ae.g)("rect",{width:N,height:N,rx:N/2,ry:N/2,fill:f,opacity:L})}},{key:"renderMesh",value:function(){var o=this.props,a=o.config,f=a.color,p=a.thickness,m=p===void 0?1:p,O=o.size,T=o.visible,N=Math.min(Math.max(1,m),O/2),L="M ".concat(O," 0 H0 M0 0 V0 ").concat(O),G=1;return T||(G=0),Object(ae.g)("path",{d:L,stroke:f,strokeWidth:N,opacity:G})}},{key:"render",value:function(){var o=this.props,a=o.type,f=o.size,p=o.graphModel.transformModel,m=p.SCALE_X,O=p.SKEW_Y,T=p.SKEW_X,N=p.SCALE_Y,L=p.TRANSLATE_X,G=p.TRANSLATE_Y,K=[m,O,T,N,L,G].join(","),ie="matrix(".concat(K,")");return Object(ae.g)("div",{className:"lf-grid"},Object(ae.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(ae.g)("defs",null,Object(ae.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:ie,x:"0",y:"0",width:f,height:f},a==="dot"&&this.renderDot(),a==="mesh"&&this.renderMesh())),Object(ae.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}]),t}(ae.a))||cv;hv.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},i(52);function ru(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ru=function(t){return typeof t}:ru=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(e)}function pT(e,r){return gT(e)||yT(e,r)||vT(e,r)||hT()}function hT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vT(e,r){if(!!e){if(typeof e=="string")return vv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vv(e,r)}}function vv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function yT(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function gT(e){if(Array.isArray(e))return e}function mT(e){var r={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(t){var n=pT(t,2),o=n[0],a=n[1];if(o==="style")r[o]=a;else{var f=ru(a);f!=="object"&&(r[o]=a)}}),Object(ae.g)("line",r)}var Do=mT;function nu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nu=function(t){return typeof t}:nu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}var yv;function gv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ou(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?gv(Object(t),!0).forEach(function(n){bT(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):gv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function bT(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function OT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function mv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ET(e,r,t){return r&&mv(e.prototype,r),t&&mv(e,t),e}function ST(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Df(e,r)}function Df(e,r){return Df=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Df(e,r)}function xT(e){var r=TT();return function(){var n=iu(e),o;if(r){var a=iu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return PT(this,o)}}function PT(e,r){if(r&&(nu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AT(e)}function AT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function iu(e){return iu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},iu(e)}var MT=kr(yv=function(e){ST(t,e);var r=xT(t);function t(){return OT(this,t),r.apply(this,arguments)}return ET(t,[{key:"render",value:function(){var o=this.props.snaplineModel,a=o.position,f=o.isShowHorizontal,p=o.isShowVertical,m=o.getStyle(),O=a.x,T=O===void 0?0:O,N=a.y,L=N===void 0?0:N,G=ou(ou({x1:-1e5,y1:L,x2:1e5,y2:L},m),{},{stroke:f?m.stroke:"none"}),K=ou(ou({x1:T,y1:-1e5,x2:T,y2:1e5},m),{},{stroke:p?m.stroke:"none"});return Object(ae.g)("g",{className:"lf-snapline"},Object(ae.g)(Do,G),Object(ae.g)(Do,K))}}]),t}(ae.a))||yv;function au(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?au=function(t){return typeof t}:au=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}function wT(e,r){return CT(e)||jT(e,r)||DT(e,r)||NT()}function NT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DT(e,r){if(!!e){if(typeof e=="string")return bv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return bv(e,r)}}function bv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function jT(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function CT(e){if(Array.isArray(e))return e}function zn(e){var r=e.x,t=e.y,n=e.width,o=e.height,a=e.className,f=e.radius,p=r-n/2,m=t-o/2,O={};return Object.entries(e).forEach(function(T){var N=wT(T,2),L=N[0],G=N[1],K=au(G);K!=="object"&&(O[L]=G)}),a?O.className="lf-basic-shape ".concat(a):O.className="lf-basic-shape",f&&(O.rx=f,O.ry=f),O.x=p,O.y=m,Object(ae.g)("rect",O)}zn.defaultProps={className:"",radius:""};function uu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?uu=function(t){return typeof t}:uu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uu(e)}var Ov;function jo(){return jo=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},jo.apply(this,arguments)}function Ev(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Sv(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ev(Object(t),!0).forEach(function(n){RT(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ev(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function RT(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function IT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function xv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function BT(e,r,t){return r&&xv(e.prototype,r),t&&xv(e,t),e}function LT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&jf(e,r)}function jf(e,r){return jf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},jf(e,r)}function _T(e){var r=GT();return function(){var n=su(e),o;if(r){var a=su(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return zT(this,o)}}function zT(e,r){if(r&&(uu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FT(e)}function FT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function su(e){return su=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},su(e)}var HT=kr(Ov=function(e){LT(t,e);var r=_T(t);function t(){return IT(this,t),r.apply(this,arguments)}return BT(t,[{key:"getNodesOutline",value:function(){var o=this.props.graphModel,a=o.nodes,f=o.editConfigModel,p=f.hoverOutline,m=f.nodeSelectedOutline,O=[];return a.forEach(function(T){if(T.isHovered||T.isSelected){var N=T.isHovered,L=T.isSelected,G=T.x,K=T.y,ie=T.width,oe=T.height;if(m&&L||p&&N){var ue=T.getOutlineStyle(),Me={};if(Object.keys(ue).forEach(function(ye){ye!=="hover"&&(Me[ye]=ue[ye])}),N){var je=ue.hover;Me=Sv(Sv({},Me),je)}O.push(Object(ae.g)(zn,jo({className:"lf-outline-node",x:G,y:K,width:ie+10,height:oe+10},Me)))}}}),O}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,a=o.edges,f=o.editConfigModel,p=f.edgeSelectedOutline,m=f.hoverOutline,O=[],T=0;T<a.length;T++){var N=a[T];(p&&N.isSelected||m&&N.isHovered)&&(N.modelType===ht.LINE_EDGE?O.push(this.getLineOutline(N)):N.modelType===ht.POLYLINE_EDGE?O.push(this.getPolylineOutline(N)):N.modelType===ht.BEZIER_EDGE&&O.push(this.getBezierOutline(N)))}return O}},{key:"getLineOutline",value:function(o){var a=o.startPoint,f=o.endPoint,p=(a.x+f.x)/2,m=(a.y+f.y)/2,O=Math.abs(a.x-f.x)+10,T=Math.abs(a.y-f.y)+10,N=o.getOutlineStyle();return Object(ae.g)(zn,jo({className:"lf-outline-edge",x:p,y:m,width:O,height:T},N))}},{key:"getPolylineOutline",value:function(o){var a=o.points,f=Mo(a),p=pi(f,8),m=p.x,O=p.y,T=p.width,N=p.height,L=o.getOutlineStyle();return Object(ae.g)(zn,jo({className:"lf-outline",x:m,y:O,width:T,height:N},L))}},{key:"getBezierOutline",value:function(o){var a=o.path,f=Xa(a),p=pi(f,8),m=p.x,O=p.y,T=p.width,N=p.height,L=o.getOutlineStyle();return Object(ae.g)(zn,jo({className:"lf-outline",x:m,y:O,width:T,height:N},L))}},{key:"render",value:function(){return Object(ae.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}]),t}(ae.a))||Ov;function lu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lu=function(t){return typeof t}:lu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}function UT(e,r){return YT(e)||$T(e,r)||XT(e,r)||kT()}function kT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XT(e,r){if(!!e){if(typeof e=="string")return Pv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Pv(e,r)}}function Pv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function $T(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function YT(e){if(Array.isArray(e))return e}function gi(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.r,f=a===void 0?4:a,p=e.className,m={cx:t,cy:o,r:f,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(O){var T=UT(O,2),N=T[0],L=T[1],G=lu(L);G!=="object"&&(m[N]=L)}),p?m.className="lf-basic-shape ".concat(p):m.className="lf-basic-shape",Object(ae.g)("circle",m)}function fu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fu=function(t){return typeof t}:fu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}var Av;function WT(e,r){return JT(e)||ZT(e,r)||VT(e,r)||KT()}function KT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VT(e,r){if(!!e){if(typeof e=="string")return Tv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Tv(e,r)}}function Tv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ZT(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function JT(e){if(Array.isArray(e))return e}function mi(){return mi=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},mi.apply(this,arguments)}function Mv(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function wv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Nv(e,r,t){return r&&wv(e.prototype,r),t&&wv(e,t),e}function Dv(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Cf(e,r)}function Cf(e,r){return Cf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Cf(e,r)}function jv(e){var r=qT();return function(){var n=du(e),o;if(r){var a=du(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return QT(this,o)}}function QT(e,r){if(r&&(fu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cu(e)}function cu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qT(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function du(e){return du=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},du(e)}function Rf(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Cv=function(e){Dv(t,e);var r=jv(t);function t(){var n;return Mv(this,t),n=r.call(this),Rf(cu(n),"dragHandler",void 0),Rf(cu(n),"onDragging",function(o){var a=o.event,f=n.props,p=f.graphModel,m=f.bezierModel,O=f.type,T=p.getPointByClient({x:a.clientX,y:a.clientY}),N=T.canvasOverlayPosition,L=N.x,G=N.y;m.updateAdjustAnchor({x:L,y:G},O)}),Rf(cu(n),"onDragEnd",function(){var o=n.props.bezierModel;o.isDragging=!1}),n.dragHandler=new fn({onDragging:n.onDragging,onDragEnd:n.onDragEnd}),n}return Nv(t,[{key:"render",value:function(){var o=this,a=this.props.position,f=a.x,p=a.y,m=this.props.bezierModel,O=m.getEdgeStyle(),T=O.adjustAnchor;return Object(ae.g)(gi,mi({className:"lf-bezier-adjust-anchor",x:f,y:p},T,{onMouseDown:function(L){o.dragHandler.handleMouseDown(L)}}))}}]),t}(ae.a),eM=kr(Av=function(e){Dv(t,e);var r=jv(t);function t(){return Mv(this,t),r.apply(this,arguments)}return Nv(t,[{key:"getBezierAdjust",value:function(o,a){var f=o.path,p=o.id,m=Xa(f),O=WT(m,4),T=O[0],N=O[1],L=O[2],G=O[3],K=o.getEdgeStyle(),ie=K.adjustLine,oe=[];return oe.push(Object(ae.g)(Do,mi({x1:T.x,y1:T.y,x2:N.x,y2:N.y},ie))),oe.push(Object(ae.g)(Cv,{position:N,bezierModel:o,graphModel:a,key:"".concat(p,"_ePre"),type:"sNext"})),oe.push(Object(ae.g)(Do,mi({x1:G.x,y1:G.y,x2:L.x,y2:L.y},ie))),oe.push(Object(ae.g)(Cv,{position:L,bezierModel:o,graphModel:a,key:"".concat(p,"_sNext"),type:"ePre"})),oe}},{key:"selectedBezierEdge",value:function(){for(var o=this.props.graphModel,a=o.edges,f=[],p=0;p<a.length;p++){var m=a[p];m.isSelected&&m.modelType===ht.BEZIER_EDGE&&m.draggable&&f.push(this.getBezierAdjust(m,o))}return f}},{key:"render",value:function(){return Object(ae.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),t}(ae.a))||Av;function pu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pu=function(t){return typeof t}:pu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}var Rv;function tM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Iv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function rM(e,r,t){return r&&Iv(e.prototype,r),t&&Iv(e,t),e}function nM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&If(e,r)}function If(e,r){return If=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},If(e,r)}function oM(e){var r=uM();return function(){var n=hu(e),o;if(r){var a=hu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return iM(this,o)}}function iM(e,r){if(r&&(pu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aM(e)}function aM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function hu(e){return hu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},hu(e)}var sM=kr(Rv=function(e){nM(t,e);var r=oM(t);function t(){return tM(this,t),r.apply(this,arguments)}return rM(t,[{key:"render",value:function(){var o=this.props.graphModel.transformModel,a=o.getTransformStyle(),f=a.transform,p=this.props.children;return Object(ae.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(ae.g)("g",{transform:f},p))}}]),t}(ae.a))||Rv;function vu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vu=function(t){return typeof t}:vu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}var Bv;function Bf(){return Bf=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Bf.apply(this,arguments)}function lM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Lv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fM(e,r,t){return r&&Lv(e.prototype,r),t&&Lv(e,t),e}function cM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Lf(e,r)}function Lf(e,r){return Lf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Lf(e,r)}function dM(e){var r=vM();return function(){var n=yu(e),o;if(r){var a=yu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return pM(this,o)}}function pM(e,r){if(r&&(vu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hM(e)}function hM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function yu(e){return yu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},yu(e)}var yM=kr(Bv=function(e){cM(t,e);var r=dM(t);function t(){return lM(this,t),r.apply(this,arguments)}return fM(t,[{key:"getComponent",value:function(o,a){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",p=this.props.getView,m=p(o.type);return Object(ae.g)(m,{key:o.id,model:o,graphModel:a,overlay:f})}},{key:"render",value:function(){var o=this,a=this.props,f=a.graphModel,p=a.tool,m=a.options,O=a.dnd,T=a.snaplineModel,N={};m.width&&(N.width="".concat(f.width,"px")),m.height&&(N.height="".concat(f.height,"px"));var L=m.grid,G=f.fakerNode,K=f.editConfigModel,ie=K.adjustEdge;return Object(ae.g)("div",{className:"lf-graph","flow-id":f.flowId,style:N},Object(ae.g)(kA,{graphModel:f,dnd:O},Object(ae.g)("g",{className:"lf-base"},Pa(f.sortElements,function(oe){return o.getComponent(oe,f)})),G?this.getComponent(G,f):""),Object(ae.g)(sM,{graphModel:f},Object(ae.g)(HT,{graphModel:f}),ie?Object(ae.g)(eM,{graphModel:f}):"",m.snapline!==!1?Object(ae.g)(MT,{snaplineModel:T}):""),Object(ae.g)(JA,{graphModel:f,tool:p}),m.background&&Object(ae.g)(iT,{background:m.background}),m.grid&&Object(ae.g)(hv,Bf({},L,{graphModel:f})))}}]),t}(ae.a))||Bv,gM=yM;function _v(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function gu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?_v(Object(t),!0).forEach(function(n){dn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_v(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function mM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function zv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bM(e,r,t){return r&&zv(e.prototype,r),t&&zv(e,t),e}function dn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var OM=function(){function e(r){var t=this;mM(this,e),dn(this,"nodeConfig",void 0),dn(this,"lf",void 0),dn(this,"fakerNode",void 0),dn(this,"stopDrag",function(){t.nodeConfig=null,window.document.removeEventListener("mouseup",t.stopDrag)}),dn(this,"dragEnter",function(o){!t.nodeConfig||t.fakerNode||(t.fakerNode=t.lf.createFakerNode(gu(gu({},t.nodeConfig),t.clientToLocalPoint({x:o.clientX,y:o.clientY}))))}),dn(this,"onDragOver",function(o){if(o.preventDefault(),t.fakerNode){var a=t.clientToLocalPoint({x:o.clientX,y:o.clientY}),f=a.x,p=a.y;t.fakerNode.moveTo(f,p);var m=t.fakerNode.getData();t.lf.setNodeSnapLine(m),t.lf.graphModel.eventCenter.emit(rt.NODE_DND_DRAG,{data:m})}return!1}),dn(this,"onDragLeave",function(){t.fakerNode&&(t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null)}),dn(this,"onDrop",function(o){if(!(!t.lf.graphModel||!o||!t.nodeConfig)){var a=t.lf.addNode(gu(gu({},t.nodeConfig),t.clientToLocalPoint({x:o.clientX,y:o.clientY})),rt.NODE_DND_ADD);o.preventDefault(),o.stopPropagation(),t.nodeConfig=null,t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null,a.getData()}});var n=r.lf;this.lf=n}return bM(e,[{key:"clientToLocalPoint",value:function(t){var n=t.x,o=t.y,a=Id(this.lf.options,["grid","size"]),f=this.lf.graphModel.getPointByClient({x:n,y:o}),p=f.canvasOverlayPosition,m=p.x,O=p.y;return{x:In(m,a),y:In(O,a)}}},{key:"startDrag",value:function(t){this.nodeConfig=t,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}]),e}();function Fv(e){var r=e.container,t=e.grid,n=e.width,o=e.height;if(!r)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");if(typeof n=="string"||typeof o=="string")throw new Error("width\u6216height\u4E0D\u652F\u6301\u4F20\u5165\u5B57\u7B26\u4E32\uFF0C\u8BF7\u4F20\u6570\u5B57");return t&&(e.grid=sr({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},t)),sr({},Gv,e)}var Gv={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function mu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mu=function(t){return typeof t}:mu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}var gt,Hv;function _f(e,r){return PM(e)||xM(e,r)||SM(e,r)||EM()}function EM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SM(e,r){if(!!e){if(typeof e=="string")return Uv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Uv(e,r)}}function Uv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function xM(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function PM(e){if(Array.isArray(e))return e}function kv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function bu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?kv(Object(t),!0).forEach(function(n){$v(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):kv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function AM(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function TM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Xv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function MM(e,r,t){return r&&Xv(e.prototype,r),t&&Xv(e,t),e}function Co(){return typeof Reflect!="undefined"&&Reflect.get?Co=Reflect.get:Co=function(r,t,n){var o=wM(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Co.apply(this,arguments)}function wM(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Fn(e),e!==null););return e}function NM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&zf(e,r)}function zf(e,r){return zf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},zf(e,r)}function DM(e){var r=CM();return function(){var n=Fn(e),o;if(r){var a=Fn(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return jM(this,o)}}function jM(e,r){if(r&&(mu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ou(e)}function Ou(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Fn(e){return Fn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fn(e)}function $v(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Gr(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Ff=(gt=function(e){NM(t,e);var r=DM(t);function t(){var n;TM(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),$v(Ou(n),"modelType",ht.BEZIER_EDGE),AM(Ou(n),"path",Hv,Ou(n)),n}return MM(t,[{key:"initEdgeData",value:function(o){this.offset=100,Co(Fn(t.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.bezier,a=Co(Fn(t.prototype),"getEdgeStyle",this).call(this);return bu(bu({},a),It(o))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,a=0;return this.pointsList.forEach(function(f){var p=f.x,m=f.y;o+=p,a+=m}),{x:o/this.pointsList.length,y:a/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=Co(Fn(t.prototype),"getData",this).call(this),a=this.pointsList.map(function(f){var p=f.x,m=f.y;return{x:p,y:m}});return bu(bu({},o),{},{pointsList:a})}},{key:"getControls",value:function(){var o=this.startPoint,a=this.endPoint,f=zh({start:o,end:a,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset});return f}},{key:"getPath",value:function(o){var a=_f(o,4),f=a[0],p=a[1],m=a[2],O=a[3];return"M ".concat(f.x," ").concat(f.y,`
    C `).concat(p.x," ").concat(p.y,`,
    `).concat(m.x," ").concat(m.y,`,
    `).concat(O.x," ").concat(O.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o=this.getControls(),a=o.sNext,f=o.ePre;this.updatePath(a,f)}},{key:"updatePath",value:function(o,a){var f={x:this.startPoint.x,y:this.startPoint.y},p={x:this.endPoint.x,y:this.endPoint.y};if(!o||!a){var m=this.getControls();o=m.sNext,a=m.ePre}this.pointsList=[f,o,a,p],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,a){this.startPoint.x+=o,this.startPoint.y+=a;var f=_f(this.pointsList,3),p=f[1],m=f[2];p.x+=o,p.y+=a,this.updatePath(p,m)}},{key:"moveEndPoint",value:function(o,a){this.endPoint.x+=o,this.endPoint.y+=a;var f=_f(this.pointsList,3),p=f[1],m=f[2];m.x+=o,m.y+=a,this.updatePath(p,m)}},{key:"updateAdjustAnchor",value:function(o,a){a==="sNext"?this.pointsList[1]=o:a==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var a=o.startPoint,f=o.endPoint,p=o.sourceNode,m=o.targetNode,O=zh({start:a,end:f,sourceNode:p,targetNode:m,offset:this.offset}),T=O.sNext,N=O.ePre;this.pointsList=[a,T,N,f],this.initPoints()}}]),t}(hf),Hv=Gr(gt.prototype,"path",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Gr(gt.prototype,"initPoints",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"initPoints"),gt.prototype),Gr(gt.prototype,"updatePoints",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"updatePoints"),gt.prototype),Gr(gt.prototype,"updateStartPoint",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateStartPoint"),gt.prototype),Gr(gt.prototype,"updateEndPoint",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateEndPoint"),gt.prototype),Gr(gt.prototype,"moveStartPoint",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"moveStartPoint"),gt.prototype),Gr(gt.prototype,"moveEndPoint",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"moveEndPoint"),gt.prototype),Gr(gt.prototype,"updateAdjustAnchor",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateAdjustAnchor"),gt.prototype),Gr(gt.prototype,"getAdjustStart",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"getAdjustStart"),gt.prototype),Gr(gt.prototype,"getAdjustEnd",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"getAdjustEnd"),gt.prototype),Gr(gt.prototype,"updateAfterAdjustStartAndEnd",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateAfterAdjustStartAndEnd"),gt.prototype),gt);function RM(e){return e==null}var IM=RM,Ie,Yv,Wv,Kv,Vv,Zv,Jv,Qv,qv,ey,ty,ry,ny,oy,iy,ay,uy,sy,ly,fy;function Eu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Eu=function(t){return typeof t}:Eu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eu(e)}function BM(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=LM(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(O){throw O},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,f=!1,p;return{s:function(){t=t.call(e)},n:function(){var O=t.next();return a=O.done,O},e:function(O){f=!0,p=O},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(f)throw p}}}}function LM(e,r){if(!!e){if(typeof e=="string")return cy(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return cy(e,r)}}function cy(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function dy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function fr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?dy(Object(t),!0).forEach(function(n){yr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):dy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Xt(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function _M(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function py(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zM(e,r,t){return r&&py(e.prototype,r),t&&py(e,t),e}function yr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ft(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var pn=(Ie=function(){function e(r,t){_M(this,e),yr(this,"id",""),Xt(this,"type",Yv,this),Xt(this,"x",Wv,this),Xt(this,"y",Kv,this),Xt(this,"text",Vv,this),Xt(this,"properties",Zv,this),Xt(this,"_width",Jv,this),Xt(this,"_height",Qv,this),Xt(this,"anchorsOffset",qv,this),Xt(this,"isSelected",ey,this),Xt(this,"isHovered",ty,this),Xt(this,"isShowAnchor",ry,this),Xt(this,"isDragging",ny,this),Xt(this,"isHitable",oy,this),Xt(this,"draggable",iy,this),Xt(this,"visible",ay,this),yr(this,"virtual",!1),yr(this,"graphModel",void 0),Xt(this,"zIndex",uy,this),Xt(this,"state",sy,this),Xt(this,"autoToFront",ly,this),Xt(this,"style",fy,this),yr(this,"BaseType",Gt.NODE),yr(this,"modelType",ht.NODE),yr(this,"additionStateData",void 0),yr(this,"targetRules",[]),yr(this,"sourceRules",[]),yr(this,"moveRules",[]),yr(this,"hasSetTargetRules",!1),yr(this,"hasSetSourceRules",!1),this.graphModel=t,this.initNodeData(r),this.setAttributes()}return zM(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,o=n&&n(t.type),a=this.createId();t.id=a||o||Bn()}this.formatText(t),sr(this,AP(t));var f=this.graphModel.overlapMode;f===xr.INCREASE&&(this.zIndex=t.zIndex||df())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(t){t.text||(t.text={value:"",x:t.x,y:t.y,draggable:!1,editable:!0}),t.text&&typeof t.text=="string"?t.text={value:t.text,x:t.x,y:t.y,draggable:!1,editable:!0}:t.text&&t.text.editable===void 0&&(t.text.editable=!0)}},{key:"getData",value:function(){var t=this.text,n=t.x,o=t.y,a=t.value,f=this.properties;Object(l.x)(f)&&(f=Object(l.I)(f));var p={id:this.id,type:this.type,x:this.x,y:this.y,properties:f};return this.graphModel.overlapMode===xr.INCREASE&&(p.zIndex=this.zIndex),a&&(p.text={x:n,y:o,value:a}),p}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(l.I)(this.properties)}},{key:"getNodeStyle",value:function(){return fr(fr({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.nodeText;return It(t)}},{key:"getAnchorStyle",value:function(t){var n=this.graphModel.theme.anchor;return It(n)}},{key:"getAnchorLineStyle",value:function(t){var n=this.graphModel.theme.anchorLine;return It(n)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel.theme.outline;return It(t)}},{key:"isAllowConnectedAsSource",value:function(t,n,o,a){var f=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var p=!0,m,O=0;O<f.length;O++){var T=f[O];if(!T.validate.call(this,this,t,n,o,a)){p=!1,m=T.message;break}}return{isAllPass:p,msg:m}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(t,n,o,a){var f=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var p=!0,m,O=0;O<f.length;O++){var T=f[O];if(!T.validate.call(this,t,this,n,o,a)){p=!1,m=T.message;break}}return{isAllPass:p,msg:m}}},{key:"isAllowMoveNode",value:function(t,n){var o=!0,a=!0,f=this.moveRules.concat(this.graphModel.nodeMoveRules),p=BM(f),m;try{for(p.s();!(m=p.n()).done;){var O=m.value,T=O(this,t,n);if(!T)return!1;if(Eu(T)==="object"){var N=T;if(N.x===!1&&N.y===!1)return!1;o=o&&N.x,a=a&&N.y}}}catch(L){p.e(L)}finally{p.f()}return{x:o,y:a}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var t=this.anchorsOffset,n=this.id,o=this.x,a=this.y;return t&&t.length>0?t.map(function(f,p){return f.length?(f=f,{id:"".concat(n,"_").concat(p),x:o+f[0],y:a+f[1]}):(f=f,fr(fr({},f),{},{x:o+f.x,y:a+f.y,id:f.id||"".concat(n,"_").concat(p)}))}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getTargetAnchor",value:function(t){return SP(t,this)}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(t){if(!IM(t))for(var n=0;n<this.anchors.length;n++){var o=this.anchors[n];if(o.id===t)return o}}},{key:"addNodeMoveRules",value:function(t){this.moveRules.includes(t)||this.moveRules.push(t)}},{key:"move",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,f=!1;if(o)a=!0,f=!0;else{var p=this.isAllowMoveNode(t,n);typeof p=="boolean"?(a=p,f=p):(a=p.x,f=p.y)}if(a){var m=this.x+t;this.x=m,this.text&&this.moveText(t,0)}if(f){var O=this.y+n;this.y=O,this.text&&this.moveText(0,n)}return a||f}},{key:"getMoveDistance",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,f=!1,p=0,m=0;if(o)a=!0,f=!0;else{var O=this.isAllowMoveNode(t,n);typeof O=="boolean"?(a=O,f=O):(a=O.x,f=O.y)}if(a&&t){var T=this.x+t;this.x=T,this.text&&this.moveText(t,0),p=t}if(f&&n){var N=this.y+n;this.y=N,this.text&&this.moveText(0,n),m=n}return[p,m]}},{key:"moveTo",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=t-this.x,f=n-this.y;return!o&&!this.isAllowMoveNode(a,f)?!1:(this.text&&this.text&&this.moveText(a,f),this.x=t,this.y=n,!0)}},{key:"moveText",value:function(t,n){var o=this.text,a=o.x,f=o.y,p=o.value,m=o.draggable,O=o.editable;this.text={value:p,editable:O,draggable:m,x:a+t,y:f+n}}},{key:"updateText",value:function(t){this.text=fr(fr({},this.text),{},{value:t})}},{key:"setSelected",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=t}},{key:"setHovered",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=t,this.setIsShowAnchor(t)}},{key:"setIsShowAnchor",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isShowAnchor=t}},{key:"setHitable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=t}},{key:"setElementState",value:function(t,n){this.state=t,this.additionStateData=n}},{key:"setProperty",value:function(t,n){this.properties=fr(fr({},this.properties),{},yr({},t,nr(n))),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=fr(fr({},this.properties),nr(t)),this.setAttributes()}},{key:"deleteProperty",value:function(t){delete this.properties[t],this.setAttributes()}},{key:"setStyle",value:function(t,n){this.style=fr(fr({},this.style),{},yr({},t,nr(n)))}},{key:"setStyles",value:function(t){this.style=fr(fr({},this.style),nr(t))}},{key:"updateStyles",value:function(t){this.style=fr({},nr(t))}},{key:"setZIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=t}},{key:"updateAttributes",value:function(t){sr(this,t)}}]),e}(),Yv=ft(Ie.prototype,"type",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Wv=ft(Ie.prototype,"x",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Kv=ft(Ie.prototype,"y",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Vv=ft(Ie.prototype,"text",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Zv=ft(Ie.prototype,"properties",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Jv=ft(Ie.prototype,"_width",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Qv=ft(Ie.prototype,"_height",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),qv=ft(Ie.prototype,"anchorsOffset",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ey=ft(Ie.prototype,"isSelected",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ty=ft(Ie.prototype,"isHovered",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ry=ft(Ie.prototype,"isShowAnchor",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ny=ft(Ie.prototype,"isDragging",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oy=ft(Ie.prototype,"isHitable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),iy=ft(Ie.prototype,"draggable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ay=ft(Ie.prototype,"visible",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),uy=ft(Ie.prototype,"zIndex",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),sy=ft(Ie.prototype,"state",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ly=ft(Ie.prototype,"autoToFront",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),fy=ft(Ie.prototype,"style",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ft(Ie.prototype,"incoming",[l.m],Object.getOwnPropertyDescriptor(Ie.prototype,"incoming"),Ie.prototype),ft(Ie.prototype,"outgoing",[l.m],Object.getOwnPropertyDescriptor(Ie.prototype,"outgoing"),Ie.prototype),ft(Ie.prototype,"addNodeMoveRules",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"addNodeMoveRules"),Ie.prototype),ft(Ie.prototype,"move",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"move"),Ie.prototype),ft(Ie.prototype,"getMoveDistance",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"getMoveDistance"),Ie.prototype),ft(Ie.prototype,"moveTo",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"moveTo"),Ie.prototype),ft(Ie.prototype,"moveText",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"moveText"),Ie.prototype),ft(Ie.prototype,"updateText",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"updateText"),Ie.prototype),ft(Ie.prototype,"setSelected",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setSelected"),Ie.prototype),ft(Ie.prototype,"setHovered",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setHovered"),Ie.prototype),ft(Ie.prototype,"setIsShowAnchor",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setIsShowAnchor"),Ie.prototype),ft(Ie.prototype,"setHitable",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setHitable"),Ie.prototype),ft(Ie.prototype,"setElementState",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setElementState"),Ie.prototype),ft(Ie.prototype,"setProperty",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setProperty"),Ie.prototype),ft(Ie.prototype,"setProperties",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setProperties"),Ie.prototype),ft(Ie.prototype,"deleteProperty",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"deleteProperty"),Ie.prototype),ft(Ie.prototype,"setStyle",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setStyle"),Ie.prototype),ft(Ie.prototype,"setStyles",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setStyles"),Ie.prototype),ft(Ie.prototype,"updateStyles",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"updateStyles"),Ie.prototype),ft(Ie.prototype,"setZIndex",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setZIndex"),Ie.prototype),ft(Ie.prototype,"updateAttributes",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"updateAttributes"),Ie.prototype),Ie);function Su(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Su=function(t){return typeof t}:Su=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(e)}var hn,hy;function vy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function yy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?vy(Object(t),!0).forEach(function(n){my(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):vy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function FM(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function GM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function gy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function HM(e,r,t){return r&&gy(e.prototype,r),t&&gy(e,t),e}function xu(){return typeof Reflect!="undefined"&&Reflect.get?xu=Reflect.get:xu=function(r,t,n){var o=UM(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},xu.apply(this,arguments)}function UM(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Ro(e),e!==null););return e}function kM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Gf(e,r)}function Gf(e,r){return Gf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Gf(e,r)}function XM(e){var r=YM();return function(){var n=Ro(e),o;if(r){var a=Ro(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return $M(this,o)}}function $M(e,r){if(r&&(Su(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pu(e)}function Pu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ro(e){return Ro=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ro(e)}function my(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Hf(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Uf=(hn=function(e){kM(t,e);var r=XM(t);function t(){var n;GM(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),my(Pu(n),"modelType",ht.CIRCLE_NODE),FM(Pu(n),"r",hy,Pu(n)),n}return HM(t,[{key:"width",get:function(){return this.r*2}},{key:"height",get:function(){return this.r*2}},{key:"getNodeStyle",value:function(){var o=xu(Ro(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.circle;return yy(yy({},o),It(a))}},{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,f=this.r;return[{x:o,y:a-f,id:"".concat(this.id,"_0")},{x:o+f,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+f,id:"".concat(this.id,"_2")},{x:o-f,y:a,id:"".concat(this.id,"_3")}]}}]),t}(pn),hy=Hf(hn.prototype,"r",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Hf(hn.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(hn.prototype,"width"),hn.prototype),Hf(hn.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(hn.prototype,"height"),hn.prototype),hn);i(127);function Au(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Au=function(t){return typeof t}:Au=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Au(e)}var or,by,Oy;function kf(e,r){return ZM(e)||VM(e,r)||KM(e,r)||WM()}function WM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KM(e,r){if(!!e){if(typeof e=="string")return Ey(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ey(e,r)}}function Ey(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function VM(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function ZM(e){if(Array.isArray(e))return e}function Sy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function xy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Sy(Object(t),!0).forEach(function(n){Ty(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Sy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Py(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function JM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ay(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function QM(e,r,t){return r&&Ay(e.prototype,r),t&&Ay(e,t),e}function Tu(){return typeof Reflect!="undefined"&&Reflect.get?Tu=Reflect.get:Tu=function(r,t,n){var o=qM(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Tu.apply(this,arguments)}function qM(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Bo(e),e!==null););return e}function ew(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Xf(e,r)}function Xf(e,r){return Xf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Xf(e,r)}function tw(e){var r=nw();return function(){var n=Bo(e),o;if(r){var a=Bo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return rw(this,o)}}function rw(e,r){if(r&&(Au(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Io(e)}function Io(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Bo(e){return Bo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Bo(e)}function Ty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Lo(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var $f=(or=function(e){ew(t,e);var r=tw(t);function t(){var n;JM(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),Ty(Io(n),"modelType",ht.DIAMOND_NODE),Py(Io(n),"rx",by,Io(n)),Py(Io(n),"ry",Oy,Io(n)),n}return QM(t,[{key:"getNodeStyle",value:function(){var o=Tu(Bo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.diamond;return xy(xy({},o),It(a))}},{key:"points",get:function(){var o=this.x,a=this.y,f=this.rx,p=this.ry;return[[o,a-p],[o+f,a],[o,a+p],[o-f,a]]}},{key:"pointsPosition",get:function(){var o=this.points.map(function(a){return{x:a[0],y:a[1]}});return o}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(f){var p=kf(f,1),m=p[0];m<o&&(o=m),m>a&&(a=m)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(f){var p=kf(f,2),m=p[1];m<o&&(o=m),m>a&&(a=m)}),a-o}},{key:"getDefaultAnchor",value:function(){var o=this;return this.points.map(function(a,f){var p=kf(a,2),m=p[0],O=p[1];return{x:m,y:O,id:"".concat(o.id,"_").concat(f)}})}}]),t}(pn),by=Lo(or.prototype,"rx",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Oy=Lo(or.prototype,"ry",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Lo(or.prototype,"points",[l.m],Object.getOwnPropertyDescriptor(or.prototype,"points"),or.prototype),Lo(or.prototype,"pointsPosition",[l.m],Object.getOwnPropertyDescriptor(or.prototype,"pointsPosition"),or.prototype),Lo(or.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(or.prototype,"width"),or.prototype),Lo(or.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(or.prototype,"height"),or.prototype),or);function Mu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Mu=function(t){return typeof t}:Mu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}var Qr,My,wy;function Ny(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Dy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ny(Object(t),!0).forEach(function(n){Ry(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ny(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function jy(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function ow(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Cy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function iw(e,r,t){return r&&Cy(e.prototype,r),t&&Cy(e,t),e}function wu(){return typeof Reflect!="undefined"&&Reflect.get?wu=Reflect.get:wu=function(r,t,n){var o=aw(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},wu.apply(this,arguments)}function aw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=zo(e),e!==null););return e}function uw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Yf(e,r)}function Yf(e,r){return Yf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Yf(e,r)}function sw(e){var r=fw();return function(){var n=zo(e),o;if(r){var a=zo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return lw(this,o)}}function lw(e,r){if(r&&(Mu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _o(e)}function _o(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function zo(e){return zo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zo(e)}function Ry(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Nu(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Wf=(Qr=function(e){uw(t,e);var r=sw(t);function t(){var n;ow(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),Ry(_o(n),"modelType",ht.ELLIPSE_NODE),jy(_o(n),"rx",My,_o(n)),jy(_o(n),"ry",wy,_o(n)),n}return iw(t,[{key:"getNodeStyle",value:function(){var o=wu(zo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.ellipse;return Dy(Dy({},o),It(a))}},{key:"width",get:function(){return this.rx*2}},{key:"height",get:function(){return this.ry*2}},{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,f=this.rx,p=this.ry;return[{x:o,y:a-p,id:"".concat(this.id,"_0")},{x:o+f,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p,id:"".concat(this.id,"_2")},{x:o-f,y:a,id:"".concat(this.id,"_3")}]}}]),t}(pn),My=Nu(Qr.prototype,"rx",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),wy=Nu(Qr.prototype,"ry",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),Nu(Qr.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(Qr.prototype,"width"),Qr.prototype),Nu(Qr.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(Qr.prototype,"height"),Qr.prototype),Qr);function Du(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Du=function(t){return typeof t}:Du=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(e)}var Br,Iy;function Kf(e,r){return hw(e)||pw(e,r)||dw(e,r)||cw()}function cw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dw(e,r){if(!!e){if(typeof e=="string")return By(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return By(e,r)}}function By(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function pw(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function hw(e){if(Array.isArray(e))return e}function Ly(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function _y(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ly(Object(t),!0).forEach(function(n){Fy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ly(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function vw(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function yw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function zy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gw(e,r,t){return r&&zy(e.prototype,r),t&&zy(e,t),e}function ju(){return typeof Reflect!="undefined"&&Reflect.get?ju=Reflect.get:ju=function(r,t,n){var o=mw(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},ju.apply(this,arguments)}function mw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Fo(e),e!==null););return e}function bw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Vf(e,r)}function Vf(e,r){return Vf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Vf(e,r)}function Ow(e){var r=Sw();return function(){var n=Fo(e),o;if(r){var a=Fo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Ew(this,o)}}function Ew(e,r){if(r&&(Du(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cu(e)}function Cu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Fo(e){return Fo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Fo(e)}function Fy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ru(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Zf=(Br=function(e){bw(t,e);var r=Ow(t);function t(){var n;yw(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),Fy(Cu(n),"modelType",ht.POLYGON_NODE),vw(Cu(n),"points",Iy,Cu(n)),n}return gw(t,[{key:"getNodeStyle",value:function(){var o=ju(Fo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.polygon;return _y(_y({},o),It(a))}},{key:"pointsPosition",get:function(){var o=this.x,a=this.y,f=this.width,p=this.height,m=this.points.map(function(O){return{x:O[0]+o-f/2,y:O[1]+a-p/2}});return m}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(f){var p=Kf(f,1),m=p[0];m<o&&(o=m),m>a&&(a=m)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(f){var p=Kf(f,2),m=p[1];m<o&&(o=m),m>a&&(a=m)}),a-o}},{key:"getDefaultAnchor",value:function(){var o=this,a=this.x,f=this.y,p=this.width,m=this.height,O=this.points;return O.map(function(T,N){var L=Kf(T,2),G=L[0],K=L[1];return{x:a+G-p/2,y:f+K-m/2,id:"".concat(o.id,"_").concat(N)}})}}]),t}(pn),Iy=Ru(Br.prototype,"points",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Ru(Br.prototype,"pointsPosition",[l.m],Object.getOwnPropertyDescriptor(Br.prototype,"pointsPosition"),Br.prototype),Ru(Br.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(Br.prototype,"width"),Br.prototype),Ru(Br.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(Br.prototype,"height"),Br.prototype),Br);function Iu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Iu=function(t){return typeof t}:Iu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(e)}var Jf,Gy;function Hy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Uy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Hy(Object(t),!0).forEach(function(n){Xy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Hy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function xw(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Pw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ky(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Aw(e,r,t){return r&&ky(e.prototype,r),t&&ky(e,t),e}function Bu(){return typeof Reflect!="undefined"&&Reflect.get?Bu=Reflect.get:Bu=function(r,t,n){var o=Tw(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Bu.apply(this,arguments)}function Tw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Go(e),e!==null););return e}function Mw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Qf(e,r)}function Qf(e,r){return Qf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Qf(e,r)}function ww(e){var r=Dw();return function(){var n=Go(e),o;if(r){var a=Go(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Nw(this,o)}}function Nw(e,r){if(r&&(Iu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lu(e)}function Lu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Go(e){return Go=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Go(e)}function Xy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function jw(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var qf=(Jf=function(e){Mw(t,e);var r=ww(t);function t(){var n;Pw(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),Xy(Lu(n),"modelType",ht.RECT_NODE),xw(Lu(n),"radius",Gy,Lu(n)),n}return Aw(t,[{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,f=this.width,p=this.height;return[{x:o,y:a-p/2,id:"".concat(this.id,"_0")},{x:o+f/2,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p/2,id:"".concat(this.id,"_2")},{x:o-f/2,y:a,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var o=Bu(Go(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.rect;return Uy(Uy({},o),It(a))}}]),t}(pn),Gy=jw(Jf.prototype,"radius",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Jf);function _u(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_u=function(t){return typeof t}:_u=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_u(e)}var Gn;function $y(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Yy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?$y(Object(t),!0).forEach(function(n){Vy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$y(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Cw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Wy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Rw(e,r,t){return r&&Wy(e.prototype,r),t&&Wy(e,t),e}function zu(){return typeof Reflect!="undefined"&&Reflect.get?zu=Reflect.get:zu=function(r,t,n){var o=Iw(r,t);if(!!o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},zu.apply(this,arguments)}function Iw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Ho(e),e!==null););return e}function Bw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&ec(e,r)}function ec(e,r){return ec=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},ec(e,r)}function Lw(e){var r=zw();return function(){var n=Ho(e),o;if(r){var a=Ho(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return _w(this,o)}}function _w(e,r){if(r&&(_u(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ky(e)}function Ky(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ho(e){return Ho=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ho(e)}function Vy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Zy(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var tc=(Gn=function(e){Bw(t,e);var r=Lw(t);function t(){var n;Cw(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),Vy(Ky(n),"modelType",ht.TEXT_NODE),n}return Rw(t,[{key:"getTextStyle",value:function(){var o=zu(Ho(t.prototype),"getTextStyle",this).call(this),a=this.graphModel.theme.text;return Yy(Yy({},o),It(a))}},{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle(),f=a.fontSize,p=cf({rows:o,fontSize:f,rowsLength:o.length}),m=p.width;return m}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle(),f=a.fontSize,p=cf({rows:o,fontSize:f,rowsLength:o.length}),m=p.height;return m}}]),t}(pn),Zy(Gn.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(Gn.prototype,"width"),Gn.prototype),Zy(Gn.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(Gn.prototype,"height"),Gn.prototype),Gn);function Fu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fu=function(t){return typeof t}:Fu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fu(e)}function Fw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Jy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Gw(e,r,t){return r&&Jy(e.prototype,r),t&&Jy(e,t),e}function Hw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&rc(e,r)}function rc(e,r){return rc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},rc(e,r)}function Uw(e){var r=Xw();return function(){var n=Gu(e),o;if(r){var a=Gu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return kw(this,o)}}function kw(e,r){if(r&&(Fu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qy(e)}function Qy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xw(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Gu(e){return Gu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Gu(e)}function $w(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var nc=function(e){Hw(t,e);var r=Uw(t);function t(){var n;Fw(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),$w(Qy(n),"modelType",ht.HTML_NODE),n}return Gw(t,[{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,f=this.width,p=this.height;return[{x:o,y:a-p/2,id:"".concat(this.id,"_0")},{x:o+f/2,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p/2,id:"".concat(this.id,"_2")},{x:o-f/2,y:a,id:"".concat(this.id,"_3")}]}}]),t}(pn),Hr,qy,eg,tg;function rg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Yw(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?rg(Object(t),!0).forEach(function(n){og(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):rg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function oc(e,r,t,n){!t||Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Ww(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ng(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Kw(e,r,t){return r&&ng(e.prototype,r),t&&ng(e,t),e}function og(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function bi(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var ig=(Hr=function(){function e(r){Ww(this,e),og(this,"graphModel",void 0),oc(this,"isShowHorizontal",qy,this),oc(this,"isShowVertical",eg,this),oc(this,"position",tg,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}return Kw(e,[{key:"getStyle",value:function(){return Yw({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(t,n){for(var o=t.x,a=t.y,f=!1,p=!1,m=0;m<n.length;m++){var O=n[m];if(O.id!==t.id&&(o===O.x&&(f=!0),a===O.y&&(p=!0),f&&p))break}return{isShowVertical:f,isShowHorizontal:p,position:{x:o,y:a}}}},{key:"getHorizontalSnapline",value:function(t,n){var o=!1,a,f=t.id,p;if(f){var m=this.graphModel.fakerNode;if(m&&m.id===f)p=Pr(m);else{var O=this.graphModel.getNodeModelById(f);p=Pr(O)}}for(var T=0;T<n.length;T++){var N=n[T];if(N.id!==t.id){var L=Pr(N);if(L.minY===p.minY||L.maxY===p.minY){o=!0,a=p.minY;break}if(L.minY===p.maxY||L.maxY===p.maxY){o=!0,a=p.maxY;break}}}return sr({isShowHorizontal:o,position:{y:a}})}},{key:"getVerticalSnapline",value:function(t,n){var o=!1,a,f=t.id,p;if(f){var m=this.graphModel.fakerNode;if(m&&m.id===f)p=Pr(m);else{var O=this.graphModel.getNodeModelById(f);p=Pr(O)}}for(var T=0;T<n.length;T++){var N=n[T];if(N.id!==t.id){var L=Pr(N);if(L.minX===p.minX||L.maxX===p.minX){o=!0,a=p.minX;break}if(L.minX===p.maxX||L.maxX===p.maxX){o=!0,a=p.maxX;break}}}return sr({isShowVertical:o,position:{x:a}})}},{key:"getSnapLinePosition",value:function(t,n){var o=this.getCenterSnapLine(t,n),a=o.isShowHorizontal,f=o.isShowVertical;if(!a){var p=this.getHorizontalSnapline(t,n);p.isShowHorizontal&&(o.isShowHorizontal=p.isShowHorizontal,o.position.y=p.position.y)}if(!f){var m=this.getVerticalSnapline(t,n);m.isShowVertical&&(o.isShowVertical=m.isShowVertical,o.position.x=m.position.x)}return o}},{key:"setSnaplineInfo",value:function(t){var n=t.isShowHorizontal,o=t.isShowVertical,a=t.position;this.position=a,this.isShowHorizontal=n,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(t){var n=this.graphModel.nodes,o=this.getSnapLinePosition(t,n);this.setSnaplineInfo(o)}}]),e}(),qy=bi(Hr.prototype,"isShowHorizontal",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eg=bi(Hr.prototype,"isShowVertical",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tg=bi(Hr.prototype,"position",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bi(Hr.prototype,"clearSnapline",[l.k],Object.getOwnPropertyDescriptor(Hr.prototype,"clearSnapline"),Hr.prototype),bi(Hr.prototype,"setNodeSnapLine",[l.k],Object.getOwnPropertyDescriptor(Hr.prototype,"setNodeSnapLine"),Hr.prototype),Hr),Oi=new Map,ag=function(r){var t=Bn();function n(){r();var a=Oi.get(t);if(a){var f=window.requestAnimationFrame(n);Oi.set(t,f)}}var o=window.requestAnimationFrame(n);return Oi.set(t,o),t},Hu=function(r){var t=Oi.get(r);t&&(window.cancelAnimationFrame(t),Oi.delete(r))};function Uu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Uu=function(t){return typeof t}:Uu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uu(e)}function Ei(){return Ei=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ei.apply(this,arguments)}function ug(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ku(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ug(Object(t),!0).forEach(function(n){en(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ug(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Vw(e,r){return qw(e)||Qw(e,r)||Jw(e,r)||Zw()}function Zw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jw(e,r){if(!!e){if(typeof e=="string")return sg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return sg(e,r)}}function sg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Qw(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function qw(e){if(Array.isArray(e))return e}function e1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function lg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t1(e,r,t){return r&&lg(e.prototype,r),t&&lg(e,t),e}function r1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&ic(e,r)}function ic(e,r){return ic=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},ic(e,r)}function n1(e){var r=i1();return function(){var n=Xu(e),o;if(r){var a=Xu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return o1(this,o)}}function o1(e,r){if(r&&(Uu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qr(e)}function qr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Xu(e){return Xu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Xu(e)}function en(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var a1=function(e){r1(t,e);var r=n1(t);function t(){var n;return e1(this,t),n=r.call(this),en(qr(n),"preTargetNode",void 0),en(qr(n),"sourceRuleResults",void 0),en(qr(n),"targetRuleResults",void 0),en(qr(n),"dragHandler",void 0),en(qr(n),"t",void 0),en(qr(n),"onDragStart",function(o){var a=o.event,f=n.props,p=f.anchorData,m=f.nodeModel,O=f.graphModel,T=O.overlapMode;O.selectNodeById(m.id),T!==xr.INCREASE&&m.autoToFront&&O.toFront(m.id),O.eventCenter.emit(rt.ANCHOR_DRAGSTART,{data:p,e:a,nodeModel:m}),n.setState({startX:p.x,startY:p.y,endX:p.x,endY:p.y})}),en(qr(n),"onDragging",function(o){var a=o.event,f=n.props,p=f.graphModel,m=f.nodeModel,O=f.anchorData,T=p.transformModel,N=p.eventCenter,L=p.width,G=p.height,K=p.editConfigModel,ie=K.autoExpand,oe=K.stopMoveGraph,ue=a.clientX,Me=a.clientY,je=p.getPointByClient({x:ue,y:Me}),ye=je.domOverlayPosition,Be=ye.x,Ne=ye.y,ke=je.canvasOverlayPosition,Re=ke.x,qe=ke.y;n.t&&Hu(n.t);var st=[],Bt=10;Be<10?st=[Bt,0]:Be+10>L?st=[-Bt,0]:Ne<10?st=[0,Bt]:Ne+10>G&&(st=[0,-Bt]),n.setState({endX:Re,endY:qe,dragging:!0}),n.moveAnchorEnd(Re,qe),st.length>0&&!oe&&ie&&(n.t=ag(function(){var Ft=st,Kt=Vw(Ft,2),ar=Kt[0],bn=Kt[1];T.translate(ar,bn);var kn=n.state,on=kn.endX,Xo=kn.endY;n.setState({endX:on-ar,endY:Xo-bn}),n.moveAnchorEnd(on-ar,Xo-bn)})),N.emit(rt.ANCHOR_DRAG,{data:O,e:a,nodeModel:m})}),en(qr(n),"onDragEnd",function(o){var a=o.event;n.t&&Hu(n.t),n.checkEnd(a),n.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),n.sourceRuleResults.clear(),n.targetRuleResults.clear();var f=n.props,p=f.graphModel,m=f.nodeModel,O=f.anchorData;p.eventCenter.emit(rt.ANCHOR_DRAGEND,{data:O,e:a,nodeModel:m})}),en(qr(n),"checkEnd",function(o){var a=n.props,f=a.graphModel,p=a.nodeModel,m=a.anchorData,O=m.x,T=m.y,N=m.id;f.edgeType;var L=n.state,G=L.endX,K=L.endY,ie=L.dragging,oe=ja({x:G,y:K},f);if(n.preTargetNode&&n.preTargetNode.state!==bt.DEFAULT&&n.preTargetNode.setElementState(bt.DEFAULT),!!ie&&oe&&oe.node){var ue=oe.node,Me=oe.anchor.id,je="".concat(p.id,"_").concat(ue.id,"_").concat(Me,"_").concat(N),ye=n.sourceRuleResults.get(je)||{},Be=ye.isAllPass,Ne=ye.msg,ke=n.targetRuleResults.get(je)||{},Re=ke.isAllPass,qe=ke.msg;if(Be&&Re){ue.setElementState(bt.DEFAULT);var st=f.edgeGenerator(p.getData(),f.getNodeModelById(oe.node.id).getData()),Bt=f.addEdge(ku(ku({},st),{},{sourceNodeId:p.id,sourceAnchorId:N,startPoint:{x:O,y:T},targetNodeId:oe.node.id,targetAnchorId:oe.anchor.id,endPoint:{x:oe.anchor.x,y:oe.anchor.y}})),Ft=n.props.anchorData;f.eventCenter.emit(rt.ANCHOR_DROP,{data:Ft,e:o,nodeModel:p,edgeModel:Bt})}else{var Kt=ue.getData();f.eventCenter.emit(rt.CONNECTION_NOT_ALLOWED,{data:Kt,msg:qe||Ne})}}}),n.sourceRuleResults=new Map,n.targetRuleResults=new Map,n.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},n.dragHandler=new fn({onDragStart:n.onDragStart,onDragging:n.onDragging,onDragEnd:n.onDragEnd}),n}return t1(t,[{key:"getAnchorShape",value:function(){var o=this.props,a=o.anchorData,f=o.style,p=o.node,m=p.getAnchorShape(a);if(m)return m;var O=a.x,T=a.y,N=ku(ku({},f),f.hover);return Object(ae.g)("g",null,Object(ae.g)(gi,Ei({className:"lf-node-anchor-hover"},N,{x:O,y:T})),Object(ae.g)(gi,Ei({className:"lf-node-anchor"},f,{x:O,y:T})))}},{key:"moveAnchorEnd",value:function(o,a){var f=this.props,p=f.graphModel,m=f.nodeModel,O=f.anchorData,T=ja({x:o,y:a},p);if(T){var N=T.node,L=T.anchor.id;if(this.preTargetNode&&this.preTargetNode!==T.node&&this.preTargetNode.setElementState(bt.DEFAULT),O.id===L)return;this.preTargetNode=N;var G="".concat(m.id,"_").concat(N.id,"_").concat(L,"_").concat(O.id);if(!this.targetRuleResults.has(G)){var K=T.anchor,ie=m.isAllowConnectedAsSource(N,O,K),oe=N.isAllowConnectedAsTarget(m,O,K);this.sourceRuleResults.set(G,Ra(ie)),this.targetRuleResults.set(G,Ra(oe))}var ue=this.sourceRuleResults.get(G),Me=ue.isAllPass,je=this.targetRuleResults.get(G),ye=je.isAllPass;Me&&ye?N.setElementState(bt.ALLOW_CONNECT):N.setElementState(bt.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==bt.DEFAULT&&this.preTargetNode.setElementState(bt.DEFAULT)}},{key:"isShowLine",value:function(){var o=this.state,a=o.startX,f=o.startY,p=o.endX,m=o.endY,O=Kr(a,f,p,m);return O>10}},{key:"render",value:function(){var o=this,a=this.state,f=a.startX,p=a.startY,m=a.endX,O=a.endY,T=this.props,N=T.anchorData.edgeAddable,L=T.edgeStyle;return Object(ae.g)("g",{className:"lf-anchor"},Object(ae.g)("g",{onMouseDown:function(K){N!==!1&&o.dragHandler.handleMouseDown(K)}},this.getAnchorShape()),this.isShowLine()&&Object(ae.g)(Do,Ei({x1:f,y1:p,x2:m,y2:O},L,{"pointer-events":"none"})))}}]),t}(ae.a),u1=a1;i(64);function fg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function s1(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?fg(Object(t),!0).forEach(function(n){l1(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function l1(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function $u(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$u=function(t){return typeof t}:$u=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$u(e)}function f1(e,r){return h1(e)||p1(e,r)||d1(e,r)||c1()}function c1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d1(e,r){if(!!e){if(typeof e=="string")return cg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return cg(e,r)}}function cg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function p1(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function h1(e){if(Array.isArray(e))return e}function dg(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.value,f=e.fontSize,p=e.fill,m=p===void 0?"currentColor":p,O=e.overflowMode,T=O===void 0?"default":O,N=e.textWidth,L=N===void 0?"":N,G=e.model,K={textAnchor:"middle","dominant-baseline":"middle",x:t,y:o,fill:m};if(Object.entries(e).forEach(function(ye){var Be=f1(ye,2),Ne=Be[0],ke=Be[1],Re=$u(ke);Re!=="object"&&(K[Ne]=ke)}),a){var ie=String(a).split(/[\r\n]/g),oe=ie.length;if(T!=="default"){var ue=G.BaseType,Me=G.modelType;if(ue===Gt.NODE&&Me!==ht.TEXT_NODE||ue===Gt.EDGE&&L)return v1(e)}if(oe>1){var je=ie.map(function(ye,Be){var Ne=f+2,ke=(Be-(oe-1)/2)*Ne;return Object(ae.g)("tspan",{className:"lf-text-tspan",x:t,y:o+ke},ye)});return Object(ae.g)("text",K,je)}return Object(ae.g)("text",K,a)}}function v1(e){var r=e.value,t=e.fontSize,n=e.model,o=e.fontFamily,a=o===void 0?"":o,f=e.lineHeight,p=e.wrapPadding,m=p===void 0?"0, 0":p,O=e.overflowMode,T=e.x,N=e.y,L=n.width,G=n.textHeight,K=e.textWidth||L,ie=String(r).split(/[\r\n]/g),oe=ie.length,ue=Yp({rows:ie,style:{fontSize:"".concat(t,"px"),width:"".concat(K,"px"),fontFamily:a,lineHeight:f,padding:m},rowsLength:oe,className:"lf-get-text-height"}),Me=n.height>ue?n.height:ue;G&&(Me=G);var je=O==="ellipsis";return Object(ae.g)("g",null,Object(ae.g)("foreignObject",{width:K,height:Me,x:T-K/2,y:N-Me/2},Object(ae.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Me,width:K,padding:m}},Object(ae.g)("div",{className:je?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:je?ie.join(""):"",style:s1({},e)},ie.map(function(ye){return Object(ae.g)("div",{className:"lf-node-text--auto-wrap-inner"},ye)})))))}function Yu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yu=function(t){return typeof t}:Yu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function ac(){return ac=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},ac.apply(this,arguments)}function y1(e,r){return O1(e)||b1(e,r)||m1(e,r)||g1()}function g1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m1(e,r){if(!!e){if(typeof e=="string")return pg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return pg(e,r)}}function pg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function b1(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function O1(e){if(Array.isArray(e))return e}function E1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function hg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S1(e,r,t){return r&&hg(e.prototype,r),t&&hg(e,t),e}function x1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&uc(e,r)}function uc(e,r){return uc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},uc(e,r)}function P1(e){var r=T1();return function(){var n=Wu(e),o;if(r){var a=Wu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return A1(this,o)}}function A1(e,r){if(r&&(Yu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hn(e)}function Hn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Wu(e){return Wu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Wu(e)}function io(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var vg=function(e){x1(t,e);var r=P1(t);function t(n){var o;E1(this,t),o=r.call(this),io(Hn(o),"dragHandler",void 0),io(Hn(o),"sumDeltaX",0),io(Hn(o),"sumDeltaY",0),io(Hn(o),"stepDrag",void 0),io(Hn(o),"onDragging",function(p){var m=p.deltaX,O=p.deltaY,T=o.props,N=T.model,L=T.graphModel.transformModel,G=L.fixDeltaXY(m,O),K=y1(G,2),ie=K[0],oe=K[1];N.moveText(ie,oe)}),io(Hn(o),"dblClickHandler",function(){var p=o.props.editable;if(p){var m=o.props.model;m.setElementState(bt.TEXT_EDIT)}}),io(Hn(o),"mouseDownHandle",function(p){var m=o.props,O=m.draggable,T=m.graphModel.editConfigModel.nodeTextDraggable;(O||T)&&o.stepDrag.handleMouseDown(p)});var a=n.model,f=n.draggable;return o.stepDrag=new fn({onDragging:o.onDragging,step:1,model:a,isStopPropagation:f}),o}return S1(t,[{key:"getShape",value:function(){var o=this.props,a=o.model,f=o.graphModel,p=a.text,m=f.editConfigModel,O=p.value,T=p.x,N=p.y,L=p.editable,G=p.draggable,K={x:T,y:N,className:"",value:O};L?K.className="lf-element-text":G||m.nodeTextDraggable?K.className="lf-text-draggable":K.className="lf-text-disabled";var ie=a.getTextStyle();return Object(ae.g)(dg,ac({},K,ie,{model:a}))}},{key:"render",value:function(){var o=this.props.model.text;if(o)return Object(ae.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}]),t}(ae.a),M1=window.navigator.userAgent.match(/MSIE|Trident/)!==null;function Ku(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ku=function(t){return typeof t}:Ku=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}function Vu(e,r){return j1(e)||D1(e,r)||N1(e,r)||w1()}function w1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N1(e,r){if(!!e){if(typeof e=="string")return yg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return yg(e,r)}}function yg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function D1(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function j1(e){if(Array.isArray(e))return e}function C1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function gg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function R1(e,r,t){return r&&gg(e.prototype,r),t&&gg(e,t),e}function I1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&sc(e,r)}function sc(e,r){return sc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},sc(e,r)}function B1(e){var r=_1();return function(){var n=Zu(e),o;if(r){var a=Zu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return L1(this,o)}}function L1(e,r){if(r&&(Ku(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ir(e)}function ir(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Zu(e){return Zu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Zu(e)}function cr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var vn=function(e){I1(t,e);var r=B1(t);function t(n){var o;C1(this,t),o=r.call(this),cr(ir(o),"t",void 0),cr(ir(o),"moveOffset",void 0),cr(ir(o),"stepDrag",void 0),cr(ir(o),"contextMenuTime",void 0),cr(ir(o),"startTime",void 0),cr(ir(o),"clickTimer",void 0),cr(ir(o),"onDragStart",function(O){var T=O.event,N=T.clientX,L=T.clientY,G=o.props,K=G.model,ie=G.graphModel,oe=ie.getPointByClient({x:N,y:L}),ue=oe.canvasOverlayPosition,Me=ue.x,je=ue.y;o.moveOffset={x:K.x-Me,y:K.y-je}}),cr(ir(o),"onDragging",function(O){var T=O.event,N=o.props,L=N.model,G=N.graphModel,K=G.editConfigModel,ie=K.stopMoveGraph,oe=K.autoExpand,ue=G.transformModel,Me=G.width,je=G.height,ye=G.gridSize;L.isDragging=!0;var Be=T.clientX,Ne=T.clientY,ke=G.getPointByClient({x:Be,y:Ne}),Re=ke.canvasOverlayPosition,qe=Re.x,st=Re.y,Bt=ue.CanvasPointToHtmlPoint([qe,st]),Ft=Vu(Bt,2),Kt=Ft[0],ar=Ft[1];if(qe=qe+o.moveOffset.x,st=st+o.moveOffset.y,qe=In(qe,ye),st=In(st,ye),!Me||!je){G.moveNode2Coordinate(L.id,qe,st);return}var bn=Kt<0||ar<0||Kt>Me||ar>je;if(!(oe&&!ie&&bn)){var kn=ue.CanvasPointToHtmlPoint([qe-L.width/2,st-L.height/2]),on=Vu(kn,2),Xo=on[0],qc=on[1],AC=ue.CanvasPointToHtmlPoint([qe+L.width/2,st+L.height/2]),ym=Vu(AC,2),TC=ym[0],MC=ym[1],zs=Math.max(ye,20),$o=[];Xo<0?$o=[zs,0]:TC>G.width?$o=[-zs,0]:qc<0?$o=[0,zs]:MC>G.height&&($o=[0,-zs]),o.t&&Hu(o.t),$o.length>0&&!ie&&oe?o.t=ag(function(){var wC=$o,gm=Vu(wC,2),mm=gm[0],bm=gm[1];ue.translate(mm,bm),G.moveNode(L.id,-mm/ue.SCALE_X,-bm/ue.SCALE_X)}):G.moveNode2Coordinate(L.id,qe,st)}}),cr(ir(o),"onDragEnd",function(){o.t&&Hu(o.t);var O=o.props.model;O.isDragging=!1}),cr(ir(o),"handleClick",function(O){if(!!o.startTime){var T=new Date().getTime()-o.startTime;if(!(T>200)){var N=o.props,L=N.model,G=N.graphModel,K=L.getData(),ie=G.getPointByClient({x:O.clientX,y:O.clientY}),oe={data:K,e:O,position:ie,isSelected:!1,isMultiple:!1},ue=O.button===2,Me=O.detail===2;if(!ue){var je=G.editConfigModel,ye=Fp(O,je);oe.isMultiple=ye,L.isSelected&&!Me&&ye?(oe.isSelected=!1,L.setSelected(!1)):(G.selectNodeById(L.id,ye),oe.isSelected=!0,o.toFront()),Me?(je.nodeTextEdit&&L.text.editable&&(L.setSelected(!1),G.setElementStateById(L.id,bt.TEXT_EDIT)),G.eventCenter.emit(rt.NODE_DBCLICK,oe)):(G.eventCenter.emit(rt.ELEMENT_CLICK,oe),G.eventCenter.emit(rt.NODE_CLICK,oe))}}}}),cr(ir(o),"handleContextMenu",function(O){O.preventDefault();var T=o.props,N=T.model,L=T.graphModel,G=N.getData(),K=L.getPointByClient({x:O.clientX,y:O.clientY});L.setElementStateById(N.id,bt.SHOW_MENU,K.domOverlayPosition),N.isSelected||L.selectNodeById(N.id),L.eventCenter.emit(rt.NODE_CONTEXTMENU,{data:G,e:O,position:K}),o.toFront()}),cr(ir(o),"handleMouseDown",function(O){var T=o.props,N=T.model,L=T.graphModel;o.startTime=new Date().getTime();var G=L.editConfigModel;G.adjustNodePosition&&N.draggable&&o.stepDrag&&o.stepDrag.handleMouseDown(O)}),cr(ir(o),"setHoverON",function(O){var T=o.props,N=T.model,L=T.graphModel;if(!N.isHovered){var G=N.getData();N.setHovered(!0),L.eventCenter.emit(rt.NODE_MOUSEENTER,{data:G,e:O})}}),cr(ir(o),"setHoverOFF",function(O){var T=o.props,N=T.model,L=T.graphModel,G=N.getData();!N.isHovered||(N.setHovered(!1),L.eventCenter.emit(rt.NODE_MOUSELEAVE,{data:G,e:O}))}),cr(ir(o),"onMouseOut",function(O){M1&&o.setHoverOFF(O)});var a=n.graphModel,f=a.gridSize,p=a.eventCenter,m=n.model;return o.stepDrag=new fn({onDragStart:o.onDragStart,onDragging:o.onDragging,onDragEnd:o.onDragEnd,step:f,eventType:"NODE",isStopPropagation:!1,eventCenter:p,model:m}),o}return R1(t,[{key:"getAnchorShape",value:function(o){return null}},{key:"getAnchors",value:function(){var o=this,a=this.props,f=a.model,p=a.graphModel,m=f.isSelected,O=f.isHitable,T=f.isDragging,N=f.isShowAnchor;return O&&(m||N)&&!T?Pa(f.anchors,function(L,G){var K=f.getAnchorLineStyle(L),ie=f.getAnchorStyle(L);return Object(ae.g)(u1,{anchorData:L,node:o,style:ie,edgeStyle:K,anchorIndex:G,nodeModel:f,graphModel:p,setHoverOFF:o.setHoverOFF})}):[]}},{key:"getText",value:function(){var o=this.props,a=o.model,f=o.graphModel;if(a.state===bt.TEXT_EDIT)return"";if(a.text){var p=f.editConfigModel,m=!1;return(a.text.draggable||p.nodeTextDraggable)&&(m=!0),Object(ae.g)(vg,{editable:p.nodeTextEdit&&a.text.editable,model:a,graphModel:f,draggable:m})}}},{key:"getStateClassName",value:function(){var o=this.props.model,a=o.state,f=o.isDragging,p=o.isSelected,m="lf-node";switch(a){case bt.ALLOW_CONNECT:m+=" lf-node-allow";break;case bt.NOT_ALLOW_CONNECT:m+=" lf-node-not-allow";break;default:m+=" lf-node-default";break}return f&&(m+=" lf-isDragging"),p&&(m+=" lf-node-selected"),m}},{key:"toFront",value:function(){var o=this.props,a=o.model,f=o.graphModel,p=f.overlapMode;p!==xr.INCREASE&&a.autoToFront&&f.toFront(a.id)}},{key:"render",value:function(){var o=this.props,a=o.model,f=o.graphModel,p=f.editConfigModel,m=p.hideAnchors,O=p.adjustNodePosition,T=f.gridSize,N=f.transformModel.SCALE_X,L=a.isHitable,G=a.draggable,K=Object(ae.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),m?null:this.getAnchors()),ie;return L?(O&&G&&this.stepDrag.setStep(T*N),ie=Object(ae.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},K)):ie=Object(ae.g)("g",{className:this.getStateClassName()},K),ie}}],[{key:"getModel",value:function(o){return o}}]),t}(ae.a);function Ju(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ju=function(t){return typeof t}:Ju=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function lc(){return lc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},lc.apply(this,arguments)}function z1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function mg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function F1(e,r,t){return r&&mg(e.prototype,r),t&&mg(e,t),e}function G1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&fc(e,r)}function fc(e,r){return fc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},fc(e,r)}function H1(e){var r=X1();return function(){var n=Qu(e),o;if(r){var a=Qu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return U1(this,o)}}function U1(e,r){if(r&&(Ju(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k1(e)}function k1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Qu(e){return Qu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qu(e)}var cc=function(e){G1(t,e);var r=H1(t);function t(){return z1(this,t),r.apply(this,arguments)}return F1(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(ae.g)(zn,lc({},a,{x:o.x,y:o.y,width:o.width,height:o.height,radius:o.radius}))}}]),t}(vn);function qu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qu=function(t){return typeof t}:qu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qu(e)}function dc(){return dc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},dc.apply(this,arguments)}function $1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function bg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Y1(e,r,t){return r&&bg(e.prototype,r),t&&bg(e,t),e}function W1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&pc(e,r)}function pc(e,r){return pc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},pc(e,r)}function K1(e){var r=J1();return function(){var n=es(e),o;if(r){var a=es(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return V1(this,o)}}function V1(e,r){if(r&&(qu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z1(e)}function Z1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function es(e){return es=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},es(e)}var hc=function(e){W1(t,e);var r=K1(t);function t(){return $1(this,t),r.apply(this,arguments)}return Y1(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.x,f=o.y,p=o.r,m=o.getNodeStyle();return Object(ae.g)(gi,dc({},m,{x:a,y:f,r:p}))}}]),t}(vn);function ts(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ts=function(t){return typeof t}:ts=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ts(e)}function Q1(e,r){return rN(e)||tN(e,r)||eN(e,r)||q1()}function q1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eN(e,r){if(!!e){if(typeof e=="string")return Og(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Og(e,r)}}function Og(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function tN(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function rN(e){if(Array.isArray(e))return e}function Eg(e){var r=e.points,t=e.className,n={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach(function(o){var a=Q1(o,2),f=a[0],p=a[1],m=ts(p);m!=="object"&&(n[f]=p)}),t?n.className="lf-basic-shape ".concat(t):n.className="lf-basic-shape",n.points=r.map(function(o){return o.join(",")}).join(" "),Object(ae.g)("polygon",n)}function rs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rs=function(t){return typeof t}:rs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rs(e)}function vc(){return vc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},vc.apply(this,arguments)}function nN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Sg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function oN(e,r,t){return r&&Sg(e.prototype,r),t&&Sg(e,t),e}function iN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&yc(e,r)}function yc(e,r){return yc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},yc(e,r)}function aN(e){var r=lN();return function(){var n=ns(e),o;if(r){var a=ns(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return uN(this,o)}}function uN(e,r){if(r&&(rs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sN(e)}function sN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ns(e){return ns=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ns(e)}var gc=function(e){iN(t,e);var r=aN(t);function t(){return nN(this,t),r.apply(this,arguments)}return oN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.x,f=o.y,p=o.width,m=o.height,O=o.points,T=o.getNodeStyle(),N={transform:"matrix(1 0 0 1 ".concat(a-p/2," ").concat(f-m/2,")")};return Object(ae.g)("g",N,Object(ae.g)(Eg,vc({},T,{points:O,x:a,y:f})))}}]),t}(vn);function os(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?os=function(t){return typeof t}:os=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},os(e)}function mc(){return mc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},mc.apply(this,arguments)}function fN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function xg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function cN(e,r,t){return r&&xg(e.prototype,r),t&&xg(e,t),e}function dN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&bc(e,r)}function bc(e,r){return bc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},bc(e,r)}function pN(e){var r=yN();return function(){var n=is(e),o;if(r){var a=is(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return hN(this,o)}}function hN(e,r){if(r&&(os(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vN(e)}function vN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function is(e){return is=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},is(e)}var Oc=function(e){dN(t,e);var r=pN(t);function t(){return fN(this,t),r.apply(this,arguments)}return cN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(ae.g)("g",null,Object(ae.g)(Eg,mc({},a,{points:o.points,x:o.x,y:o.y})))}}]),t}(vn);function as(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?as=function(t){return typeof t}:as=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},as(e)}function gN(e,r){return EN(e)||ON(e,r)||bN(e,r)||mN()}function mN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bN(e,r){if(!!e){if(typeof e=="string")return Pg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Pg(e,r)}}function Pg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ON(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function EN(e){if(Array.isArray(e))return e}function SN(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.rx,f=a===void 0?4:a,p=e.ry,m=p===void 0?4:p,O=e.className,T={cx:t,cy:o,rx:f,ry:m,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(N){var L=gN(N,2),G=L[0],K=L[1],ie=as(K);ie!=="object"&&(T[G]=K)}),O?T.className="lf-basic-shape ".concat(O):T.className="lf-basic-shape",Object(ae.g)("ellipse",T)}function us(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?us=function(t){return typeof t}:us=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},us(e)}function Ec(){return Ec=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ec.apply(this,arguments)}function xN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ag(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PN(e,r,t){return r&&Ag(e.prototype,r),t&&Ag(e,t),e}function AN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Sc(e,r)}function Sc(e,r){return Sc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Sc(e,r)}function TN(e){var r=NN();return function(){var n=ss(e),o;if(r){var a=ss(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return MN(this,o)}}function MN(e,r){if(r&&(us(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wN(e)}function wN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ss(e){return ss=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ss(e)}var xc=function(e){AN(t,e);var r=TN(t);function t(){return xN(this,t),r.apply(this,arguments)}return PN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(ae.g)(SN,Ec({},a,{x:o.x,y:o.y,rx:o.rx,ry:o.ry}))}}]),t}(vn);function ls(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ls=function(t){return typeof t}:ls=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ls(e)}function Tg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Mg(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Tg(Object(t),!0).forEach(function(n){DN(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Tg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function DN(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function jN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function wg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CN(e,r,t){return r&&wg(e.prototype,r),t&&wg(e,t),e}function RN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Pc(e,r)}function Pc(e,r){return Pc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Pc(e,r)}function IN(e){var r=_N();return function(){var n=fs(e),o;if(r){var a=fs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return BN(this,o)}}function BN(e,r){if(r&&(ls(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LN(e)}function LN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _N(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function fs(e){return fs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},fs(e)}var Ac=function(e){RN(t,e);var r=IN(t);function t(){return jN(this,t),r.apply(this,arguments)}return CN(t,[{key:"getBackground",value:function(){var o=this.props.model,a=o.getTextStyle(),f=o.text;if(f&&f.value&&a.background&&a.background.fill!=="transparent"){var p=f.x,m=f.y,O=o.width,T=o.height,N=Mg(Mg({},a.background),{},{x:p,y:m-1,width:O,height:T});return Object(ae.g)(zn,N)}}},{key:"getShape",value:function(){return Object(ae.g)("g",null,this.getBackground())}}]),t}(vn);function cs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cs=function(t){return typeof t}:cs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cs(e)}function Tc(){return Tc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Tc.apply(this,arguments)}function zN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ng(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function FN(e,r,t){return r&&Ng(e.prototype,r),t&&Ng(e,t),e}function GN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Mc(e,r)}function Mc(e,r){return Mc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Mc(e,r)}function HN(e){var r=kN();return function(){var n=ds(e),o;if(r){var a=ds(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return UN(this,o)}}function UN(e,r){if(r&&(cs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Si(e)}function Si(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ds(e){return ds=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ds(e)}function ps(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var wc=function(e){GN(t,e);var r=HN(t);function t(){var n;zN(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),ps(Si(n),"ref",void 0),ps(Si(n),"currentProperties",void 0),ps(Si(n),"preProperties",void 0),ps(Si(n),"setRef",function(p){n.ref=p}),n}return FN(t,[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!(this.preProperties&&this.preProperties===this.currentProperties))return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.props.model,a=o.x,f=o.y,p=o.height,m=o.width,O=o.getNodeStyle();return this.currentProperties=JSON.stringify(o.properties),Object(ae.g)("foreignObject",Tc({},O,{x:a-m/2,y:f-p/2,width:m,height:p,ref:this.setRef}))}}]),t}(vn);function hs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hs=function(t){return typeof t}:hs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hs(e)}function Nc(){return Nc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Nc.apply(this,arguments)}function Dg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ao(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Dg(Object(t),!0).forEach(function(n){Cc(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Dg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function XN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function jg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $N(e,r,t){return r&&jg(e.prototype,r),t&&jg(e,t),e}function YN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Dc(e,r)}function Dc(e,r){return Dc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Dc(e,r)}function WN(e){var r=VN();return function(){var n=vs(e),o;if(r){var a=vs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return KN(this,o)}}function KN(e,r){if(r&&(hs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jc(e)}function jc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function vs(e){return vs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vs(e)}function Cc(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var ZN=function(e){YN(t,e);var r=WN(t);function t(n){var o;return XN(this,t),o=r.call(this,n),Cc(jc(o),"setHoverON",function(){o.setState({isHovered:!0})}),Cc(jc(o),"setHoverOFF",function(){o.setState({isHovered:!1})}),o.state={isHovered:!1},o}return $N(t,[{key:"getBackground",value:function(){var o=this.props.model,a=o.getTextStyle(),f=o.text,p=a.background||{},m=this.state.isHovered;if(m&&a.hover&&a.hover.background&&(p=ao(ao({},p),a.hover.background)),f&&f.value&&p.fill!=="transparent"){var O=a.fontSize,T=a.overflowMode,N=a.lineHeight,L=a.wrapPadding,G=a.textWidth,K=f.value,ie=f.x,oe=f.y,ue=String(K).split(/[\r\n]/g),Me=ue.length,je;if(T==="autoWrap"&&G){var ye=Yp({rows:ue,style:{fontSize:"".concat(O,"px"),width:"".concat(G,"px"),lineHeight:N,padding:L},rowsLength:Me,className:"lf-get-text-height"});je=ao(ao({},p),{},{x:ie-1,y:oe-1,width:G,height:ye})}else{ue&&ue.forEach(function(qe){_h(qe)});var Be=cf({rows:ue,fontSize:O,rowsLength:Me}),Ne=Be.width,ke=Be.height;if(typeof p.wrapPadding=="string"){var Re=p.wrapPadding.split(",").filter(function(qe){return qe.trim()}).map(function(qe){return parseFloat(qe.trim())});Re.length>0&&Re.length<=4&&(Re.length===1?Re=[Re[0],Re[0],Re[0],Re[0]]:Re.length===2?Re=[Re[0],Re[1],Re[0],Re[1]]:Re.length===3&&(Re=[Re[0],Re[1],Re[2],Re[1]]),Ne+=Re[1]+Re[3],ke+=Re[0]+Re[2],ie=ie+(Re[1]-Re[3])/2,oe=oe+(Re[2]-Re[0])/2)}je=ao(ao({},p),{},{x:ie-1,y:oe-1,width:Ne,height:ke})}return Object(ae.g)(zn,je)}}},{key:"getShape",value:function(){var o=this.props.model,a=o.text,f=a.value,p=a.x,m=a.y;if(!!f){var O=o.getTextStyle(),T=ao({x:p,y:m,className:"lf-element-text",value:f},O);return Object(ae.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(ae.g)(dg,Nc({},T,{model:o})))}}}]),t}(vg);function ys(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ys=function(t){return typeof t}:ys=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ys(e)}function Cg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function yn(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Cg(Object(t),!0).forEach(function(n){Tr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Cg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function JN(e,r){return tD(e)||eD(e,r)||qN(e,r)||QN()}function QN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qN(e,r){if(!!e){if(typeof e=="string")return Rg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Rg(e,r)}}function Rg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function eD(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function tD(e){if(Array.isArray(e))return e}function rD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ig(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nD(e,r,t){return r&&Ig(e.prototype,r),t&&Ig(e,t),e}function oD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Rc(e,r)}function Rc(e,r){return Rc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Rc(e,r)}function iD(e){var r=uD();return function(){var n=gs(e),o;if(r){var a=gs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return aD(this,o)}}function aD(e,r){if(r&&(ys(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ar(e)}function Ar(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function gs(e){return gs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gs(e)}function Tr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var tn;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(tn||(tn={}));var Bg=function(e){oD(t,e);var r=iD(t);function t(n){var o;rD(this,t),o=r.call(this),Tr(Ar(o),"stepDragData",void 0),Tr(Ar(o),"stepDrag",void 0),Tr(Ar(o),"oldEdge",void 0),Tr(Ar(o),"preTargetNode",void 0),Tr(Ar(o),"targetRuleResults",void 0),Tr(Ar(o),"sourceRuleResults",void 0),Tr(Ar(o),"handleMouseDown",function(O){o.stepDrag&&o.stepDrag.handleMouseDown(O)}),Tr(Ar(o),"onDragStart",function(){var O=o.props,T=O.x,N=O.y,L=O.edgeModel,G=L.startPoint,K=L.endPoint,ie=L.pointsList;o.oldEdge={startPoint:G,endPoint:K,pointsList:ie},o.setState({endX:T,endY:N,dragging:!0})}),Tr(Ar(o),"onDragging",function(O){var T=O.deltaX,N=O.deltaY,L=o.state,G=L.endX,K=L.endY,ie=o.props,oe=ie.graphModel,ue=ie.type,Me=oe.transformModel,je=oe.editConfigModel,ye=Me.moveCanvasPointByHtml([G,K],T,N),Be=JN(ye,2),Ne=Be[0],ke=Be[1];o.setState({endX:Ne,endY:ke,dragging:!0});var Re=o.props.edgeModel,qe=ja({x:G,y:K},oe);if(qe&&qe.node&&o.isAllowAdjust(qe).pass){var st,Bt=Re.startPoint,Ft=Re.endPoint,Kt=Re.sourceNode,ar=Re.targetNode;ue===tn.SOURCE?st={startPoint:{x:qe.anchor.x,y:qe.anchor.y},endPoint:{x:Ft.x,y:Ft.y},sourceNode:qe.node,targetNode:ar}:ue===tn.TARGET&&(st={startPoint:{x:Bt.x,y:Bt.y},endPoint:{x:qe.anchor.x,y:qe.anchor.y},sourceNode:Kt,targetNode:qe.node}),Re.updateAfterAdjustStartAndEnd(st)}else ue===tn.SOURCE?Re.updateStartPoint({x:Ne,y:ke}):ue===tn.TARGET&&Re.updateEndPoint({x:Ne,y:ke});Re.text.value&&je.adjustEdge&&Re.setText(Object.assign({},Re.text,Re.textPosition))}),Tr(Ar(o),"onDragEnd",function(O){var T=O.event;try{var N;o.setState({dragging:!1});var L=o.props,G=L.graphModel,K=L.edgeModel,ie=L.type,oe=o.state,ue=oe.endX,Me=oe.endY,je=oe.dragging,ye=ja({x:ue,y:Me},G);if(!je)return;var Be=!1,Ne;if(ye&&ye.node){var ke=o.isAllowAdjust(ye),Re=ke.pass,qe=ke.msg,st=ke.newTargetNode;if(Re){var Bt,Ft=K.getData();if(Ne=yn(yn({},Ft),{},{sourceAnchorId:"",targetAnchorId:"",text:(Ft==null||(Bt=Ft.text)===null||Bt===void 0?void 0:Bt.value)||""}),ie===tn.SOURCE){var Kt=G.edgeGenerator(G.getNodeModelById(ye.node.id).getData(),G.getNodeModelById(K.targetNodeId).getData(),Ne);Ne=yn(yn({},Kt),{},{sourceNodeId:ye.node.id,sourceAnchorId:ye.anchor.id,startPoint:{x:ye.anchor.x,y:ye.anchor.y},targetNodeId:K.targetNodeId,endPoint:yn({},K.endPoint)}),K.sourceNodeId===ye.node.id&&K.sourceAnchorId===ye.anchor.id&&(Be=!0)}else if(ie===tn.TARGET){var ar=G.edgeGenerator(G.getNodeModelById(K.sourceNodeId).getData(),G.getNodeModelById(ye.node.id).getData(),Ne);Ne=yn(yn({},ar),{},{sourceNodeId:K.sourceNodeId,startPoint:yn({},K.startPoint),targetNodeId:ye.node.id,targetAnchorId:ye.anchor.id,endPoint:{x:ye.anchor.x,y:ye.anchor.y}}),K.targetNodeId===ye.node.id&&K.targetAnchorId===ye.anchor.id&&(Be=!0)}}else{Be=!0;var bn=st.getData();G.eventCenter.emit(rt.CONNECTION_NOT_ALLOWED,{data:bn,msg:qe})}}else Be=!0;if(Be)o.recoveryEdge();else{G.deleteEdgeById(K.id);var kn=G.addEdge(yn({},Ne));G.eventCenter.emit(rt.EDGE_EXCHANGE_NODE,{data:{newEdge:kn.getData(),oldEdge:K.getData()}})}(N=o.preTargetNode)===null||N===void 0||N.setElementState(bt.DEFAULT)}finally{var on=o.props.graphModel;on.eventCenter.emit(rt.ADJUST_POINT_DRAGEND,{e:T,data:o.stepDragData})}}),Tr(Ar(o),"recoveryEdge",function(){var O=o.props.edgeModel,T=o.oldEdge,N=T.startPoint,L=T.endPoint,G=T.pointsList;O.updateStartPoint(N),O.updateEndPoint(L),O.modelType!==ht.LINE_EDGE&&(O.pointsList=G,O.initPoints())}),Tr(Ar(o),"getAdjustPointStyle",function(){var O=o.props,T=O.graphModel.theme;O.edgeModel;var N=T.edgeAdjust;return N}),o.state={dragging:!1,endX:0,endY:0},o.targetRuleResults=new Map,o.sourceRuleResults=new Map;var a=n.type,f=n.edgeModel,p=n.graphModel,m=p.eventCenter;return o.stepDragData={type:a,edgeData:f.getData()},o.stepDrag=new fn({onDragStart:o.onDragStart,onDragging:o.onDragging,onDragEnd:o.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:m,data:o.stepDragData}),o}return nD(t,[{key:"isAllowAdjust",value:function(o){var a=this.props,f=a.edgeModel,p=f.id,m=f.sourceNode,O=f.targetNode,T=f.sourceAnchorId,N=f.targetAnchorId,L=a.type,G=null,K=null,ie=null,oe=null;if(L===tn.SOURCE?(G=o.node,K=O,ie=o.anchor,oe=O.getAnchorInfo(N)):(G=m,K=o.node,oe=o.anchor,ie=m.getAnchorInfo(T)),this.preTargetNode&&this.preTargetNode!==o.node&&this.preTargetNode.setElementState(bt.DEFAULT),this.preTargetNode=o.node,oe.id===ie.id)return{pass:!1,msg:"",newTargetNode:K};var ue="".concat(G.id,"_").concat(K.id,"_").concat(ie.id,"_").concat(oe.id);if(!this.targetRuleResults.has(ue)){var Me=G.isAllowConnectedAsSource(K,ie,oe,p),je=K.isAllowConnectedAsTarget(G,ie,oe,p);this.sourceRuleResults.set(ue,Ra(Me)),this.targetRuleResults.set(ue,Ra(je))}var ye=this.sourceRuleResults.get(ue),Be=ye.isAllPass,Ne=ye.msg,ke=this.targetRuleResults.get(ue),Re=ke.isAllPass,qe=ke.msg,st=Be&&Re?bt.ALLOW_CONNECT:bt.NOT_ALLOW_CONNECT;return L===tn.SOURCE?G.setElementState(st):K.setElementState(st),{pass:Be&&Re,msg:qe||Ne,newTargetNode:K}}},{key:"render",value:function(){var o=this.props,a=o.x,f=o.y,p=o.getAdjustPointShape,m=o.edgeModel,O=this.state.dragging;return Object(ae.g)("g",{pointerEvents:O?"none":"",onMouseDown:this.handleMouseDown},O?"":p(a,f,m))}}]),t}(ae.a);function ms(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ms=function(t){return typeof t}:ms=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ms(e)}function xi(){return xi=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},xi.apply(this,arguments)}function sD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Lg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lD(e,r,t){return r&&Lg(e.prototype,r),t&&Lg(e,t),e}function fD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Ic(e,r)}function Ic(e,r){return Ic=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Ic(e,r)}function cD(e){var r=pD();return function(){var n=bs(e),o;if(r){var a=bs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return dD(this,o)}}function dD(e,r){if(r&&(ms(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ur(e)}function Ur(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function bs(e){return bs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},bs(e)}function rn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Pi=function(e){fD(t,e);var r=cD(t);function t(){var n;sD(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),rn(Ur(n),"startTime",void 0),rn(Ur(n),"contextMenuTime",void 0),rn(Ur(n),"clickTimer",void 0),rn(Ur(n),"textRef",Object(ae.f)()),rn(Ur(n),"handleHover",function(p,m){var O=n.props,T=O.model,N=O.graphModel.eventCenter;T.setHovered(p);var L=p?rt.EDGE_MOUSEENTER:rt.EDGE_MOUSELEAVE,G=T.getData();N.emit(L,{data:G,e:m})}),rn(Ur(n),"setHoverON",function(p){var m=n.props.model.isHovered;m||(n.textRef&&n.textRef.current.setHoverON(),n.handleHover(!0,p))}),rn(Ur(n),"setHoverOFF",function(p){var m=n.props.model.isHovered;!m||(n.textRef&&n.textRef.current.setHoverOFF(),n.handleHover(!1,p))}),rn(Ur(n),"handleContextMenu",function(p){p.preventDefault(),n.contextMenuTime=new Date().getTime(),n.clickTimer&&clearTimeout(n.clickTimer);var m=n.props,O=m.model,T=m.graphModel,N=T.getPointByClient({x:p.clientX,y:p.clientY});T.setElementStateById(O.id,bt.SHOW_MENU,N.domOverlayPosition),n.toFront(),O.isSelected||T.selectEdgeById(O.id);var L=O==null?void 0:O.getData();T.eventCenter.emit(rt.EDGE_CONTEXTMENU,{data:L,e:p,position:N})}),rn(Ur(n),"handleMouseDown",function(p){p.stopPropagation(),n.startTime=new Date().getTime()}),rn(Ur(n),"handleMouseUp",function(p){if(!!n.startTime){var m=new Date().getTime()-n.startTime;if(!(m>200)){var O=p.button===2;if(!O){var T=p.detail===2,N=n.props,L=N.model,G=N.graphModel,K=L==null?void 0:L.getData(),ie=G.getPointByClient({x:p.clientX,y:p.clientY});if(T){var oe=G.editConfigModel,ue=G.textEditElement;if(ue&&ue.id===L.id&&G.setElementStateById(L.id,bt.DEFAULT),oe.edgeTextEdit&&L.text.editable&&G.setElementStateById(L.id,bt.TEXT_EDIT),L.modelType===ht.POLYLINE_EDGE){var Me=L,je=G.getPointByClient({x:p.x,y:p.y}),ye=je.canvasOverlayPosition,Be=ye.x,Ne=ye.y,ke=Fh({x:Be,y:Ne},Me.points);Me.dbClickPosition=ke}G.eventCenter.emit(rt.EDGE_DBCLICK,{data:K,e:p,position:ie})}else G.eventCenter.emit(rt.ELEMENT_CLICK,{data:K,e:p,position:ie}),G.eventCenter.emit(rt.EDGE_CLICK,{data:K,e:p,position:ie});var Re=G.editConfigModel;G.selectEdgeById(L.id,Fp(p,Re)),n.toFront()}}}}),n}return lD(t,[{key:"getShape",value:function(){return Object(ae.g)("g",null,this.getEdge())}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,a=o.model,f=o.graphModel;if(a.state===bt.TEXT_EDIT)return null;var p=!1,m=f.editConfigModel;return(a.text.draggable||m.edgeTextDraggable)&&(p=!0),Object(ae.g)(ZN,{ref:this.textRef,editable:m.edgeTextEdit&&a.text.editable,model:a,graphModel:f,draggable:p})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.startPoint,f=o.endPoint,p=o.isSelected,m=this.state,O=m.hover;return{start:a,end:f,hover:O,isSelected:p}}},{key:"getArrowStyle",value:function(){return console.error("getArrowStyle is deprecated in 1.2.0, please use model.getArrowStyle"),null}},{key:"getArrow",value:function(){var o=this.props.model,a=o.id,f=o.getArrowStyle(),p=f.refY,m=p===void 0?0:p,O=f.refX,T=O===void 0?2:O;return Object(ae.g)("g",null,Object(ae.g)("defs",null,Object(ae.g)("marker",{id:"marker-start-".concat(a),refX:-T,refY:m,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(ae.g)("marker",{id:"marker-end-".concat(a),refX:T,refY:m,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var o=this.props.model,a=o.getArrowStyle(),f=a.stroke,p=a.strokeWidth,m=a.offset,O=a.verticalLength;return Object(ae.g)("path",{stroke:f,fill:f,strokeWidth:p,d:"M 0 0 L ".concat(m," -").concat(O," L ").concat(m," ").concat(O," Z")})}},{key:"getEndArrow",value:function(){var o=this.props.model,a=o.getArrowStyle(),f=a.stroke,p=a.strokeWidth,m=a.offset,O=a.verticalLength;return Object(ae.g)("path",{stroke:f,fill:f,strokeWidth:p,transform:"rotate(180)",d:"M 0 0 L ".concat(m," -").concat(O," L ").concat(m," ").concat(O," Z")})}},{key:"getAdjustPointShape",value:function(o,a,f){var p=f.getAdjustPointStyle();return Object(ae.g)(gi,xi({className:"lf-edge-adjust-point"},p,{x:o,y:a}))}},{key:"getAdjustPoints",value:function(){var o=this.props,a=o.model,f=o.graphModel,p=a.getAdjustStart(),m=a.getAdjustEnd();return Object(ae.g)("g",null,Object(ae.g)(Bg,xi({type:"SOURCE"},p,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:a,graphModel:f})),Object(ae.g)(Bg,xi({type:"TARGET"},m,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:a,graphModel:f})))}},{key:"getAnimation",value:function(){console.error("getAnimation is deprecated in 1.2.0, please use model.getEdgeAnimationStyle")}},{key:"getAppendWidth",value:function(){return Object(ae.g)("g",null)}},{key:"getAppend",value:function(){return Object(ae.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"getEdge",value:function(){return null}},{key:"toFront",value:function(){var o=this.props,a=o.graphModel,f=o.model,p=a.overlapMode;p!==xr.INCREASE&&a.toFront(f.id)}},{key:"render",value:function(){var o=this.props,a=o.model,f=a.isSelected,p=a.isHitable,m=a.isShowAdjustPoint,O=o.graphModel;return O.animation,Object(ae.g)("g",null,Object(ae.g)("g",{className:["lf-edge",!p&&"pointer-none",f&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow()),m&&f?this.getAdjustPoints():"")}}]),t}(ae.a);function Os(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Os=function(t){return typeof t}:Os=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(e)}function hD(e,r){return mD(e)||gD(e,r)||yD(e,r)||vD()}function vD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yD(e,r){if(!!e){if(typeof e=="string")return _g(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _g(e,r)}}function _g(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function gD(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function mD(e){if(Array.isArray(e))return e}function bD(e){var r={d:""};return Object.entries(e).forEach(function(t){var n=hD(t,2),o=n[0],a=n[1],f=Os(a);(o==="style"||f!=="object")&&(r[o]=a)}),Object(ae.g)("path",r)}var Ai=bD;function Es(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Es=function(t){return typeof t}:Es=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}function Bc(){return Bc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Bc.apply(this,arguments)}function OD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function zg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ED(e,r,t){return r&&zg(e.prototype,r),t&&zg(e,t),e}function SD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Lc(e,r)}function Lc(e,r){return Lc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Lc(e,r)}function xD(e){var r=TD();return function(){var n=Ss(e),o;if(r){var a=Ss(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return PD(this,o)}}function PD(e,r){if(r&&(Es(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AD(e)}function AD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ss(e){return Ss=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ss(e)}var _c=function(e){SD(t,e);var r=xD(t);function t(){return OD(this,t),r.apply(this,arguments)}return ED(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.startPoint,f=o.endPoint,p=o.isAnimation,m=o.arrowConfig,O=o.getEdgeStyle(),T=o.getEdgeAnimationStyle(),N=T.strokeDasharray,L=T.stroke,G=T.strokeDashoffset,K=T.animationName,ie=T.animationDuration,oe=T.animationIterationCount,ue=T.animationTimingFunction,Me=T.animationDirection;return Object(ae.g)(Do,Bc({},O,{x1:a.x,y1:a.y,x2:f.x,y2:f.y},m,p?{strokeDasharray:N,stroke:L,style:{strokeDashoffset:G,animationName:K,animationDuration:ie,animationIterationCount:oe,animationTimingFunction:ue,animationDirection:Me}}:{}))}},{key:"getAppendWidth",value:function(){var o=this.props.model,a=o.startPoint,f=o.endPoint,p={start:a,end:f},m=gA(p),O=m.d,T=m.strokeWidth,N=m.fill,L=m.strokeDasharray,G=m.stroke;return Object(ae.g)(Ai,{d:O,fill:N,strokeWidth:T,stroke:G,strokeDasharray:L})}}]),t}(Pi);function xs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xs=function(t){return typeof t}:xs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xs(e)}function MD(e,r){return jD(e)||DD(e,r)||ND(e,r)||wD()}function wD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ND(e,r){if(!!e){if(typeof e=="string")return Fg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Fg(e,r)}}function Fg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function DD(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function jD(e){if(Array.isArray(e))return e}function CD(e){var r={points:"",fill:"none"};return Object.entries(e).forEach(function(t){var n=MD(t,2),o=n[0],a=n[1];if(o==="style")r[o]=a;else{var f=xs(a);f!=="object"&&(r[o]=a)}}),Object(ae.g)("polyline",r)}var RD=CD;function Ps(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ps=function(t){return typeof t}:Ps=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(e)}function Gg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function As(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Gg(Object(t),!0).forEach(function(n){mn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Gg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function zc(){return zc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},zc.apply(this,arguments)}function ID(e,r){return zD(e)||_D(e,r)||LD(e,r)||BD()}function BD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LD(e,r){if(!!e){if(typeof e=="string")return Hg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Hg(e,r)}}function Hg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function _D(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function zD(e){if(Array.isArray(e))return e}function FD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ug(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GD(e,r,t){return r&&Ug(e.prototype,r),t&&Ug(e,t),e}function HD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Fc(e,r)}function Fc(e,r){return Fc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Fc(e,r)}function UD(e){var r=XD();return function(){var n=Ts(e),o;if(r){var a=Ts(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return kD(this,o)}}function kD(e,r){if(r&&(Ps(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gn(e)}function gn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XD(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ts(e){return Ts=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ts(e)}function mn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Gc=function(e){HD(t,e);var r=UD(t);function t(){var n;return FD(this,t),n=r.call(this),mn(gn(n),"drag",void 0),mn(gn(n),"isDragging",void 0),mn(gn(n),"isShowAdjustPointTemp",void 0),mn(gn(n),"appendInfo",void 0),mn(gn(n),"onDragStart",function(){var o=n.props.model;o.dragAppendStart(),n.isShowAdjustPointTemp=o.isShowAdjustPoint,o.isShowAdjustPoint=!1}),mn(gn(n),"onDragging",function(o){var a=o.deltaX,f=o.deltaY,p=n.props,m=p.model,O=p.graphModel;n.isDragging=!0;var T=O.transformModel,N=O.editConfigModel,L=T.fixDeltaXY(a,f),G=ID(L,2),K=G[0],ie=G[1],oe=m,ue=N.adjustEdgeMiddle;ue?n.appendInfo=oe.dragAppendSimple(n.appendInfo,{x:K,y:ie}):n.appendInfo=oe.dragAppend(n.appendInfo,{x:K,y:ie})}),mn(gn(n),"onDragEnd",function(){var o=n.props,a=o.model,f=o.graphModel.eventCenter,p=a;p.dragAppendEnd(),n.isDragging=!1,p.isShowAdjustPoint=n.isShowAdjustPointTemp,n.appendInfo=void 0,f.emit(rt.EDGE_ADJUST,{data:p.getData()})}),mn(gn(n),"beforeDragStart",function(o,a){a.dragAble&&n.drag.handleMouseDown(o),n.appendInfo=a}),n.drag=new fn({onDragStart:n.onDragStart,onDragging:n.onDragging,onDragEnd:n.onDragEnd,isStopPropagation:!1}),n}return GD(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.points,f=o.isAnimation,p=o.arrowConfig,m=o.getEdgeStyle(),O=o.getEdgeAnimationStyle(),T=O.strokeDasharray,N=O.stroke,L=O.strokeDashoffset,G=O.animationName,K=O.animationDuration,ie=O.animationIterationCount,oe=O.animationTimingFunction,ue=O.animationDirection;return Object(ae.g)(RD,zc({points:a},m,p,f?{strokeDasharray:T,stroke:N,style:{strokeDashoffset:L,animationName:G,animationDuration:K,animationIterationCount:ie,animationTimingFunction:oe,animationDirection:ue}}:{}))}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.points,f=o.isSelected,p=this.state,m=p.hover,O={start:null,end:null,hover:m,isSelected:f},T=Mo(a);return T.length>=2&&(O.start=T[T.length-2],O.end=T[T.length-1]),O}},{key:"getAppendAttributes",value:function(o){var a=o.start,f=o.end,p;if(a.x===f.x&&a.y===f.y)p="";else{var m={start:a,end:f,offset:10,verticalLength:5},O=di(As(As({},m),{},{type:"start"})),T=di(As(As({},m),{},{type:"end"}));p="M".concat(O.leftX," ").concat(O.leftY,` 
      L`).concat(O.rightX," ").concat(O.rightY,` 
      L`).concat(T.rightX," ").concat(T.rightY,`
      L`).concat(T.leftX," ").concat(T.leftY," z")}return{d:p,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var a=this.getAppendAttributes(o),f=a.d,p=a.strokeWidth,m=a.fill,O=a.strokeDasharray,T=a.stroke;return Object(ae.g)(Ai,{d:f,fill:m,strokeWidth:p,stroke:T,strokeDasharray:O})}},{key:"getAppendWidth",value:function(){for(var o=this,a=this.props,f=a.model,p=a.graphModel,m=f.pointsList,O=f.draggable,T=[],N=m.length,L=function(ie){var oe="lf-polyline-append",ue={start:{x:m[ie].x,y:m[ie].y},end:{x:m[ie+1].x,y:m[ie+1].y},startIndex:ie,endIndex:ie+1,direction:"",dragAble:!0},Me=Object(ae.g)("g",{className:oe},o.getAppendShape(ue)),je=p.editConfigModel,ye=je.adjustEdge,Be=je.adjustEdgeMiddle;if(ye&&O){var Ne=ue.startIndex,ke=ue.endIndex,Re=Be&&(Ne===0||ke===N-1);ue.dragAble=!Re,ue.start.x===ue.end.x?(ue.dragAble&&(oe+="-ew-resize"),ue.direction=Dt.VERTICAL):ue.start.y===ue.end.y&&(ue.dragAble&&(oe+="-ns-resize"),ue.direction=Dt.HORIZONTAL),Me=Object(ae.g)("g",{className:o.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(st){return o.beforeDragStart(st,ue)}},Object(ae.g)("g",{className:oe},o.getAppendShape(ue)))}T.push(Me)},G=0;G<N-1;G++)L(G);return Object(ae.g)("g",null,T)}}]),t}(Pi);function Ms(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ms=function(t){return typeof t}:Ms=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(e)}function $D(e,r){return VD(e)||KD(e,r)||WD(e,r)||YD()}function YD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WD(e,r){if(!!e){if(typeof e=="string")return kg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return kg(e,r)}}function kg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function KD(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function VD(e){if(Array.isArray(e))return e}function Hc(){return Hc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Hc.apply(this,arguments)}function ZD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Xg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function JD(e,r,t){return r&&Xg(e.prototype,r),t&&Xg(e,t),e}function QD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Uc(e,r)}function Uc(e,r){return Uc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Uc(e,r)}function qD(e){var r=rj();return function(){var n=ws(e),o;if(r){var a=ws(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return ej(this,o)}}function ej(e,r){if(r&&(Ms(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tj(e)}function tj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rj(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function ws(e){return ws=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ws(e)}var kc=function(e){QD(t,e);var r=qD(t);function t(){return ZD(this,t),r.apply(this,arguments)}return JD(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.getEdgeStyle(),f=o.path,p=o.isAnimation,m=o.arrowConfig,O=o.getEdgeAnimationStyle(),T=O.strokeDasharray,N=O.stroke,L=O.strokeDashoffset,G=O.animationName,K=O.animationDuration,ie=O.animationIterationCount,oe=O.animationTimingFunction,ue=O.animationDirection;return Object(ae.g)(Ai,Hc({d:f},a,m,p?{strokeDasharray:T,stroke:N,style:{strokeDashoffset:L,animationName:G,animationDuration:K,animationIterationCount:ie,animationTimingFunction:oe,animationDirection:ue}}:{}))}},{key:"getAppendWidth",value:function(){var o=this.props.model.path;return Object(ae.g)(Ai,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=this.state,f=a.hover,p=o,m=p.path,O=p.isSelected,T=mA(m),N=$D(T,2),L=N[0],G=N[1],K={start:L,end:G,hover:f,isSelected:O};return K}}]),t}(Pi);function Ns(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ns=function(t){return typeof t}:Ns=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ns(e)}function $g(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function nj(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?$g(Object(t),!0).forEach(function(n){oj(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):$g(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function oj(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ij(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Yg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function aj(e,r,t){return r&&Yg(e.prototype,r),t&&Yg(e,t),e}function uj(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Xc(e,r)}function Xc(e,r){return Xc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Xc(e,r)}function sj(e){var r=cj();return function(){var n=Ds(e),o;if(r){var a=Ds(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return lj(this,o)}}function lj(e,r){if(r&&(Ns(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fj(e)}function fj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cj(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Ds(e){return Ds=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ds(e)}var dj=function(e){uj(t,e);var r=sj(t);function t(){return ij(this,t),r.apply(this,arguments)}return aj(t,[{key:"getArrowAttributes",value:function(){var o=this.props,a=o.arrowInfo,f=o.style,p=a.start,m=a.end,O={start:p,end:m,offset:f.offset,verticalLength:f.verticalLength,type:"end"},T=di(O),N=T.leftX,L=T.leftY,G=T.rightX,K=T.rightY;return nj({d:"M".concat(N," ").concat(L," L").concat(m.x," ").concat(m.y," L").concat(G," ").concat(K," z")},f)}},{key:"getShape",value:function(){var o=this.getArrowAttributes(),a=o.d,f=o.strokeWidth,p=o.stroke,m=o.fill;return Object(ae.g)(Ai,{d:a,fill:m,strokeWidth:f,stroke:p})}},{key:"render",value:function(){return Object(ae.g)("g",{className:"lf-arrow"},this.getShape())}}]),t}(ae.a);function pj(e,r){return Yl(e,r)}var Wg=pj;function hj(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}var vj=hj,yj=function(){return wr.a.Date.now()},$c=yj,gj=/\s/;function mj(e){for(var r=e.length;r--&&gj.test(e.charAt(r)););return r}var bj=mj,Oj=/^\s+/;function Ej(e){return e&&e.slice(0,bj(e)+1).replace(Oj,"")}var Sj=Ej,Kg=0/0,xj=/^[-+]0x[0-9a-f]+$/i,Pj=/^0b[01]+$/i,Aj=/^0o[0-7]+$/i,Tj=parseInt;function Mj(e){if(typeof e=="number")return e;if(Sa(e))return Kg;if(At(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=At(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=Sj(e);var t=Pj.test(e);return t||Aj.test(e)?Tj(e.slice(2),t?2:8):xj.test(e)?Kg:+e}var Vg=Mj,wj="Expected a function",Nj=Math.max,Dj=Math.min;function jj(e,r,t){var n,o,a,f,p,m,O=0,T=!1,N=!1,L=!0;if(typeof e!="function")throw new TypeError(wj);r=Vg(r)||0,At(t)&&(T=!!t.leading,N="maxWait"in t,a=N?Nj(Vg(t.maxWait)||0,r):a,L="trailing"in t?!!t.trailing:L);function G(Ne){var ke=n,Re=o;return n=o=void 0,O=Ne,f=e.apply(Re,ke),f}function K(Ne){return O=Ne,p=setTimeout(ue,r),T?G(Ne):f}function ie(Ne){var ke=Ne-m,Re=Ne-O,qe=r-ke;return N?Dj(qe,a-Re):qe}function oe(Ne){var ke=Ne-m,Re=Ne-O;return m===void 0||ke>=r||ke<0||N&&Re>=a}function ue(){var Ne=$c();if(oe(Ne))return Me(Ne);p=setTimeout(ue,ie(Ne))}function Me(Ne){return p=void 0,L&&n?G(Ne):(n=o=void 0,f)}function je(){p!==void 0&&clearTimeout(p),O=0,n=m=o=p=void 0}function ye(){return p===void 0?f:Me($c())}function Be(){var Ne=$c(),ke=oe(Ne);if(n=arguments,o=this,m=Ne,ke){if(p===void 0)return K(m);if(N)return clearTimeout(p),p=setTimeout(ue,r),G(m)}return p===void 0&&(p=setTimeout(ue,r)),f}return Be.cancel=je,Be.flush=ye,Be}var Cj=jj,Rj=i(166);function Ij(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Zg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Bj(e,r,t){return r&&Zg(e.prototype,r),t&&Zg(e,t),e}function Un(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Lj=function(){function e(r){Ij(this,e),Un(this,"undos",[]),Un(this,"redos",[]),Un(this,"callbacks",[]),Un(this,"stopWatch",null),Un(this,"curData",null),Un(this,"maxSize",50),Un(this,"waitTime",100),Un(this,"eventCenter",void 0),this.eventCenter=r}return Bj(e,[{key:"add",value:function(t){Wg(vj(this.undos),t)||(this.undos.push(t),Wg(this.curData,t)||(this.redos=[]),this.eventCenter.emit(rt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(!!this.undoAble()){var t=this.undos.pop();this.redos.push(t);var n=this.undos.pop();return this.curData=It(n),n}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(!!this.redoAble()){var t=this.redos.pop();return this.curData=It(t),t}}},{key:"watch",value:function(t){var n=this;this.stopWatch&&this.stopWatch(),this.undos.push(t.modelToGraphData()),this.stopWatch=Object(Rj.a)(t,Cj(function(){var o=t.modelToHistoryData();o&&n.add(o)},this.waitTime))}}]),e}(),_j=Lj;function js(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?js=function(t){return typeof t}:js=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},js(e)}var Jg,Qg,qg;function zj(e,r){return Uj(e)||Hj(e,r)||Gj(e,r)||Fj()}function Fj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gj(e,r){if(!!e){if(typeof e=="string")return em(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return em(e,r)}}function em(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Hj(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function Uj(e){if(Array.isArray(e))return e}function tm(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Uo(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?tm(Object(t),!0).forEach(function(n){uo(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):tm(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function kj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function rm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Xj(e,r,t){return r&&rm(e.prototype,r),t&&rm(e,t),e}function $j(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Yc(e,r)}function Yc(e,r){return Yc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Yc(e,r)}function Yj(e){var r=Kj();return function(){var n=Cs(e),o;if(r){var a=Cs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Wj(this,o)}}function Wj(e,r){if(r&&(js(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ko(e)}function ko(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kj(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Cs(e){return Cs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Cs(e)}function uo(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Wc=kr(Jg=(qg=Qg=function(e){$j(t,e);var r=Yj(t);function t(){var n;return kj(this,t),n=r.call(this),uo(ko(n),"ref",Object(ae.f)()),uo(ko(n),"__prevText",{type:"",text:"",id:""}),uo(ko(n),"keyupHandler",function(o){var a=n.props.graphModel.textEditElement;o.key==="Enter"&&o.altKey&&a.setElementState(0)}),uo(ko(n),"inputHandler",function(o){var a=o.target,f=a.innerText,p=n.props.graphModel.textEditElement;n.__prevText={type:p.type,text:f.replace(/(\r\n)+$|(\n)+$/,""),id:p.id}}),uo(ko(n),"keydownHandler",function(o){o.stopPropagation()}),n.state={style:{left:0,top:0}},n}return Xj(t,[{key:"componentDidUpdate",value:function(){var o=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var a=this.__prevText,f=a.text,p=a.id;o.updateText(p,f),o.eventCenter.emit(rt.TEXT_UPDATE,Uo({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(o){if(window.getSelection!==void 0&&document.createRange!==void 0){var a=document.createRange();a.selectNodeContents(o),a.collapse(!1);var f=window.getSelection();f.removeAllRanges(),f.addRange(a)}}},{key:"render",value:function(){var o,a=this.props.graphModel.textEditElement,f=this.state.style;return a?Object(ae.g)("div",{contentEditable:!0,className:"lf-text-input",style:f,ref:this.ref,key:a.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(o=a.text)===null||o===void 0?void 0:o.value):null}}],[{key:"getDerivedStateFromProps",value:function(o){var a=o.graphModel,f=a.transformModel,p=a.theme,m=a.textEditElement,O;if(m){var T;if(!((T=m.text)!==null&&T!==void 0&&T.value))if(m.BaseType===Gt.EDGE){m=m;var N=m.text,L=m.textPosition,G=L.x,K=L.y;N.x=G,N.y=K,m.setText(N)}else m=m;var ie={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(m.BaseType===Gt.EDGE){var oe=p.edgeText,ue=oe.overflowMode,Me=oe.lineHeight,je=oe.wrapPadding,ye=oe.textWidth;ye&&ue==="autoWrap"&&(O=Uo(Uo({},ie),{},{width:ye,minWidth:ye,lineHeight:Me,padding:je}))}else if(m.BaseType===Gt.NODE){var Be=p.nodeText,Ne=Be.overflowMode,ke=Be.lineHeight,Re=Be.wrapPadding,qe=Be.textWidth,st=m,Bt=st.width,Ft=st.modelType;(Ft!==ht.TEXT_NODE&&Ne==="autoWrap"||Ft===ht.TEXT_NODE&&qe)&&(O=Uo(Uo({},ie),{},{width:qe||Bt,minWidth:qe||Bt,lineHeight:ke,padding:Re}))}var Kt=m.text,ar=Kt.x,bn=Kt.y,kn=f.CanvasPointToHtmlPoint([ar,bn]),on=zj(kn,2),Xo=on[0],qc=on[1];return{style:Uo({left:Xo,top:qc},O)}}}}]),t}(ae.a),uo(Qg,"toolName","textEdit"),qg))||Jg,Vj=function(r){var t=r.x,n=r.y,o=r.width,a=r.height;return{x:t-o/2,y:n-a/2,x1:t+o/2,y1:n+a/2}},Zj=function(r){var t=r.startPoint,n=r.endPoint,o=(t.x+n.x)/2,a=(t.y+n.y)/2,f=Math.abs(t.x-n.x)+10,p=Math.abs(t.y-n.y)+10;return{x:o-f/2,y:a-p/2,x1:o+f/2,y1:a+p/2}},Jj=function(r){var t=r.points,n=Mo(t),o=pi(n,8),a=o.x,f=o.y,p=o.width,m=o.height;return{x:a-p/2,y:f-m/2,x1:a+p/2,y1:f+m/2}},Qj=function(r){var t=r.path,n=Xa(t),o=pi(n,8),a=o.x,f=o.y,p=o.width,m=o.height;return{x:a-p/2,y:f-m/2,x1:a+p/2,y1:f+m/2}},qj=function(r){if(r.modelType===ht.LINE_EDGE)return Zj(r);if(r.modelType===ht.POLYLINE_EDGE)return Jj(r);if(r.modelType===ht.BEZIER_EDGE)return Qj(r)};function Rs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rs=function(t){return typeof t}:Rs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rs(e)}var nm,om,im;function am(e,r){return rC(e)||tC(e,r)||um(e,r)||eC()}function eC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tC(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(m){a=!0,p=m}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function rC(e){if(Array.isArray(e))return e}function nC(e){return aC(e)||iC(e)||um(e)||oC()}function oC(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function um(e,r){if(!!e){if(typeof e=="string")return Kc(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Kc(e,r)}}function iC(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aC(e){if(Array.isArray(e))return Kc(e)}function Kc(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function uC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function sm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function sC(e,r,t){return r&&sm(e.prototype,r),t&&sm(e,t),e}function lC(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Vc(e,r)}function Vc(e,r){return Vc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Vc(e,r)}function fC(e){var r=dC();return function(){var n=Is(e),o;if(r){var a=Is(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return cC(this,o)}}function cC(e,r){if(r&&(Rs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ti(e)}function Ti(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dC(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Is(e){return Is=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Is(e)}function Mi(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Zc=kr(nm=(im=om=function(e){lC(t,e);var r=fC(t);function t(n){var o;uC(this,t),o=r.call(this),Mi(Ti(o),"stepDrag",void 0),Mi(Ti(o),"handleMouseDown",function(m){o.stepDrag.handleMouseDown(m)}),Mi(Ti(o),"onDragging",function(m){var O=m.deltaX,T=m.deltaY,N=o.props.graphModel,L=N.getSelectElements(!0);N.moveNodes(L.nodes.map(function(G){return G.id}),O,T)}),Mi(Ti(o),"handleContextMenu",function(m){m.preventDefault();var O=o.props,T=O.graphModel,N=O.graphModel,L=N.eventCenter,G=N.selectElements,K=T.getPointByClient({x:m.clientX,y:m.clientY}),ie={nodes:[],edges:[]},oe=nC(G.values());oe.forEach(function(ue){ue.BaseType===Gt.NODE&&ie.nodes.push(ue.getData()),ue.BaseType===Gt.EDGE&&ie.edges.push(ue.getData())}),L.emit(rt.SELECTION_CONTEXTMENU,{data:ie,e:m,position:K})});var a=n.graphModel,f=a.gridSize,p=a.eventCenter;return o.stepDrag=new fn({onDragging:o.onDragging,step:f,eventType:"SELECTION",eventCenter:p}),o}return sC(t,[{key:"render",value:function(){var o=this.props.graphModel,a=o.selectElements,f=o.transformModel;if(!(a.size<=1)){var p=Number.MAX_SAFE_INTEGER,m=Number.MAX_SAFE_INTEGER,O=Number.MIN_SAFE_INTEGER,T=Number.MIN_SAFE_INTEGER;a.forEach(function(oe){var ue={x:0,y:0,x1:0,y1:0};oe.BaseType===Gt.NODE&&(ue=Vj(oe)),oe.BaseType===Gt.EDGE&&(ue=qj(oe)),p=Math.min(p,ue.x),m=Math.min(m,ue.y),O=Math.max(O,ue.x1),T=Math.max(T,ue.y1)});var N=f.CanvasPointToHtmlPoint([p,m]),L=am(N,2);p=L[0],m=L[1];var G=f.CanvasPointToHtmlPoint([O,T]),K=am(G,2);O=K[0],T=K[1];var ie={left:"".concat(p-10,"px"),top:"".concat(m-10,"px"),width:"".concat(O-p+20,"px"),height:"".concat(T-m+20,"px")};return Object(ae.g)("div",{className:"lf-multiple-select",style:ie,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}]),t}(ae.a),Mi(om,"toolName","multipleSelect"),im))||nm;function pC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function lm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function hC(e,r,t){return r&&lm(e.prototype,r),t&&lm(e,t),e}function Bs(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var vC=function(){function e(r){pC(this,e),Bs(this,"tools",void 0),Bs(this,"components",void 0),Bs(this,"toolMap",new Map),Bs(this,"instance",void 0),this.instance=r,this.isDisabledTool(Wc.toolName)||this.registerTool(Wc.toolName,Wc),this.isDisabledTool(Zc.toolName)||this.registerTool(Zc.toolName,Zc);var t=r.graphModel,n=t.eventCenter;n.on("".concat(rt.GRAPH_TRANSFORM,",").concat(rt.NODE_CLICK,",").concat(rt.BLANK_CLICK," "),function(){var o=t.textEditElement,a=t.editConfigModel,f=a.edgeTextEdit,p=a.nodeTextEdit;(f||p)&&o&&t.textEditElement.setElementState(bt.DEFAULT)})}return hC(e,[{key:"isDisabledTool",value:function(t){return this.instance.options.disabledTools.indexOf(t)!==-1}},{key:"registerTool",value:function(t,n){this.toolMap.set(t,n)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}]),e}(),yC=i(167),gC=i.n(yC);function mC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function fm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bC(e,r,t){return r&&fm(e.prototype,r),t&&fm(e,t),e}function Jc(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var cm=function(){function e(r){mC(this,e),Jc(this,"mousetrap",void 0),Jc(this,"options",void 0),Jc(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var t=r.lf;this.target=t.container,this.mousetrap=new gC.a,r.keyboard.enabled&&this.enable(!0)}return bC(e,[{key:"initShortcuts",value:function(){var t=this,n=this.options.keyboard.shortcuts;if(n)if(d(n))n.forEach(function(p){var m=p.keys,O=p.callback,T=p.action;return t.on(m,O,T)});else{var o=n.keys,a=n.callback,f=n.action;this.on(o,a,f)}}},{key:"on",value:function(t,n,o){this.mousetrap.bind(this.getKeys(t),n,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(t,n){this.mousetrap.unbind(this.getKeys(t),n)}},{key:"enable",value:function(t){(this.disabled||t)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(t){var n=this;return(Array.isArray(t)?t:[t]).map(function(o){return n.formatKey(o)})}},{key:"formatKey",value:function(t){var n=t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command");return n}}]),e}(),OC=cm,nn=null;function dm(e,r){return e.x+=r,e.y+=r,e.text&&(e.text.x+=r,e.text.y+=r),e}function pm(e,r){return e.startPoint&&(e.startPoint.x+=r,e.startPoint.y+=r),e.endPoint&&(e.endPoint.x+=r,e.endPoint.y+=r),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(t){t.x+=r,t.y+=r}),e.text&&(e.text.x+=r,e.text.y+=r),e}var Ls=40;function EC(e,r){var t=e.keyboard,n=t.options.keyboard;t.on(["cmd + c","ctrl + c"],function(){if(!n.enabled||r.textEditElement)return!0;var o=e.options.guards,a=r.getSelectElements(!1),f=o&&o.beforeClone?o.beforeClone(a):!0;return!f||a.nodes.length===0&&a.edges.length===0?(nn=null,!0):(nn=a,nn.nodes.forEach(function(p){return dm(p,Ls)}),nn.edges.forEach(function(p){return pm(p,Ls)}),!1)}),t.on(["cmd + v","ctrl + v"],function(){if(!n.enabled||r.textEditElement)return!0;if(nn&&(nn.nodes||nn.edges)){e.clearSelectElements();var o=e.addElements(nn);if(!o)return!0;o.nodes.forEach(function(a){return e.selectElementById(a.id,!0)}),o.edges.forEach(function(a){return e.selectElementById(a.id,!0)}),nn.nodes.forEach(function(a){return dm(a,Ls)}),nn.edges.forEach(function(a){return pm(a,Ls)})}return!1}),t.on(["cmd + z","ctrl + z"],function(){return!n.enabled||r.textEditElement?!0:(e.undo(),!1)}),t.on(["cmd + y","ctrl + y"],function(){return!n.enabled||r.textEditElement?!0:(e.redo(),!1)}),t.on(["backspace"],function(){if(!n.enabled||r.textEditElement)return!0;var o=r.getSelectElements(!0);return e.clearSelectElements(),o.edges.forEach(function(a){return e.deleteEdge(a.id)}),o.nodes.forEach(function(a){return e.deleteNode(a.id)}),!1})}function SC(e,r){e.on("node:mousemove",function(t){var n=t.data;r.setNodeSnapLine(n)}),e.on("node:mouseup",function(){r.clearSnapline()})}function _s(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_s=function(t){return typeof t}:_s=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_s(e)}function hm(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function wi(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?hm(Object(t),!0).forEach(function(n){zt(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):hm(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function xC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function vm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PC(e,r,t){return r&&vm(e.prototype,r),t&&vm(e,t),e}function zt(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Qc=function(){function e(r){var t=this;xC(this,e),zt(this,"container",void 0),zt(this,"width",void 0),zt(this,"height",void 0),zt(this,"graphModel",void 0),zt(this,"history",void 0),zt(this,"viewMap",new Map),zt(this,"tool",void 0),zt(this,"keyboard",void 0),zt(this,"dnd",void 0),zt(this,"options",void 0),zt(this,"snaplineModel",void 0),zt(this,"components",[]),zt(this,"plugins",void 0),zt(this,"extension",{}),zt(this,"adapterIn",void 0),zt(this,"adapterOut",void 0),zt(this,"getView",function(n){return t.viewMap.get(n)}),r=Fv(r),this.options=r,this.container=r.container,this.plugins=r.plugins,this.graphModel=new BA(wi({},r)),this.tool=new vC(this),this.history=new _j(this.graphModel.eventCenter),this.dnd=new OM({lf:this}),this.keyboard=new OC({lf:this,keyboard:r.keyboard}),r.snapline!==!1&&(this.snaplineModel=new ig(this.graphModel),SC(this.graphModel.eventCenter,this.snaplineModel)),EC(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(r.disabledPlugins)}return PC(e,[{key:"register",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(typeof t!="string"){this.registerElement(t);return}var a={BaseEdge:Pi,BaseEdgeModel:pf,BaseNode:vn,BaseNodeModel:pn,RectNode:cc,RectNodeModel:qf,CircleNode:hc,CircleNodeModel:Uf,PolygonNode:gc,PolygonNodeModel:Zf,TextNode:Ac,TextNodeModel:tc,LineEdge:_c,LineEdgeModel:yf,DiamondNode:Oc,DiamondNodeModel:$f,PolylineEdge:Gc,PolylineEdgeModel:bf,BezierEdge:kc,BezierEdgeModel:Ff,EllipseNode:xc,EllipseNodeModel:Wf,HtmlNode:wc,HtmlNodeModel:nc,h:ae.g,type:t};this.viewMap.forEach(function(T){var N=T.extendKey;N&&(a[N]=T)}),this.graphModel.modelMap.forEach(function(T){var N=T.extendKey;N&&(a[N]=T)});var f=n(a),p=f.view,m=f.model,O=p;o&&!O.isObervered&&(O.isObervered=!0,O=Ot(O)),this.setView(t,O),this.graphModel.setModel(t,m)}},{key:"registerElement",value:function(t){var n=t.view;t.isObserverView!==!1&&!n.isObervered&&(n.isObervered=!0,n=Ot(n)),this.setView(t.type,n),this.graphModel.setModel(t.type,t.model)}},{key:"batchRegister",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];n.forEach(function(o){t.registerElement(o)})}},{key:"defaultRegister",value:function(){this.registerElement({view:cc,model:qf,type:"rect"}),this.registerElement({type:"circle",view:hc,model:Uf}),this.registerElement({type:"polygon",view:gc,model:Zf}),this.registerElement({type:"line",view:_c,model:yf}),this.registerElement({type:"polyline",view:Gc,model:bf}),this.registerElement({type:"bezier",view:kc,model:Ff}),this.registerElement({type:"text",view:Ac,model:tc}),this.registerElement({type:"ellipse",view:xc,model:Wf}),this.registerElement({type:"diamond",view:Oc,model:$f}),this.registerElement({type:"html",view:wc,model:nc})}},{key:"selectElementById",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;this.graphModel.selectElementById(t,n),!n&&o&&this.graphModel.toFront(t)}},{key:"focusOn",value:function(t){var n=this.graphModel.transformModel,o=t.coordinate,a=t.id;if(!o){var f=this.getNodeModelById(a);f&&(o=f.getData());var p=this.getEdgeModelById(a);p&&(o=p.textPosition)}var m=o,O=m.x,T=m.y;n.focusOn(O,T,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(t){this.graphModel.setTheme(t)}},{key:"resize",value:function(t,n){this.graphModel.resize(t,n),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(t){this.graphModel.setDefaultEdgeType(t)}},{key:"updateText",value:function(t,n){this.graphModel.updateText(t,n)}},{key:"deleteElement",value:function(t){var n,o,a,f=this.getModelById(t);if(!f)return!1;var p=(n={},zt(n,Gt.NODE,this.deleteNode),zt(n,Gt.EDGE,this.deleteEdge),n),m=f.BaseType;return(o=(a=p[m])===null||a===void 0?void 0:a.call(this,t))!==null&&o!==void 0?o:!1}},{key:"getModelById",value:function(t){return this.graphModel.getElement(t)}},{key:"getDataById",value:function(t){var n;return(n=this.graphModel.getElement(t))===null||n===void 0?void 0:n.getData()}},{key:"changeNodeType",value:function(t,n){this.graphModel.changeNodeType(t,n)}},{key:"changeEdgeType",value:function(t,n){this.graphModel.changeEdgeType(t,n)}},{key:"getNodeEdges",value:function(t){return this.graphModel.getNodeEdges(t)}},{key:"addNode",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rt.NODE_ADD;return this.graphModel.addNode(t,n)}},{key:"deleteNode",value:function(t){var n=this.graphModel.getNodeModelById(t);if(!n)return!1;var o=n.getData(),a=this.options.guards,f=a&&a.beforeDelete?a.beforeDelete(o):!0;return f&&this.graphModel.deleteNode(t),f}},{key:"cloneNode",value:function(t){var n=this.graphModel.getNodeModelById(t),o=n.getData(),a=this.options.guards,f=a&&a.beforeClone?a.beforeClone(o):!0;if(f)return this.graphModel.cloneNode(t)}},{key:"changeNodeId",value:function(t,n){return this.graphModel.changeNodeId(t,n)}},{key:"getNodeModelById",value:function(t){return this.graphModel.getNodeModelById(t)}},{key:"getNodeDataById",value:function(t){return this.graphModel.getNodeModelById(t).getData()}},{key:"addEdge",value:function(t){return this.graphModel.addEdge(t)}},{key:"deleteEdge",value:function(t){var n=this.options.guards,o=this.graphModel.edgesMap[t];if(!o)return!1;var a=o.model.getData(),f=n&&n.beforeDelete?n.beforeDelete(a):!0;return f&&this.graphModel.deleteEdgeById(t),f}},{key:"deleteEdgeByNodeId",value:function(t){var n=t.sourceNodeId,o=t.targetNodeId;n&&o?this.graphModel.deleteEdgeBySourceAndTarget(n,o):n?this.graphModel.deleteEdgeBySource(n):o&&this.graphModel.deleteEdgeByTarget(o)}},{key:"changeEdgeId",value:function(t,n){return this.graphModel.changeEdgeId(t,n)}},{key:"getEdgeModelById",value:function(t){var n,o=this.graphModel.edgesMap;return(n=o[t])===null||n===void 0?void 0:n.model}},{key:"getEdgeModels",value:function(t){var n=this.graphModel.edges,o=t.sourceNodeId,a=t.targetNodeId;if(o&&a){var f=[];return n.forEach(function(O){O.sourceNodeId===o&&O.targetNodeId===a&&f.push(O)}),f}if(o){var p=[];return n.forEach(function(O){O.sourceNodeId===o&&p.push(O)}),p}if(a){var m=[];return n.forEach(function(O){O.targetNodeId===a&&m.push(O)}),m}return[]}},{key:"getEdgeDataById",value:function(t){var n;return(n=this.getEdgeModelById(t))===null||n===void 0?void 0:n.getData()}},{key:"getNodeIncomingEdge",value:function(t){return this.graphModel.getNodeIncomingEdge(t)}},{key:"getNodeOutgoingEdge",value:function(t){return this.graphModel.getNodeOutgoingEdge(t)}},{key:"getNodeIncomingNode",value:function(t){return this.graphModel.getNodeIncomingNode(t)}},{key:"getNodeOutgoingNode",value:function(t){return this.graphModel.getNodeOutgoingNode(t)}},{key:"editText",value:function(t){this.graphModel.editText(t)}},{key:"setProperties",value:function(t,n){var o;(o=this.graphModel.getElement(t))===null||o===void 0||o.setProperties(nr(n))}},{key:"deleteProperty",value:function(t,n){var o;(o=this.graphModel.getElement(t))===null||o===void 0||o.deleteProperty(n)}},{key:"getProperties",value:function(t){var n;return(n=this.graphModel.getElement(t))===null||n===void 0?void 0:n.getProperties()}},{key:"toFront",value:function(t){this.graphModel.toFront(t)}},{key:"setElementZIndex",value:function(t,n){return this.graphModel.setElementZIndex(t,n)}},{key:"addElements",value:function(t){for(var n=this,o=t.nodes,a=t.edges,f={},p={nodes:[],edges:[]},m=0;m<o.length;m++){var O=o[m],T=O.id,N=this.addNode(O);if(!N)return;T&&(f[T]=N.id),p.nodes.push(N)}return a.forEach(function(L){var G=L.sourceNodeId,K=L.targetNodeId;f[G]&&(G=f[G]),f[K]&&(K=f[K]);var ie=n.graphModel.addEdge(wi(wi({},L),{},{sourceNodeId:G,targetNodeId:K}));p.edges.push(ie)}),p}},{key:"getAreaElement",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return this.graphModel.getAreaElement(t,n,o,a,f).map(function(p){return p.getData()})}},{key:"getSelectElements",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.graphModel.getSelectElements(t)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var t=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(t):t}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(t){this.graphModel.editConfigModel.updateEditConfig(t)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(t,n){return this.graphModel.getPointByClient({x:t,y:n})}},{key:"undo",value:function(){if(!!this.history.undoAble()){var t=nr(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"redo",value:function(){if(!!this.history.redoAble()){var t=nr(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"zoom",value:function(t,n){var o=this.graphModel.transformModel;return o.zoom(t,n)}},{key:"resetZoom",value:function(){var t=this.graphModel.transformModel;t.resetZoom()}},{key:"setZoomMiniSize",value:function(t){var n=this.graphModel.transformModel;n.setZoomMiniSize(t)}},{key:"setZoomMaxSize",value:function(t){var n=this.graphModel.transformModel;n.setZoomMaxSize(t)}},{key:"getTransform",value:function(){var t=this.graphModel.transformModel,n=t.SCALE_X,o=t.SCALE_Y,a=t.TRANSLATE_X,f=t.TRANSLATE_Y;return{SCALE_X:n,SCALE_Y:o,TRANSLATE_X:a,TRANSLATE_Y:f}}},{key:"translate",value:function(t,n){var o=this.graphModel.transformModel;o.translate(t,n)}},{key:"resetTranslate",value:function(){var t=this.graphModel.transformModel,n=t.TRANSLATE_X,o=t.TRANSLATE_Y;this.translate(-n,-o)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(t,n){n===void 0&&(n=t),this.graphModel.fitView(t,n)}},{key:"openEdgeAnimation",value:function(t){this.graphModel.openEdgeAnimation(t)}},{key:"closeEdgeAnimation",value:function(t){this.graphModel.closeEdgeAnimation(t)}},{key:"on",value:function(t,n){this.graphModel.eventCenter.on(t,n)}},{key:"off",value:function(t,n){this.graphModel.eventCenter.off(t,n)}},{key:"once",value:function(t,n){this.graphModel.eventCenter.once(t,n)}},{key:"emit",value:function(t,n){this.graphModel.eventCenter.emit(t,n)}},{key:"installPlugins",value:function(){var t,n=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=(t=this.plugins)!==null&&t!==void 0?t:e.extensions;a.forEach(function(f){var p=f.pluginName||f.name;o.indexOf(p)===-1&&n.installPlugin(f)})}},{key:"installPlugin",value:function(t){if(_s(t)==="object"){var n=t.install,o=t.render;n&&n.call(t,this,e),o&&this.components.push(o.bind(t)),this.extension[t.pluginName]=t;return}var a=t,f=new a({lf:this,LogicFlow:e,options:this.options.pluginsOptions});f.render&&this.components.push(f.render.bind(f)),this.extension[a.pluginName]=f}},{key:"updateAttributes",value:function(t,n){this.graphModel.updateAttributes(t,n)}},{key:"createFakerNode",value:function(t){var n=this.graphModel.modelMap.get(t.type);if(!n){console.warn("\u4E0D\u5B58\u5728\u4E3A".concat(t.type,"\u7C7B\u578B\u7684\u8282\u70B9"));return}var o=new n(wi(wi({},t),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(o),o}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(t){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(t)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(t,n){this.viewMap.set(t,n)}},{key:"renderRawData",value:function(t){this.graphModel.graphDataToModel(nr(t)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(ae.j)(Object(ae.g)(gM,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(rt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(t=this.adapterIn(t)),this.renderRawData(t)}}],[{key:"use",value:function(t){var n=t.pluginName;n||(console.warn("\u8BF7\u7ED9\u63D2\u4EF6".concat(t.name||t.constructor.name,"\u6307\u5B9ApluginName!")),n=t.name);var o=this.extensions.get(n);o&&o.destroy&&o.destroy(),this.extensions.set(n,t)}}]),e}();zt(Qc,"extensions",new Map);function kr(e){return Ot(e)}c.default=Qc}])})})(Ke,Ke.exports);var Yo=XC(Ke.exports),sR=new Zm([32,32,1]);function Zo(){return sR.next()}var Qm=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),lR=function(g){Qm(v,g);function v(u,c){var i=this;return u.id||(u.id="Event_"+Zo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=g.call(this,u,c)||this,i}return v.prototype.setAttributes=function(){this.r=18},v.prototype.getConnectedTargetRules=function(){var u=g.prototype.getConnectedTargetRules.call(this),c={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u7EC8\u70B9",validate:function(){return!1}};return u.push(c),u},v.extendKey="StartEventModel",v}(Ke.exports.CircleNodeModel),fR=function(g){Qm(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.extendKey="StartEventNode",v}(Ke.exports.CircleNode),cR={type:"bpmn:startEvent",view:fR,model:lR},qm=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),$s=globalThis&&globalThis.__assign||function(){return $s=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},$s.apply(this,arguments)},dR=function(g){qm(v,g);function v(u,c){var i=this;return u.id||(u.id="Event_"+Zo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=g.call(this,u,c)||this,i}return v.prototype.setAttributes=function(){this.r=18},v.prototype.getConnectedSourceRules=function(){var u=g.prototype.getConnectedSourceRules.call(this),c={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u8D77\u70B9",validate:function(){return!1}};return u.push(c),u},v.extendKey="EndEventModel",v}(Ke.exports.CircleNodeModel),pR=function(g){qm(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},v.prototype.getShape=function(){var u=this.props.model,c=u.getNodeStyle(),i=u.x,s=u.y,l=u.r,y=g.prototype.getShape.call(this);return Ke.exports.h("g",{},y,Ke.exports.h("circle",$s($s({},c),{cx:i,cy:s,r:l-5})))},v.extendKey="EndEventView",v}(Ke.exports.CircleNode),hR={type:"bpmn:endEvent",view:pR,model:dR},eb=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Ri=globalThis&&globalThis.__assign||function(){return Ri=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},Ri.apply(this,arguments)},vR=function(g){eb(v,g);function v(u,c){var i=this;return u.id||(u.id="Gateway_"+Zo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=g.call(this,u,c)||this,i.points=[[25,0],[50,25],[25,50],[0,25]],i}return v.extendKey="ExclusiveGatewayModel",v}(Ke.exports.PolygonNodeModel),yR=function(g){eb(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,l=u.height,y=u.points,b=u.getNodeStyle();return Ke.exports.h("g",{transform:"matrix(1 0 0 1 "+(c-s/2)+" "+(i-l/2)+")"},Ke.exports.h("polygon",Ri(Ri({},b),{x:c,y:i,points:y})),Ke.exports.h("path",Ri({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},b)))},v.extendKey="ExclusiveGatewayNode",v}(Ke.exports.PolygonNode),gR={type:"bpmn:exclusiveGateway",view:yR,model:vR},tb=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Ys=globalThis&&globalThis.__assign||function(){return Ys=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},Ys.apply(this,arguments)},mR=function(g){tb(v,g);function v(u,c){var i=this;return u.id||(u.id="Activity_"+Zo()),i=g.call(this,u,c)||this,i}return v.extendKey="UserTaskModel",v}(Ke.exports.RectNodeModel),bR=function(g){tb(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getLabelShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,l=u.height,y=u.getNodeStyle();return Ke.exports.h("svg",{x:c-s/2+5,y:i-l/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Ke.exports.h("path",{fill:y.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},v.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,l=u.height,y=u.radius,b=u.getNodeStyle();return Ke.exports.h("g",{},[Ke.exports.h("rect",Ys(Ys({},b),{x:c-s/2,y:i-l/2,rx:y,ry:y,width:s,height:l})),this.getLabelShape()])},v.extendKey="UserTaskNode",v}(Ke.exports.RectNode),OR={type:"bpmn:userTask",view:bR,model:mR},rb=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),nd=globalThis&&globalThis.__assign||function(){return nd=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},nd.apply(this,arguments)},ER=function(g){rb(v,g);function v(u,c){var i=this;return u.id||(u.id="Activity_"+Zo()),i=g.call(this,u,c)||this,i}return v.extendKey="ServiceTaskModel",v}(Ke.exports.RectNodeModel),SR=function(g){rb(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getLabelShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,l=u.height,y=u.getNodeStyle();return Ke.exports.h("svg",{x:c-s/2+5,y:i-l/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Ke.exports.h("path",{fill:y.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},v.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,l=u.height,y=u.radius,b=u.getNodeStyle();return Ke.exports.h("g",{},[Ke.exports.h("rect",nd({x:c-s/2,y:i-l/2,rx:y,ry:y,width:s,height:l},b)),this.getLabelShape()])},v.extendKey="ServiceTaskNode",v}(Ke.exports.RectNode),xR={type:"bpmn:serviceTask",view:SR,model:ER},nb=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),PR=function(g){nb(v,g);function v(u,c){var i=this;return u.id||(u.id="Flow_"+Zo()),i=g.call(this,u,c)||this,i}return v.extendKey="SequenceFlowModel",v}(Ke.exports.PolylineEdgeModel),AR=function(g){nb(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.extendKey="SequenceFlowEdge",v}(Ke.exports.PolylineEdge),TR={type:"bpmn:sequenceFlow",view:AR,model:PR},Am={width:40,height:40},Tm={width:40,height:40},Mm={width:40,height:40},wm={width:100,height:80},Nm={width:100,height:80},MR={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},wR=function(){function g(v){var u=v.lf;u.setTheme(MR),u.register(cR),u.register(hR),u.register(gR),u.register(OR),u.register(xR),u.options.customBpmnEdge||(u.register(TR),u.setDefaultEdgeType("bpmn:sequenceFlow"))}return g.pluginName="bpmnElement",g}(),NR=function(){function g(v){var u=this,c=v.lf;this.lf=c,this.customCssRules="",this.useGlobalRules=!0,c.getSnapshot=function(i,s){u.getSnapshot(i,s)},c.getSnapshotBlob=function(i){return u.getSnapshotBlob(i)},c.getSnapshotBase64=function(i){return u.getSnapshotBase64(i)}}return g.prototype.getSvgRootElement=function(v){var u=this;this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,v.graphModel.nodes.forEach(function(i){var s=i.x,l=i.width,y=i.y,b=i.height,x=s-l/2,S=y-b/2;x<u.offsetX&&(u.offsetX=x-5),S<u.offsetY&&(u.offsetY=S-5)}),v.graphModel.edges.forEach(function(i){i.pointsList&&i.pointsList.forEach(function(s){var l=s.x,y=s.y;l<u.offsetX&&(u.offsetX=l-5),y<u.offsetY&&(u.offsetY=y-5)})});var c=v.container.querySelector(".lf-canvas-overlay");return c},g.prototype.triggerDownload=function(v){var u=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),c=document.createElement("a");c.setAttribute("download",this.fileName),c.setAttribute("href",v),c.setAttribute("target","_blank"),c.dispatchEvent(u)},g.prototype.removeAnchor=function(v){for(var u=v.childNodes,c=v.childNodes&&v.childNodes.length,i=0;i<c;i++){var s=u[i],l=s.classList&&Array.from(s.classList)||[];l.indexOf("lf-anchor")>-1&&(v.removeChild(v.childNodes[i]),c--,i--)}},g.prototype.getSnapshot=function(v,u){var c=this;this.fileName=v||"logic-flow."+Date.now()+".png";var i=this.getSvgRootElement(this.lf);this.getCanvasData(i,u).then(function(s){var l=s.toDataURL("image/png").replace("image/png","image/octet-stream");c.triggerDownload(l)})},g.prototype.getSnapshotBase64=function(v){var u=this,c=this.getSvgRootElement(this.lf);return new Promise(function(i){u.getCanvasData(c,v).then(function(s){var l=s.toDataURL("image/png");i({data:l,width:s.width,height:s.height})})})},g.prototype.getSnapshotBlob=function(v){var u=this,c=this.getSvgRootElement(this.lf);return new Promise(function(i){u.getCanvasData(c,v).then(function(s){s.toBlob(function(l){i({data:l,width:s.width,height:s.height})},"image/png")})})},g.prototype.getClassRules=function(){var v="";if(this.useGlobalRules)for(var u=document.styleSheets,c=0;c<u.length;c++)for(var i=u[c],s=0;s<i.cssRules.length;s++)v+=i.cssRules[s].cssText;return this.customCssRules&&(v+=this.customCssRules),v},g.prototype.getCanvasData=function(v,u){var c=this,i=v.cloneNode(!0),s=i.lastChild,l=s.childNodes&&s.childNodes.length;if(l)for(var y=0;y<l;y++){var b=s.childNodes[y],x=b.classList&&Array.from(b.classList);if(x&&x.indexOf("lf-base")<0)s.removeChild(s.childNodes[y]),l--,y--;else{var S=s.childNodes[y];S&&S.childNodes.forEach(function(_){var U=_;c.removeAnchor(U.firstChild)})}}i.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var P=window.devicePixelRatio||1,M=document.createElement("canvas"),A=this.lf.graphModel.rootEl.querySelector(".lf-base"),j=A.getBoundingClientRect(),C=this.lf.graphModel,I=C.transformModel,z=I.SCALE_X,X=I.SCALE_Y,Y=Math.ceil(j.width/z),le=Math.ceil(j.height/X);M.style.width=Y+"px",M.style.height=le+"px",M.width=Y*P+80,M.height=le*P+80;var se=M.getContext("2d");se.clearRect(0,0,M.width,M.height),se.scale(P,P),u?(se.fillStyle=u,se.fillRect(0,0,Y*P+80,le*P+80)):se.clearRect(0,0,Y,le);var te=new Image,Q=document.createElement("style");Q.innerHTML=this.getClassRules();var ee=document.createElement("foreignObject");return ee.appendChild(Q),i.appendChild(ee),new Promise(function(_){te.onload=function(){var w=navigator.userAgent.indexOf("Firefox")>-1;try{w?createImageBitmap(te,{resizeWidth:M.width,resizeHeight:M.height}).then(function(R){se.drawImage(R,0,0),_(M)}):(se.drawImage(te,0,0),_(M))}catch(R){se.drawImage(te,0,0),_(M)}};var U="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(i),B=U.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");te.src=B})},g.pluginName="snapshot",g}(),DR=new Zm([32,32,1]);function Dm(){return DR.next()}var gr=function(){};gr.ObjTree=function(){return this};gr.ObjTree.VERSION="0.23";gr.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;gr.ObjTree.prototype.attr_prefix="-";gr.ObjTree.prototype.parseXML=function(g){var v;if(window.DOMParser){var u=new DOMParser,c=u.parseFromString(g,"application/xml");if(!c)return;v=c.documentElement}else window.ActiveXObject&&(u=new ActiveXObject("Microsoft.XMLDOM"),u.async=!1,u.loadXML(g),v=u.documentElement);if(!!v)return this.parseDOM(v)};gr.ObjTree.prototype.parseHTTP=function(g,v,u){var c={};for(var i in v)c[i]=v[i];if(c.method||(typeof c.postBody=="undefined"&&typeof c.postbody=="undefined"&&typeof c.parameters=="undefined"?c.method="get":c.method="post"),u){c.asynchronous=!0;var s=this,l=u,y=c.onComplete;c.onComplete=function(S){var P;S&&S.responseXML&&S.responseXML.documentElement&&(P=s.parseDOM(S.responseXML.documentElement)),l(P,S),y&&y(S)}}else c.asynchronous=!1;var b;if(typeof HTTP!="undefined"&&HTTP.Request){c.uri=g;var x=new HTTP.Request(c);x&&(b=x.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var x=new Ajax.Request(g,c);x&&(b=x.transport)}if(u)return b;if(b&&b.responseXML&&b.responseXML.documentElement)return this.parseDOM(b.responseXML.documentElement)};gr.ObjTree.prototype.parseDOM=function(g){if(!!g){if(this.__force_array={},this.force_array)for(var v=0;v<this.force_array.length;v++)this.__force_array[this.force_array[v]]=1;var u=this.parseElement(g);if(this.__force_array[g.nodeName]&&(u=[u]),g.nodeType!=11){var c={};c[g.nodeName]=u,u=c}return u}};gr.ObjTree.prototype.parseElement=function(g){if(g.nodeType!=7){if(g.nodeType==3||g.nodeType==4){var v=g.nodeValue.match(/[^\x00-\x20]/);return v==null?void 0:g.nodeValue}var u,c={};if(g.attributes&&g.attributes.length){u={};for(var i=0;i<g.attributes.length;i++){var s=g.attributes[i].nodeName;if(typeof s=="string"){var l=g.attributes[i].nodeValue;!l||(s=this.attr_prefix+s,typeof c[s]=="undefined"&&(c[s]=0),c[s]++,this.addNode(u,s,c[s],l))}}}if(g.childNodes&&g.childNodes.length){var y=!0;u&&(y=!1);for(var i=0;i<g.childNodes.length&&y;i++){var b=g.childNodes[i].nodeType;b==3||b==4||(y=!1)}if(y){u||(u="");for(var i=0;i<g.childNodes.length;i++)u+=g.childNodes[i].nodeValue}else{u||(u={});for(var i=0;i<g.childNodes.length;i++){var s=g.childNodes[i].nodeName;if(typeof s=="string"){var l=this.parseElement(g.childNodes[i]);!l||(typeof c[s]=="undefined"&&(c[s]=0),c[s]++,this.addNode(u,s,c[s],l))}}}}return u}};gr.ObjTree.prototype.addNode=function(g,v,u,c){this.__force_array[v]?(u==1&&(g[v]=[]),g[v][g[v].length]=c):u==1?g[v]=c:u==2?g[v]=[g[v],c]:g[v][g[v].length]=c};gr.ObjTree.prototype.writeXML=function(g){var v=this.hash_to_xml(null,g);return this.xmlDecl+v};gr.ObjTree.prototype.hash_to_xml=function(g,v){var u=[],c=[];for(var i in v)if(!!v.hasOwnProperty(i)){var s=v[i];i.charAt(0)!=this.attr_prefix?typeof s=="undefined"||s==null?u[u.length]="<"+i+" />":typeof s=="object"&&s.constructor==Array?u[u.length]=this.array_to_xml(i,s):typeof s=="object"?u[u.length]=this.hash_to_xml(i,s):u[u.length]=this.scalar_to_xml(i,s):c[c.length]=" "+i.substring(1)+'="'+this.xml_escape(s)+'"'}var l=c.join(""),y=u.join("");return typeof g=="undefined"||g==null||(u.length>0?y.match(/\n/)?y="<"+g+l+`>
`+y+"</"+g+`>
`:y="<"+g+l+">"+y+"</"+g+`>
`:y="<"+g+l+` />
`),y};gr.ObjTree.prototype.array_to_xml=function(g,v){for(var u=[],c=0;c<v.length;c++){var i=v[c];typeof i=="undefined"||i==null?u[u.length]="<"+g+" />":typeof i=="object"&&i.constructor==Array?u[u.length]=this.array_to_xml(g,i):typeof i=="object"?u[u.length]=this.hash_to_xml(g,i):u[u.length]=this.scalar_to_xml(g,i)}return u.join("")};gr.ObjTree.prototype.scalar_to_xml=function(g,v){return g=="#text"?this.xml_escape(v):"<"+g+">"+this.xml_escape(v)+"</"+g+`>
`};gr.ObjTree.prototype.xml_escape=function(g){return g.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var Js=globalThis&&globalThis.__read||function(g,v){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],l;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){l={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(l)throw l.error}}return s},an;(function(g){g.START="bpmn:startEvent",g.END="bpmn:endEvent",g.GATEWAY="bpmn:exclusiveGateway",g.USER="bpmn:userTask",g.SYSTEM="bpmn:serviceTask",g.FLOW="bpmn:sequenceFlow"})(an||(an={}));var ob=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function od(g){var v={};return Object.entries(g).forEach(function(u){var c=Js(u,2),i=c[0],s=c[1];typeof s!="object"?i.indexOf("-")===0?v[i]=s:v["-"+i]=s:v[i]=od(s)}),v}function fd(g){var v={};return Object.entries(g).forEach(function(u){var c=Js(u,2),i=c[0],s=c[1];typeof s=="string"?i.indexOf("-")===0?v[i.substr(1)]=s:v[i]=s:typeof s=="object"?v[i]=fd(s):v[i]=s}),v}function jR(g,v){var u=new Map;v.nodes.forEach(function(i){var s,l={"-id":i.id};if(!((s=i.text)===null||s===void 0)&&s.value&&(l["-name"]=i.text.value),i.properties){var y=od(i.properties);Object.assign(l,y)}u.set(i.id,l),g[i.type]?Array.isArray(g[i.type])?g[i.type].push(l):g[i.type]=[g[i.type],l]:g[i.type]=l});var c=v.edges.map(function(i){var s,l,y=u.get(i.targetNodeId);y["bpmn:incoming"]?Array.isArray(y["bpmn:incoming"])?y["bpmn:incoming"].push(i.id):y["bpmn:incoming"]=[y["bpmn:incoming"],i.id]:y["bpmn:incoming"]=i.id;var b=u.get(i.sourceNodeId);b["bpmn:outgoing"]?Array.isArray(b["bpmn:outgoing"])?b["bpmn:outgoing"].push(i.id):b["bpmn:outgoing"]=[b["bpmn:outgoing"],i.id]:b["bpmn:outgoing"]=i.id;var x={"-id":i.id,"-sourceRef":i.sourceNodeId,"-targetRef":i.targetNodeId};if(!((s=i.text)===null||s===void 0)&&s.value&&(x["-name"]=(l=i.text)===null||l===void 0?void 0:l.value),i.properties){var S=od(i.properties);Object.assign(x,S)}return x});g[an.FLOW]=c}function CR(g,v){g["bpmndi:BPMNEdge"]=v.edges.map(function(u){var c,i=u.id,s=u.pointsList.map(function(y){var b=y.x,x=y.y;return{"-x":b,"-y":x}}),l={"-id":i+"_di","-bpmnElement":i,"di:waypoint":s};return!((c=u.text)===null||c===void 0)&&c.value&&(l["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),l}),g["bpmndi:BPMNShape"]=v.nodes.map(function(u){var c,i=u.id,s=100,l=80,y=u.x,b=u.y,x=fo.shapeConfigMap.get(u.type);x&&(s=x.width,l=x.height),y-=s/2,b-=l/2;var S={"-id":i+"_di","-bpmnElement":i,"dc:Bounds":{"-x":y,"-y":b,"-width":s,"-height":l}};return!((c=u.text)===null||c===void 0)&&c.value&&(S["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),S})}function RR(g){var v=[],u=[],c=g["bpmn:definitions"];if(c){var i=c["bpmn:process"];Object.keys(i).forEach(function(s){if(s.indexOf("bpmn:")===0){var l=i[s];if(s===an.FLOW){var y=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];u=BR(l,y)}else{var b=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];v=v.concat(IR(l,b,s))}}})}return{nodes:v,edges:u}}function IR(g,v,u){var c=[];if(Array.isArray(g))g.forEach(function(l){var y;Array.isArray(v)?y=v.find(function(x){return x["-bpmnElement"]===l["-id"]}):y=v;var b=jm(y,u,l);c.push(b)});else{var i=void 0;Array.isArray(v)?i=v.find(function(l){return l["-bpmnElement"]===g["-id"]}):i=v;var s=jm(i,u,g);c.push(s)}return c}function jm(g,v,u){var c=Number(g["dc:Bounds"]["-x"]),i=Number(g["dc:Bounds"]["-y"]),s=u["-name"],l=fo.shapeConfigMap.get(v);l&&(c+=l.width/2,i+=l.height/2);var y;Object.entries(u).forEach(function(P){var M=Js(P,2),A=M[0],j=M[1];ob.indexOf(A)===-1&&(y||(y={}),y[A]=j)}),y&&(y=fd(y));var b;if(s&&(b={x:c,y:i,value:s},g["bpmndi:BPMNLabel"]&&g["bpmndi:BPMNLabel"]["dc:Bounds"])){var x=g["bpmndi:BPMNLabel"]["dc:Bounds"];b.x=Number(x["-x"])+Number(x["-width"])/2,b.y=Number(x["-y"])+Number(x["-height"])/2}var S={id:g["-bpmnElement"],type:v,x:c,y:i,properties:y};return b&&(S.text=b),S}function BR(g,v){var u=[];if(Array.isArray(g))g.forEach(function(i){var s;Array.isArray(v)?s=v.find(function(l){return l["-bpmnElement"]===i["-id"]}):s=v,u.push(Cm(s,i))});else{var c=void 0;Array.isArray(v)?c=v.find(function(i){return i["-bpmnElement"]===g["-id"]}):c=v,u.push(Cm(c,g))}return u}function Cm(g,v){var u,c=v["-name"];if(c){var i=g["bpmndi:BPMNLabel"]["dc:Bounds"],s=0;c.split(`
`).forEach(function(b){s<b.length&&(s=b.length)}),u={value:c,x:Number(i["-x"])+s*10/2,y:Number(i["-y"])+7}}var l;Object.entries(v).forEach(function(b){var x=Js(b,2),S=x[0],P=x[1];ob.indexOf(S)===-1&&(l||(l={}),l[S]=P)}),l&&(l=fd(l));var y={id:v["-id"],type:an.FLOW,pointsList:g["di:waypoint"].map(function(b){return{x:Number(b["-x"]),y:Number(b["-y"])}}),sourceNodeId:v["-sourceRef"],targetNodeId:v["-targetRef"],properties:l};return u&&(y.text=u),y}var fo={pluginName:"bpmn-adapter",install:function(g){g.adapterIn=this.adapterIn,g.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(g,v){this.shapeConfigMap.set(g,v)},adapterOut:function(g){var v={"-id":"Process_"+Dm(),"-isExecutable":"false"};jR(v,g);var u={"-id":"BPMNPlane_1","-bpmnElement":v["-id"]};CR(u,g);var c={"bpmn:definitions":{"-id":"Definitions_"+Dm(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":v,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":u}}};return c},adapterIn:function(g){if(g)return RR(g)}};fo.shapeConfigMap.set(an.START,{width:Am.width,height:Am.height});fo.shapeConfigMap.set(an.END,{width:Tm.width,height:Tm.height});fo.shapeConfigMap.set(an.GATEWAY,{width:Mm.width,height:Mm.height});fo.shapeConfigMap.set(an.SYSTEM,{width:wm.width,height:wm.height});fo.shapeConfigMap.set(an.USER,{width:Nm.width,height:Nm.height});var Rm=globalThis&&globalThis.__assign||function(){return Rm=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},Rm.apply(this,arguments)};globalThis&&globalThis.__read;var Im;(function(g){g.HORIZONTAL="horizontal",g.VERTICAL="vertical"})(Im||(Im={}));var LR=globalThis&&globalThis.__read||function(g,v){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],l;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){l={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(l)throw l.error}}return s};globalThis&&globalThis.__spread;var _R=globalThis&&globalThis.__read||function(g,v){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],l;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){l={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(l)throw l.error}}return s};globalThis&&globalThis.__spread;var zR=globalThis&&globalThis.__read||function(g,v){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],l;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){l={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(l)throw l.error}}return s},FR=globalThis&&globalThis.__spread||function(){for(var g=[],v=0;v<arguments.length;v++)g=g.concat(zR(arguments[v]));return g},Ni="lf:defaultNodeMenu",Di="lf:defaultEdgeMenu",ji="lf:defaultGraphMenu",Bm="lf:defaultSelectionMenu",GR=function(){function g(v){var u=this,c=v.lf;this.__menuDOM=document.createElement("ul"),this.lf=c,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(i){u.setMenuConfig(i)},this.lf.addMenuConfig=function(i){u.addMenuConfig(i)},this.lf.setMenuByType=function(i){u.setMenuByType(i)}}return g.prototype.init=function(){var v=this,u=[{text:"\u5220\u9664",callback:function(s){v.lf.deleteNode(s.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(s){v.lf.graphModel.editText(s.id)}},{text:"\u590D\u5236",callback:function(s){v.lf.cloneNode(s.id)}}];this.menuTypeMap.set(Ni,u);var c=[{text:"\u5220\u9664",callback:function(s){v.lf.deleteEdge(s.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(s){v.lf.graphModel.editText(s.id)}}];this.menuTypeMap.set(Di,c),this.menuTypeMap.set(ji,[]);var i=[{text:"\u5220\u9664",callback:function(s){v.lf.clearSelectElements(),s.edges.forEach(function(l){return v.lf.deleteEdge(l.id)}),s.nodes.forEach(function(l){return v.lf.deleteNode(l.id)})}}];this.menuTypeMap.set(Bm,i)},g.prototype.render=function(v,u){var c=this;this.__container=u,this.__currentData=null,this.__menuDOM.className="lf-menu",u.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(i){i.stopPropagation();for(var s=i.target;Array.from(s.classList).indexOf("lf-menu-item")===-1&&Array.from(s.classList).indexOf("lf-menu")===-1;)s=s.parentElement;Array.from(s.classList).indexOf("lf-menu-item")>-1?(s.onclickCallback(c.__currentData),c.__menuDOM.style.display="none",c.__currentData=null):console.warn("\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01")},!0),this.lf.on("node:contextmenu",function(i){var s=i.data,l=i.position,y=l.domOverlayPosition,b=y.x,x=y.y,S=s.id,P=c.lf.graphModel.getNodeModelById(S),M=[],A=c.menuTypeMap.get(P.type);P&&P.menu&&Array.isArray(P.menu)?M=P.menu:A?M=A:M=c.menuTypeMap.get(Ni),c.__currentData=s,c.showMenu(b,x,M)}),this.lf.on("edge:contextmenu",function(i){var s=i.data,l=i.position,y=l.domOverlayPosition,b=y.x,x=y.y,S=s.id,P=c.lf.graphModel.getEdgeModelById(S),M=[],A=c.menuTypeMap.get(P.type);P&&P.menu&&Array.isArray(P.menu)?M=P.menu:A?M=A:M=c.menuTypeMap.get(Di),c.__currentData=s,c.showMenu(b,x,M)}),this.lf.on("blank:contextmenu",function(i){var s=i.position,l=c.menuTypeMap.get(ji),y=s.domOverlayPosition,b=y.x,x=y.y;c.showMenu(b,x,l)}),this.lf.on("selection:contextmenu",function(i){var s=i.data,l=i.position,y=c.menuTypeMap.get(Bm),b=l.domOverlayPosition,x=b.x,S=b.y;c.__currentData=s,c.showMenu(x,S,y)}),this.lf.on("node:mousedown",function(){c.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){c.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){c.__menuDOM.style.display="none"})},g.prototype.destroy=function(){var v;(v=this===null||this===void 0?void 0:this.__container)===null||v===void 0||v.removeChild(this.__menuDOM),this.__menuDOM=null},g.prototype.showMenu=function(v,u,c){if(!(!c||!c.length)){var i=this.__menuDOM;i.innerHTML="",i.append.apply(i,FR(this.__getMenuDom(c))),i.children.length&&(i.style.display="block",i.style.top=u+"px",i.style.left=v+"px")}},g.prototype.setMenuByType=function(v){!v.type||!v.menu||this.menuTypeMap.set(v.type,v.menu)},g.prototype.__getMenuDom=function(v){var u=[];return v&&v.length>0&&v.forEach(function(c){var i=document.createElement("li");if(c.className?i.className="lf-menu-item "+c.className:i.className="lf-menu-item",c.icon===!0){var s=document.createElement("span");s.className="lf-menu-item-icon",i.appendChild(s)}var l=document.createElement("span");l.className="lf-menu-item-text",c.text&&(l.innerText=c.text),i.appendChild(l),i.onclickCallback=c.callback,u.push(i)}),u},g.prototype.setMenuConfig=function(v){!v||(v.nodeMenu!==void 0&&this.menuTypeMap.set(Ni,v.nodeMenu?v.nodeMenu:[]),v.edgeMenu!==void 0&&this.menuTypeMap.set(Di,v.edgeMenu?v.edgeMenu:[]),v.graphMenu!==void 0&&this.menuTypeMap.set(ji,v.graphMenu?v.graphMenu:[]))},g.prototype.addMenuConfig=function(v){if(!!v){if(Array.isArray(v.nodeMenu)){var u=this.menuTypeMap.get(Ni);this.menuTypeMap.set(Ni,u.concat(v.nodeMenu))}if(Array.isArray(v.edgeMenu)){var u=this.menuTypeMap.get(Di);this.menuTypeMap.set(Di,u.concat(v.edgeMenu))}if(Array.isArray(v.graphMenu)){var u=this.menuTypeMap.get(ji);this.menuTypeMap.set(ji,u.concat(v.graphMenu))}}},g.prototype.changeMenuItem=function(v,u){if(v==="add")this.addMenuConfig(u);else if(v==="reset")this.setMenuConfig(u);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},g.pluginName="menu",g}();globalThis&&globalThis.__read;var HR=function(){function g(v){var u=this,c=v.lf;this.lf=c,this.lf.setPatternItems=function(i){u.setPatternItems(i)}}return g.prototype.render=function(v,u){var c=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=u;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(i){c.panelEl.appendChild(c.createDndItem(i))}),u.appendChild(this.panelEl),this.domContainer=u},g.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},g.prototype.setPatternItems=function(v){this.shapeList=v,this.domContainer&&this.render(this.lf,this.domContainer)},g.prototype.createDndItem=function(v){var u=this,c=document.createElement("div");c.className=v.className?"lf-dnd-item "+v.className:"lf-dnd-item";var i=document.createElement("div");if(i.className="lf-dnd-shape",v.icon&&(i.style.backgroundImage="url("+v.icon+")"),c.appendChild(i),v.label){var s=document.createElement("div");s.innerText=v.label,s.className="lf-dnd-text",c.appendChild(s)}return c.onmousedown=function(){v.type&&u.lf.dnd.startDrag({type:v.type,properties:v.properties,text:v.text}),v.callback&&v.callback(u.lf,u.domContainer)},c.ondblclick=function(l){u.lf.graphModel.eventCenter.emit("dnd:panel-dbclick",{e:l,data:v})},c.onclick=function(l){u.lf.graphModel.eventCenter.emit("dnd:panel-click",{e:l,data:v})},c.oncontextmenu=function(l){u.lf.graphModel.eventCenter.emit("dnd:panel-contextmenu",{e:l,data:v})},c},g.pluginName="dndPanel",g}(),UR=function(){function g(v){var u=this,c=v.lf;this.__disabled=!1,this.isDefaultStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(s){var l=u.lf.getPointByClient(s.clientX,s.clientY).domOverlayPosition,y=l.x,b=l.y;u.endPoint={x:y,y:b};var x=u.startPoint,S=x.x,P=x.y,M=u.wrapper.style,A=S,j=P,C=y-S,I=b-P;y<S&&(A=y,C=S-y),b<P&&(j=b,I=P-b),M.left=A+"px",M.top=j+"px",M.width=C+"px",M.height=I+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",u.__draw),document.removeEventListener("mouseup",u.__drawOff),u.wrapper.oncontextmenu=null,u.__domContainer.removeChild(u.wrapper);var s=u.startPoint,l=s.x,y=s.y,b=u.endPoint,x=b.x,S=b.y;if(!(Math.abs(x-l)<10&&Math.abs(S-y)<10)){var P=[Math.min(l,x),Math.min(y,S)],M=[Math.max(l,x),Math.max(y,S)],A=u.lf.graphModel.getAreaElement(P,M,u.isWholeEdge,u.isWholeNode,!0),j=u.lf.graphModel.group;A.forEach(function(C){(!j||!j.getNodeGroup(C.id))&&u.lf.selectElementById(C.id,!0)}),u.lf.emit("selection:selected",A)}},this.lf=c;var i=c.getEditConfig().stopMoveGraph;this.isDefaultStopMoveGraph=i,c.openSelectionSelect=function(){u.openSelectionSelect()},c.closeSelectionSelect=function(){u.closeSelectionSelect()}}return g.prototype.render=function(v,u){var c=this;this.__domContainer=u,v.on("blank:mousedown",function(i){var s=i.e,l=v.getEditConfig();if(!(!l.stopMoveGraph||c.__disabled)){var y=s.button===2;if(!y){var b=v.getPointByClient(s.clientX,s.clientY).domOverlayPosition,x=b.x,S=b.y;c.startPoint={x,y:S},c.endPoint={x,y:S};var P=document.createElement("div");P.className="lf-selection-select",P.oncontextmenu=function(A){A.preventDefault()},P.style.top=c.startPoint.y+"px",P.style.left=c.startPoint.x+"px",u.appendChild(P),c.wrapper=P,document.addEventListener("mousemove",c.__draw),document.addEventListener("mouseup",c.__drawOff)}}})},g.prototype.setSelectionSense=function(v,u){v===void 0&&(v=!0),u===void 0&&(u=!0),this.isWholeEdge=v,this.isWholeNode=u},g.prototype.openSelectionSelect=function(){var v=this.lf.getEditConfig().stopMoveGraph;v||(this.isDefaultStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},g.prototype.closeSelectionSelect=function(){this.isDefaultStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},g.prototype.open=function(){this.__disabled=!1},g.prototype.close=function(){this.__disabled=!0},g.pluginName="selectionSelect",g}();globalThis&&globalThis.__values;function kR(g){if(g.length<=1)return!1;for(var v=0,u=g.length-1;v!==u&&v+1!==u&&u-1!==v;)v++,u--;return v===u?[--v,u]:[v,u]}var ib=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Wo=globalThis&&globalThis.__assign||function(){return Wo=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},Wo.apply(this,arguments)},On=globalThis&&globalThis.__read||function(g,v){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],l;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){l={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(l)throw l.error}}return s};(function(g){ib(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.pointFilter=function(u){for(var c=u,i=1;i<c.length-1;){var s=On(c[i-1],2),l=s[0],y=s[1],b=On(c[i],2),x=b[0],S=b[1],P=On(c[i+1],2),M=P[0],A=P[1];l===x&&x===M||y===S&&S===A?c.splice(i,1):i++}return c},v.prototype.getEdge=function(){var u=this.props.model,c=u.points,i=u.isAnimation,s=u.arrowConfig,l=u.radius,y=l===void 0?5:l,b=u.getEdgeStyle(),x=u.getEdgeAnimationStyle(),S=this.pointFilter(c.split(" ").map(function(Le){return Le.split(",").map(function(Ee){return Number(Ee)})})),P=kR(S);if(P){var M=On(P,2),A=M[0],j=M[1],C=S[A],I=S[j],z=C.some(function(Le,Ee){return Le===I[Ee]});if(!z){var X=(I[1]-C[1])/2,Y=[I[0],I[1]-X],le=[C[0],C[1]+X];S.splice(A+1,0,le,Y)}}for(var se=On(S[0],2),te=se[0],Q=se[1],ee="M"+te+" "+Q,_=1;_<S.length-1;_++){var U=On(S[_-1],2),B=U[0],w=U[1],R=On(S[_],2),W=R[0],Z=R[1],ce=On(S[_+1],2),Pe=ce[0],me=ce[1];if(W===B&&Z!==w){var be=Z>w?Z-y:Z+y;ee=ee+" L "+W+" "+be}if(Z===w&&W!==B){var Se=W>B?W-y:W+y;ee=ee+" L "+Se+" "+Z}if(ee=ee+" Q "+W+" "+Z,W===Pe&&Z!==me){var be=Z>me?Z-y:Z+y;ee=ee+" "+W+" "+be}if(Z===me&&W!==Pe){var Se=W>Pe?W-y:W+y;ee=ee+" "+Se+" "+Z}}var Oe=On(S[S.length-1],2),we=Oe[0],Fe=Oe[1];ee=ee+" L "+we+" "+Fe;var Ve=Wo(Wo(Wo({d:ee,style:i?x:{}},b),s),{fill:"none"});return Ke.exports.h("path",Wo({d:ee},Ve))},v})(Ke.exports.PolylineEdge);(function(g){ib(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v})(Ke.exports.PolylineEdgeModel);var cd,kt,ab,so,Lm,ub,id,sb={},lb=[],XR=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function $n(g,v){for(var u in v)g[u]=v[u];return g}function fb(g){var v=g.parentNode;v&&v.removeChild(g)}function Ii(g,v,u){var c,i,s,l={};for(s in v)s=="key"?c=v[s]:s=="ref"?i=v[s]:l[s]=v[s];if(arguments.length>2&&(l.children=arguments.length>3?cd.call(arguments,2):u),typeof g=="function"&&g.defaultProps!=null)for(s in g.defaultProps)l[s]===void 0&&(l[s]=g.defaultProps[s]);return Us(g,l,c,i,null)}function Us(g,v,u,c,i){var s={type:g,props:v,key:u,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++ab:i};return i==null&&kt.vnode!=null&&kt.vnode(s),s}function dd(g){return g.children}function Vo(g,v){this.props=g,this.context=v}function _i(g,v){if(v==null)return g.__?_i(g.__,g.__.__k.indexOf(g)+1):null;for(var u;v<g.__k.length;v++)if((u=g.__k[v])!=null&&u.__e!=null)return u.__e;return typeof g.type=="function"?_i(g):null}function cb(g){var v,u;if((g=g.__)!=null&&g.__c!=null){for(g.__e=g.__c.base=null,v=0;v<g.__k.length;v++)if((u=g.__k[v])!=null&&u.__e!=null){g.__e=g.__c.base=u.__e;break}return cb(g)}}function _m(g){(!g.__d&&(g.__d=!0)&&so.push(g)&&!Ws.__r++||Lm!==kt.debounceRendering)&&((Lm=kt.debounceRendering)||ub)(Ws)}function Ws(){var g,v,u,c,i,s,l,y;for(so.sort(id);g=so.shift();)g.__d&&(v=so.length,c=void 0,i=void 0,l=(s=(u=g).__v).__e,(y=u.__P)&&(c=[],(i=$n({},s)).__v=s.__v+1,yb(y,s,i,u.__n,y.ownerSVGElement!==void 0,s.__h!=null?[l]:null,c,l==null?_i(s):l,s.__h),YR(c,s),s.__e!=l&&cb(s)),so.length>v&&so.sort(id));Ws.__r=0}function db(g,v,u,c,i,s,l,y,b,x){var S,P,M,A,j,C,I,z=c&&c.__k||lb,X=z.length;for(u.__k=[],S=0;S<v.length;S++)if((A=u.__k[S]=(A=v[S])==null||typeof A=="boolean"||typeof A=="function"?null:typeof A=="string"||typeof A=="number"||typeof A=="bigint"?Us(null,A,null,null,A):Array.isArray(A)?Us(dd,{children:A},null,null,null):A.__b>0?Us(A.type,A.props,A.key,A.ref?A.ref:null,A.__v):A)!=null){if(A.__=u,A.__b=u.__b+1,(M=z[S])===null||M&&A.key==M.key&&A.type===M.type)z[S]=void 0;else for(P=0;P<X;P++){if((M=z[P])&&A.key==M.key&&A.type===M.type){z[P]=void 0;break}M=null}yb(g,A,M=M||sb,i,s,l,y,b,x),j=A.__e,(P=A.ref)&&M.ref!=P&&(I||(I=[]),M.ref&&I.push(M.ref,null,A),I.push(P,A.__c||j,A)),j!=null?(C==null&&(C=j),typeof A.type=="function"&&A.__k===M.__k?A.__d=b=pb(A,b,g):b=hb(g,A,M,z,j,b),typeof u.type=="function"&&(u.__d=b)):b&&M.__e==b&&b.parentNode!=g&&(b=_i(M))}for(u.__e=C,S=X;S--;)z[S]!=null&&(typeof u.type=="function"&&z[S].__e!=null&&z[S].__e==u.__d&&(u.__d=vb(c).nextSibling),mb(z[S],z[S]));if(I)for(S=0;S<I.length;S++)gb(I[S],I[++S],I[++S])}function pb(g,v,u){for(var c,i=g.__k,s=0;i&&s<i.length;s++)(c=i[s])&&(c.__=g,v=typeof c.type=="function"?pb(c,v,u):hb(u,c,c,i,c.__e,v));return v}function hb(g,v,u,c,i,s){var l,y,b;if(v.__d!==void 0)l=v.__d,v.__d=void 0;else if(u==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==g)g.appendChild(i),l=null;else{for(y=s,b=0;(y=y.nextSibling)&&b<c.length;b+=1)if(y==i)break e;g.insertBefore(i,s),l=s}return l!==void 0?l:i.nextSibling}function vb(g){var v,u,c;if(g.type==null||typeof g.type=="string")return g.__e;if(g.__k){for(v=g.__k.length-1;v>=0;v--)if((u=g.__k[v])&&(c=vb(u)))return c}return null}function $R(g,v,u,c,i){var s;for(s in u)s==="children"||s==="key"||s in v||Ks(g,s,null,u[s],c);for(s in v)i&&typeof v[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||u[s]===v[s]||Ks(g,s,v[s],u[s],c)}function zm(g,v,u){v[0]==="-"?g.setProperty(v,u==null?"":u):g[v]=u==null?"":typeof u!="number"||XR.test(v)?u:u+"px"}function Ks(g,v,u,c,i){var s;e:if(v==="style")if(typeof u=="string")g.style.cssText=u;else{if(typeof c=="string"&&(g.style.cssText=c=""),c)for(v in c)u&&v in u||zm(g.style,v,"");if(u)for(v in u)c&&u[v]===c[v]||zm(g.style,v,u[v])}else if(v[0]==="o"&&v[1]==="n")s=v!==(v=v.replace(/Capture$/,"")),v=v.toLowerCase()in g?v.toLowerCase().slice(2):v.slice(2),g.l||(g.l={}),g.l[v+s]=u,u?c||g.addEventListener(v,s?Gm:Fm,s):g.removeEventListener(v,s?Gm:Fm,s);else if(v!=="dangerouslySetInnerHTML"){if(i)v=v.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(v!=="width"&&v!=="height"&&v!=="href"&&v!=="list"&&v!=="form"&&v!=="tabIndex"&&v!=="download"&&v in g)try{g[v]=u==null?"":u;break e}catch(l){}typeof u=="function"||(u==null||u===!1&&v[4]!=="-"?g.removeAttribute(v):g.setAttribute(v,u))}}function Fm(g){return this.l[g.type+!1](kt.event?kt.event(g):g)}function Gm(g){return this.l[g.type+!0](kt.event?kt.event(g):g)}function yb(g,v,u,c,i,s,l,y,b){var x,S,P,M,A,j,C,I,z,X,Y,le,se,te,Q,ee=v.type;if(v.constructor!==void 0)return null;u.__h!=null&&(b=u.__h,y=v.__e=u.__e,v.__h=null,s=[y]),(x=kt.__b)&&x(v);try{e:if(typeof ee=="function"){if(I=v.props,z=(x=ee.contextType)&&c[x.__c],X=x?z?z.props.value:x.__:c,u.__c?C=(S=v.__c=u.__c).__=S.__E:("prototype"in ee&&ee.prototype.render?v.__c=S=new ee(I,X):(v.__c=S=new Vo(I,X),S.constructor=ee,S.render=KR),z&&z.sub(S),S.props=I,S.state||(S.state={}),S.context=X,S.__n=c,P=S.__d=!0,S.__h=[],S._sb=[]),S.__s==null&&(S.__s=S.state),ee.getDerivedStateFromProps!=null&&(S.__s==S.state&&(S.__s=$n({},S.__s)),$n(S.__s,ee.getDerivedStateFromProps(I,S.__s))),M=S.props,A=S.state,S.__v=v,P)ee.getDerivedStateFromProps==null&&S.componentWillMount!=null&&S.componentWillMount(),S.componentDidMount!=null&&S.__h.push(S.componentDidMount);else{if(ee.getDerivedStateFromProps==null&&I!==M&&S.componentWillReceiveProps!=null&&S.componentWillReceiveProps(I,X),!S.__e&&S.shouldComponentUpdate!=null&&S.shouldComponentUpdate(I,S.__s,X)===!1||v.__v===u.__v){for(v.__v!==u.__v&&(S.props=I,S.state=S.__s,S.__d=!1),S.__e=!1,v.__e=u.__e,v.__k=u.__k,v.__k.forEach(function(_){_&&(_.__=v)}),Y=0;Y<S._sb.length;Y++)S.__h.push(S._sb[Y]);S._sb=[],S.__h.length&&l.push(S);break e}S.componentWillUpdate!=null&&S.componentWillUpdate(I,S.__s,X),S.componentDidUpdate!=null&&S.__h.push(function(){S.componentDidUpdate(M,A,j)})}if(S.context=X,S.props=I,S.__P=g,le=kt.__r,se=0,"prototype"in ee&&ee.prototype.render){for(S.state=S.__s,S.__d=!1,le&&le(v),x=S.render(S.props,S.state,S.context),te=0;te<S._sb.length;te++)S.__h.push(S._sb[te]);S._sb=[]}else do S.__d=!1,le&&le(v),x=S.render(S.props,S.state,S.context),S.state=S.__s;while(S.__d&&++se<25);S.state=S.__s,S.getChildContext!=null&&(c=$n($n({},c),S.getChildContext())),P||S.getSnapshotBeforeUpdate==null||(j=S.getSnapshotBeforeUpdate(M,A)),Q=x!=null&&x.type===dd&&x.key==null?x.props.children:x,db(g,Array.isArray(Q)?Q:[Q],v,u,c,i,s,l,y,b),S.base=v.__e,v.__h=null,S.__h.length&&l.push(S),C&&(S.__E=S.__=null),S.__e=!1}else s==null&&v.__v===u.__v?(v.__k=u.__k,v.__e=u.__e):v.__e=WR(u.__e,v,u,c,i,s,l,b);(x=kt.diffed)&&x(v)}catch(_){v.__v=null,(b||s!=null)&&(v.__e=y,v.__h=!!b,s[s.indexOf(y)]=null),kt.__e(_,v,u)}}function YR(g,v){kt.__c&&kt.__c(v,g),g.some(function(u){try{g=u.__h,u.__h=[],g.some(function(c){c.call(u)})}catch(c){kt.__e(c,u.__v)}})}function WR(g,v,u,c,i,s,l,y){var b,x,S,P=u.props,M=v.props,A=v.type,j=0;if(A==="svg"&&(i=!0),s!=null){for(;j<s.length;j++)if((b=s[j])&&"setAttribute"in b==!!A&&(A?b.localName===A:b.nodeType===3)){g=b,s[j]=null;break}}if(g==null){if(A===null)return document.createTextNode(M);g=i?document.createElementNS("http://www.w3.org/2000/svg",A):document.createElement(A,M.is&&M),s=null,y=!1}if(A===null)P===M||y&&g.data===M||(g.data=M);else{if(s=s&&cd.call(g.childNodes),x=(P=u.props||sb).dangerouslySetInnerHTML,S=M.dangerouslySetInnerHTML,!y){if(s!=null)for(P={},j=0;j<g.attributes.length;j++)P[g.attributes[j].name]=g.attributes[j].value;(S||x)&&(S&&(x&&S.__html==x.__html||S.__html===g.innerHTML)||(g.innerHTML=S&&S.__html||""))}if($R(g,M,P,i,y),S)v.__k=[];else if(j=v.props.children,db(g,Array.isArray(j)?j:[j],v,u,c,i&&A!=="foreignObject",s,l,s?s[0]:u.__k&&_i(u,0),y),s!=null)for(j=s.length;j--;)s[j]!=null&&fb(s[j]);y||("value"in M&&(j=M.value)!==void 0&&(j!==g.value||A==="progress"&&!j||A==="option"&&j!==P.value)&&Ks(g,"value",j,P.value,!1),"checked"in M&&(j=M.checked)!==void 0&&j!==g.checked&&Ks(g,"checked",j,P.checked,!1))}return g}function gb(g,v,u){try{typeof g=="function"?g(v):g.current=v}catch(c){kt.__e(c,u)}}function mb(g,v,u){var c,i;if(kt.unmount&&kt.unmount(g),(c=g.ref)&&(c.current&&c.current!==g.__e||gb(c,null,v)),(c=g.__c)!=null){if(c.componentWillUnmount)try{c.componentWillUnmount()}catch(s){kt.__e(s,v)}c.base=c.__P=null,g.__c=void 0}if(c=g.__k)for(i=0;i<c.length;i++)c[i]&&mb(c[i],v,u||typeof g.type!="function");u||g.__e==null||fb(g.__e),g.__=g.__e=g.__d=void 0}function KR(g,v,u){return this.constructor(g,u)}cd=lb.slice,kt={__e:function(g,v,u,c){for(var i,s,l;v=v.__;)if((i=v.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(g)),l=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(g,c||{}),l=i.__d),l)return i.__E=i}catch(y){g=y}throw g}},ab=0,Vo.prototype.setState=function(g,v){var u;u=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=$n({},this.state),typeof g=="function"&&(g=g($n({},u),this.props)),g&&$n(u,g),g!=null&&this.__v&&(v&&this._sb.push(v),_m(this))},Vo.prototype.forceUpdate=function(g){this.__v&&(this.__e=!0,g&&this.__h.push(g),_m(this))},Vo.prototype.render=dd,so=[],ub=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,id=function(g,v){return g.__v.__b-v.__v.__b},Ws.__r=0;var Bi=globalThis&&globalThis.__assign||function(){return Bi=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},Bi.apply(this,arguments)};function pd(g){var v=g.x,u=g.y,c=g.width,i=g.height,s=g.radius,l=g.className,y=v-c/2,b=u-i/2,x=Bi(Bi({width:10,height:10,cx:0,cy:0,rx:s||0,ry:s||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+l},g),{x:y,y:b});return Ke.exports.h("rect",Bi({},x))}pd.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Ko;(function(g){g.NODE="node",g.CIRCLE_NODE="circle-node",g.POLYGON_NODE="polygon-node",g.RECT_NODE="rect-node",g.HTML_NODE="html-node",g.TEXT_NODE="text-node",g.ELLIPSE_NODE="ellipse-node",g.DIAMOND_NODE="diamond-node",g.EDGE="edge",g.LINE_EDGE="line-edge",g.POLYLINE_EDGE="polyline-edge",g.BEZIER_EDGE="bezier-edge",g.GRAPH="graph"})(Ko||(Ko={}));function ks(g){var v=g.x,u=g.y,c=g.width,i=g.height;return{minX:v-c/2,minY:u-i/2,maxX:v+c/2,maxY:u+i/2}}function Hm(g){var v=ks(g),u=g.radius,c=v.minX,i=v.minY,s=v.maxX,l=v.maxY;return[{x:c+u,y:i+u},{x:s-u,y:i+u},{x:s-u,y:l-u},{x:c+u,y:l-u}]}function Um(g){var v=g.point,u=g.beforeNode,c=g.afterNode,i=v.x,s=v.y,l={x:i,y:s},y=u.radius,b=ks(u),x=ks(c);if(i===b.minX){l.x=x.minX;var S=(s-u.y)/(u.height/2-y);S?l.y=c.y+(c.height/2-y)*S:l.y=c.y}else if(i===b.maxX){l.x=x.maxX;var S=(s-u.y)/(u.height/2-y);S?l.y=c.y+(c.height/2-y)*S:l.y=c.y}else if(s===b.minY){l.y=x.minY;var S=(i-u.x)/(u.width/2-y);S?l.x=c.x+(c.width/2-y)*S:l.x=c.x}else if(s===b.maxY){l.y=x.maxY;var S=(i-u.x)/(u.width/2-y);S?l.x=c.x+(c.width/2-y)*S:l.x=c.x}else{var P=Hm(u),M=Hm(c),A=ks(u),j=A.minX,C=A.minY,I=A.maxX,z=A.maxY,X=-1;if(i-j<y&&s-C<y?X=0:I-i<y&&s-C<y?X=1:I-i<y&&z-s<y?X=2:i-j<y&&C-s<y&&(X=3),X>-1){var Y=Math.atan2(s-P[X].y,i-P[X].x);l.x=M[X].x+y*Math.cos(Y),l.y=M[X].y+y*Math.sin(Y)}}return l}function km(g){var v=g.point,u=g.beforeNode,c=g.afterNode,i=c.rx,s=c.ry,l=v,y=(v.y-u.y)/(v.x-u.x),b=i,x=s,S,P;return y>=1/0?(S=0,P=x):y<=-1/0?(S=0,P=-x):v.x-u.x>0?(S=b*x/Math.sqrt(x*x+b*b*y*y),P=b*x*y/Math.sqrt(x*x+b*b*y*y)):(S=-(b*x)/Math.sqrt(x*x+b*b*y*y),P=-(b*x*y)/Math.sqrt(x*x+b*b*y*y)),l={x:S+c.x,y:P+c.y},l}function Xm(g){var v=g.point,u=g.beforeNode,c=g.afterNode,i=v,s,l,y=v.x-u.x,b=v.y-u.y,x=u.rx,S=u.ry,P=Math.sqrt((x-Math.abs(y))*(x-Math.abs(y))+b*b)/Math.sqrt(x*x+S*S),M=c.rx,A=c.ry,j=Math.sqrt((M*M+A*A)*P*P*(M*M/(M*M+A*A))),C=j*(A/M);return y>=0?s=M-j:s=j-M,b>0?l=C:l=-C,i={x:s+c.x,y:l+c.y},i}var VR=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),lo=globalThis&&globalThis.__assign||function(){return lo=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},lo.apply(this,arguments)},ZR=globalThis&&globalThis.__read||function(g,v){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],l;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){l={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(l)throw l.error}}return s},JR=Ke.exports.LogicFlowUtil.StepDrag,QR=function(g){VR(v,g);function v(u){var c=g.call(this)||this;return c.updatePosition=function(i){var s=i.deltaX,l=i.deltaY,y=c.nodeModel,b=y.x,x=y.y;c.nodeModel.x=b+s/2,c.nodeModel.y=x+l/2,c.nodeModel.moveText(s/2,l/2)},c.getResize=function(i){var s=i.index,l=i.deltaX,y=i.deltaY,b=i.width,x=i.height,S=i.PCTResizeInfo,P=i.pct,M=P===void 0?1:P,A={width:b,height:x,deltaX:l,deltaY:y};if(S){var j=4,C=0,I=0;switch(s){case 0:I=(l*-1-y)/j;break;case 1:I=(l-y)/j;break;case 2:I=(l+y)/j;break;case 3:I=(l*-1+y)/j;break}I!==0&&(C=Math.round(I/S.ResizeBasis.basisHeight*1e5)/1e3),S.ResizePCT.widthPCT=Math.max(Math.min(S.ResizePCT.widthPCT+C,S.ScaleLimit.maxScaleLimit),S.ScaleLimit.minScaleLimit),S.ResizePCT.hightPCT=Math.max(Math.min(S.ResizePCT.hightPCT+C,S.ScaleLimit.maxScaleLimit),S.ScaleLimit.minScaleLimit);var z=Math.round(S.ResizePCT.widthPCT*S.ResizeBasis.basisWidth/100),X=Math.round(S.ResizePCT.hightPCT*S.ResizeBasis.basisHeight/100);switch(s){case 0:l=b-z,y=x-X;break;case 1:l=z-b,y=x-X;break;case 2:l=z-b,y=X-x;break;case 3:l=b-z,y=X-x;break}return A.width=z,A.height=X,A.deltaX=l/M,A.deltaY=y/M,A}switch(s){case 0:A.width=b-l*M,A.height=x-y*M;break;case 1:A.width=b+l*M,A.height=x-y*M;break;case 2:A.width=b+l*M,A.height=x+y*M;break;case 3:A.width=b-l*M,A.height=x+y*M;break}return A},c.updateRect=function(i){var s=i.deltaX,l=i.deltaY,y=c.nodeModel,b=y.id,x=y.x,S=y.y,P=y.width,M=y.height,A=y.radius,j=y.PCTResizeInfo,C=c.index,I=c.getResize({index:C,deltaX:s,deltaY:l,width:P,height:M,PCTResizeInfo:j,pct:1}),z=c.nodeModel,X=z.minWidth,Y=z.minHeight,le=z.maxWidth,se=z.maxHeight;if(I.width<X||I.width>le||I.height<Y||I.height>se){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:I.deltaX,deltaY:I.deltaY}),c.nodeModel.width=I.width,c.nodeModel.height=I.height,c.nodeModel.setProperties({nodeSize:{width:I.width,height:I.height}});var te=c.getNodeEdges(b),Q={x,y:S,width:P,height:M,radius:A},ee={x:c.nodeModel.x,y:c.nodeModel.y,width:c.nodeModel.width,height:c.nodeModel.height,radius:A},_={point:"",beforeNode:Q,afterNode:ee},U;te.sourceEdges.forEach(function(B){_.point=B.startPoint,U=Um(_),B.updateStartPoint(U)}),te.targetEdges.forEach(function(B){_.point=B.endPoint,U=Um(_),B.updateEndPoint(U)}),c.eventEmit({beforeNode:Q,afterNode:ee})},c.updateEllipse=function(i){var s=i.deltaX,l=i.deltaY,y=c.nodeModel,b=y.id,x=y.rx,S=y.ry,P=y.x,M=y.y,A=y.PCTResizeInfo,j=c.index,C=x,I=S,z=c.getResize({index:j,deltaX:s,deltaY:l,width:C,height:I,PCTResizeInfo:A,pct:1/2}),X=c.nodeModel,Y=X.minWidth,le=X.minHeight,se=X.maxWidth,te=X.maxHeight;if(z.width<Y/2||z.width>se/2||z.height<le/2||z.height>te/2){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:z.deltaX,deltaY:z.deltaY}),c.nodeModel.rx=z.width,c.nodeModel.ry=z.height,c.nodeModel.setProperties({nodeSize:{rx:z.width,ry:z.height}});var Q=c.getNodeEdges(b),ee={x:P,y:M},_={rx:z.width,ry:z.height,x:c.nodeModel.x,y:c.nodeModel.y},U={point:{},beforeNode:ee,afterNode:_},B;Q.sourceEdges.forEach(function(w){U.point=w.startPoint,B=km(U),w.updateStartPoint(B)}),Q.targetEdges.forEach(function(w){U.point=w.endPoint,B=km(U),w.updateEndPoint(B)}),c.eventEmit({beforeNode:lo(lo({},ee),{rx:x,ry:S}),afterNode:_})},c.updateDiamond=function(i){var s=i.deltaX,l=i.deltaY,y=c.nodeModel,b=y.id,x=y.rx,S=y.ry,P=y.x,M=y.y,A=y.PCTResizeInfo,j=c.index,C=x,I=S,z=c.getResize({index:j,deltaX:s,deltaY:l,width:C,height:I,PCTResizeInfo:A,pct:1/2}),X=c.nodeModel,Y=X.minWidth,le=X.minHeight,se=X.maxWidth,te=X.maxHeight;if(z.width<Y/2||z.width>se/2||z.height<le/2||z.height>te/2){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:z.deltaX,deltaY:z.deltaY}),c.nodeModel.rx=z.width,c.nodeModel.ry=z.height,c.nodeModel.setProperties({nodeSize:{rx:z.width,ry:z.height}});var Q={x:P,y:M,rx:x,ry:S},ee={rx:z.width,ry:z.height,x:c.nodeModel.x,y:c.nodeModel.y},_={point:{},beforeNode:Q,afterNode:ee},U,B=c.getNodeEdges(b);B.sourceEdges.forEach(function(w){_.point=w.startPoint,U=Xm(_),w.updateStartPoint(U)}),B.targetEdges.forEach(function(w){_.point=w.endPoint,U=Xm(_),w.updateEndPoint(U)}),c.eventEmit({beforeNode:Q,afterNode:ee})},c.eventEmit=function(i){var s=i.beforeNode,l=i.afterNode,y=c.nodeModel,b=y.id,x=y.modelType,S=y.type,P=lo({id:b,modelType:x,type:S},s),M=lo({id:b,modelType:x,type:S},l);c.graphModel.eventCenter.emit("node:resize",{oldNodeSize:P,newNodeSize:M})},c.onDragging=function(i){var s,l=i.deltaX,y=i.deltaY,b=c.graphModel.transformModel,x=c.nodeModel.modelType;s=ZR(b.fixDeltaXY(l,y),2),l=s[0],y=s[1],x===Ko.RECT_NODE||x===Ko.HTML_NODE?c.updateRect({deltaX:l,deltaY:y}):x===Ko.ELLIPSE_NODE?c.updateEllipse({deltaX:l,deltaY:y}):x===Ko.DIAMOND_NODE&&c.updateDiamond({deltaX:l,deltaY:y})},c.onDragEnd=function(){var i=c.graphModel.gridSize,s=i===void 0?1:i,l=s*Math.round(c.nodeModel.x/s),y=s*Math.round(c.nodeModel.y/s);c.nodeModel.moveTo(l,y)},c.index=u.index,c.nodeModel=u.model,c.graphModel=u.graphModel,c.state={},c.dragHandler=new JR({onDragging:c.onDragging,onDragEnd:c.onDragEnd,step:1}),c}return v.prototype.getNodeEdges=function(u){for(var c=this.graphModel,i=c.edges,s=[],l=[],y=0;y<i.length;y++){var b=i[y];b.sourceNodeId===u?s.push(b):i[y].targetNodeId===u&&l.push(b)}return{sourceEdges:s,targetEdges:l}},v.prototype.render=function(){var u=this.props,c=u.x,i=u.y,s=u.index,l=u.model,y=l.getControlPointStyle();return Ii("g",{className:"lf-resize-control-"+s},Ii(pd,lo({className:"lf-node-control"},{x:c,y:i},y,{onMouseDown:this.dragHandler.handleMouseDown})))},v}(Vo),qR=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Vs=globalThis&&globalThis.__assign||function(){return Vs=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},Vs.apply(this,arguments)},Qs=function(g){qR(v,g);function v(){var u=g.call(this)||this;return u.state={},u}return v.prototype.getResizeControl=function(){var u=this.props,c=u.model,i=u.graphModel,s=c.x,l=c.y,y=c.width,b=c.height,x={minX:s-y/2,minY:l-b/2,maxX:s+y/2,maxY:l+b/2},S=x.minX,P=x.minY,M=x.maxX,A=x.maxY,j=[{x:S,y:P},{x:M,y:P},{x:M,y:A},{x:S,y:A}];return j.map(function(C,I){return Ii(QR,Vs({index:I},C,{model:c,graphModel:i}))})},v.prototype.getGroupSolid=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,l=u.height,y=u.getResizeOutlineStyle();return Ii(pd,Vs({fill:"none"},y,{x:c,y:i,width:s,height:l}))},v.prototype.render=function(){return Ii("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},v}(Vo),bb=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),eI=function(g){bb(v,g);function v(u,c){var i=g.call(this,u,c)||this,s=i.properties.nodeSize;return s&&(i.width=s.width,i.height=s.height),i}return v.prototype.initNodeData=function(u){g.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},v.prototype.getOutlineStyle=function(){var u=g.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v.prototype.resize=function(u,c){},v.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},i={basisWidth:this.width,basisHeight:this.height},s={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:i,ScaleLimit:s}}else delete this.PCTResizeInfo},v}(Ke.exports.RectNodeModel),tI=function(g){bb(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return Ke.exports.h(Qs,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){return g.prototype.getShape.call(this)},v.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,i=u.graphModel.editConfigModel.isSilentMode;return Ke.exports.h("g",null,this.getResizeShape(),c&&!i?this.getControlGroup():"")},v}(Ke.exports.RectNode),Ob={type:"rect",view:tI,model:eI},Eb=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();(function(g){Eb(v,g);function v(u,c){var i=g.call(this,u,c)||this,s=i.properties.nodeSize;return s&&(i.rx=s.rx,i.ry=s.ry),i}return v.prototype.initNodeData=function(u){g.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},v.prototype.getOutlineStyle=function(){var u=g.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},i={basisWidth:this.rx,basisHeight:this.ry},s={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:i,ScaleLimit:s}}else delete this.PCTResizeInfo},v})(Ke.exports.EllipseNodeModel);(function(g){Eb(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return Ke.exports.h(Qs,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){return g.prototype.getShape.call(this)},v.prototype.getShape=function(){var u=this.props,c=u.model,i=u.graphModel.editConfigModel.isSilentMode;return Ke.exports.h("g",null,this.getResizeShape(),c.isSelected&&!i?this.getControlGroup():"")},v})(Ke.exports.EllipseNode);var ad=globalThis&&globalThis.__assign||function(){return ad=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},ad.apply(this,arguments)};function rI(g){var v=g.fillOpacity,u=v===void 0?1:v,c=g.strokeWidth,i=c===void 0?1:c,s=g.strokeOpacity,l=s===void 0?1:s,y=g.fill,b=y===void 0?"transparent":y,x=g.stroke,S=x===void 0?"#000":x,P=g.points,M=g.className,A=M===void 0?"lf-basic-shape":M,j={fill:b,fillOpacity:u,strokeWidth:i,stroke:S,strokeOpacity:l,points:"",className:A};return j.points=P.map(function(C){return C.join(",")}).join(" "),Ke.exports.h("polygon",ad({},j))}var Sb=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),ud=globalThis&&globalThis.__assign||function(){return ud=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},ud.apply(this,arguments)};(function(g){Sb(v,g);function v(u,c){var i=g.call(this,u,c)||this,s=i.properties.nodeSize;return s&&(i.rx=s.rx,i.ry=s.ry),i}return v.prototype.initNodeData=function(u){g.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},v.prototype.getOutlineStyle=function(){var u=g.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},i={basisWidth:this.rx,basisHeight:this.ry},s={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:i,ScaleLimit:s}}else delete this.PCTResizeInfo},v})(Ke.exports.DiamondNodeModel);(function(g){Sb(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return Ke.exports.h(Qs,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){var u=this.props.model,c=u.points,i=u.getNodeStyle();return Ke.exports.h("g",null,Ke.exports.h(rI,ud({},i,{points:c})))},v.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,i=u.graphModel.editConfigModel.isSilentMode;return Ke.exports.h("g",null,this.getResizeShape(),c&&!i?this.getControlGroup():"")},v})(Ke.exports.DiamondNode);var xb=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();(function(g){xb(v,g);function v(u,c){var i=g.call(this,u,c)||this,s=i.properties.nodeSize;return s&&(i.width=s.width,i.height=s.height),i}return v.prototype.initNodeData=function(u){g.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},v.prototype.getOutlineStyle=function(){var u=g.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},i={basisWidth:this.width,basisHeight:this.height},s={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:i,ScaleLimit:s}}else delete this.PCTResizeInfo},v})(Ke.exports.HtmlNodeModel);(function(g){xb(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return Ke.exports.h(Qs,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){return g.prototype.getShape.call(this)},v.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,i=u.graphModel.editConfigModel.isSilentMode;return Ke.exports.h("g",null,this.getResizeShape(),c&&!i?this.getControlGroup():"")},v})(Ke.exports.HtmlNode);var Pb=globalThis&&globalThis.__extends||function(){var g=function(v,u){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},g(v,u)};return function(v,u){g(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Zs=globalThis&&globalThis.__assign||function(){return Zs=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},Zs.apply(this,arguments)},nI=globalThis&&globalThis.__read||function(g,v){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],l;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){l={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(l)throw l.error}}return s},oI=globalThis&&globalThis.__spread||function(){for(var g=[],v=0;v<arguments.length;v++)g=g.concat(nI(arguments[v]));return g},$m=500,Ym=300,iI=-1e4;(function(g){Pb(v,g);function v(){var u=g!==null&&g.apply(this,arguments)||this;return u.isGroup=!0,u.unfoldedWidth=$m,u.unfoldedHight=Ym,u}return v.prototype.initNodeData=function(u){var c=this;g.prototype.initNodeData.call(this,u);var i=[];Array.isArray(u.children)&&(i=u.children),this.children=new Set(i),this.width=$m,this.height=Ym,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=iI,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){c.isFolded&&c.foldGroup(c.isFolded)})},v.prototype.getResizeOutlineStyle=function(){var u=g.prototype.getResizeOutlineStyle.call(this);return u.stroke="none",u},v.prototype.foldGroup=function(u){var c=this;this.setProperty("isFolded",u),this.isFolded=u,u?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var i=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(s){var l=c.graphModel.getElement(s);l.isGroup&&!l.isFolded&&l.foldGroup(u),l.visible=!u,i=i.concat(l.incoming.edges.concat(l.outgoing.edges))}),this.foldEdge(u,i)},v.prototype.getAnchorStyle=function(u){var c=g.prototype.getAnchorStyle.call(this,u);return c.stroke="transparent",c.fill="transparent",c.hover.fill="transparent",c.hover.stroke="transparent",c},v.prototype.foldEdge=function(u,c){var i=this;c.forEach(function(s,l){var y=s.id,b=s.sourceNodeId,x=s.targetNodeId,S=s.startPoint,P=s.endPoint,M=s.type,A=s.properties,j=s.text,C={id:y+"__"+l,sourceNodeId:b,targetNodeId:x,startPoint:S,endPoint:P,type:M,properties:A,text:j==null?void 0:j.value};s.virtual&&i.graphModel.deleteEdgeById(s.id);var I=i.graphModel.group.getNodeGroup(x);I||(I=i.graphModel.getNodeModelById(x));var z=i.graphModel.group.getNodeGroup(b);z||(z=i.graphModel.getNodeModelById(b)),u&&s.visible!==!1&&(i.children.has(b)||i.id===b?(C.startPoint=void 0,C.sourceNodeId=i.id):(C.endPoint=void 0,C.targetNodeId=i.id),(I.id!==i.id||z.id!==i.id)&&i.createVirtualEdge(C),s.visible=!1),!u&&s.visible===!1&&(I&&I.isGroup&&I.isFolded?(C.targetNodeId=I.id,C.endPoint=void 0,i.createVirtualEdge(C)):z&&z.isGroup&&z.isFolded?(C.sourceNodeId=z.id,C.startPoint=void 0,i.createVirtualEdge(C)):s.visible=!0)})},v.prototype.createVirtualEdge=function(u){u.pointsList=void 0;var c=this.graphModel.addEdge(u);c.virtual=!0,c.text.editable=!1,c.isFoldedEdge=!0},v.prototype.isInRange=function(u){var c=u.x1,i=u.y1,s=u.x2,l=u.y2;return c>=this.x-this.width/2&&s<=this.x+this.width/2&&i>=this.y-this.height/2&&l<=this.y+this.height/2},v.prototype.isAllowMoveTo=function(u){var c=u.x1,i=u.y1,s=u.x2,l=u.y2;return{x:c>=this.x-this.width/2&&s<=this.x+this.width/2,y:i>=this.y-this.height/2&&l<=this.y+this.height/2}},v.prototype.setAllowAppendChild=function(u){this.setProperty("groupAddable",u)},v.prototype.addChild=function(u){this.children.add(u)},v.prototype.removeChild=function(u){this.children.delete(u)},v.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},v.prototype.getData=function(){var u=this,c=g.prototype.getData.call(this);c.children=[],this.children.forEach(function(s){var l=u.graphModel.getNodeModelById(s);l&&!l.virtual&&c.children.push(s)});var i=c.properties;return delete i.groupAddable,delete i.isFolded,c},v.prototype.getHistoryData=function(){var u=g.prototype.getData.call(this);u.children=oI(this.children),u.isGroup=!0;var c=u.properties;return delete c.groupAddable,c.isFolded&&(u.x=u.x+this.unfoldedWidth/2-this.foldedWidth/2,u.y=u.y+this.unfoldedHight/2-this.foldedHeight/2),u},v.prototype.isAllowAppendIn=function(u){return!0},v.prototype.toBack=function(){this.zIndex--},v})(Ob.model);(function(g){Pb(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props.model,c=u.resizable,i=u.properties;return c&&!i.isFolded?g.prototype.getControlGroup.call(this):null},v.prototype.getAddableShape=function(){var u=this.props.model,c=u.width,i=u.height,s=u.x,l=u.y,y=u.radius,b=u.properties;if(!b.groupAddable)return null;var x=this.props.model.getNodeStyle().strokeWidth,S=this.props.model.getAddableOutlineStyle(),P=c+x+8,M=i+x+8;return Ke.exports.h("rect",Zs(Zs({},S),{width:P,height:M,x:s-P/2,y:l-M/2,rx:y,ry:y}))},v.prototype.getFoldIcon=function(){var u=this.props.model,c=u.x-u.width/2+5,i=u.y-u.height/2+5;if(!u.foldable)return null;var s=Ke.exports.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:u.properties.isFolded?"M "+(c+3)+","+(i+6)+" "+(c+11)+","+(i+6)+" M"+(c+7)+","+(i+2)+" "+(c+7)+","+(i+10):"M "+(c+3)+","+(i+6)+" "+(c+11)+","+(i+6)+" "});return Ke.exports.h("g",{},[Ke.exports.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:u.x-u.width/2+5,y:u.y-u.height/2+5,onClick:function(){u.foldGroup(!u.properties.isFolded)}}),s])},v.prototype.getResizeShape=function(){return Ke.exports.h("g",{},[this.getAddableShape(),g.prototype.getResizeShape.call(this),this.getFoldIcon()])},v})(Ob.view);var aI=globalThis&&globalThis.__read||function(g,v){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],l;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){l={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(l)throw l.error}}return s};globalThis&&globalThis.__spread;var Wm=globalThis&&globalThis.__assign||function(){return Wm=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},Wm.apply(this,arguments)},Km=globalThis&&globalThis.__assign||function(){return Km=Object.assign||function(g){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(g[i]=v[i])}return g},Km.apply(this,arguments)},uI=globalThis&&globalThis.__read||function(g,v){var u=typeof Symbol=="function"&&g[Symbol.iterator];if(!u)return g;var c=u.call(g),i,s=[],l;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){l={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(l)throw l.error}}return s};globalThis&&globalThis.__spread;const sI={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,SERVICE_TASK:5,EXCLUSIVE_GATEWAY:6};function lI(g){const{incoming:v,outgoing:u,properties:c,key:i}=g,{text:s,startPoint:l,endPoint:y,pointsList:b,logicFlowType:x}=c,S={id:i,type:x,sourceNodeId:v[0],targetNodeId:u[0],text:s,startPoint:l,endPoint:y,pointsList:b,properties:{}},P=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(g.properties).forEach(M=>{P.indexOf(M)===-1&&(S.properties[M]=g.properties[M])}),S}function fI(g){const{properties:v,key:u}=g,{x:c,y:i,text:s,logicFlowType:l}=v,y={id:u,type:l,x:c,y:i,text:s,properties:{}},b=["x","y","text","logicFlowType"];return Object.keys(g.properties).forEach(x=>{b.indexOf(x)===-1&&(y.properties[x]=g.properties[x])}),y}function cI(g){const v={nodes:[],edges:[]},u=g.flowElementList;return u&&u.length>0&&u.forEach(c=>{if(c.type===sI.SEQUENCE_FLOW){const i=lI(c);v.edges.push(i)}else{const i=fI(c);v.nodes.push(i)}}),v}function dI(g){return[{text:"\u9009\u533A",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAOVJREFUOBGtVMENwzAIjKP++2026ETdpv10iy7WFbqFyyW6GBywLCv5gI+Dw2Bluj1znuSjhb99Gkn6QILDY2imo60p8nsnc9bEo3+QJ+AKHfMdZHnl78wyTnyHZD53Zzx73MRSgYvnqgCUHj6gwdck7Zsp1VOrz0Uz8NbKunzAW+Gu4fYW28bUYutYlzSa7B84Fh7d1kjLwhcSdYAYrdkMQVpsBr5XgDGuXwQfQr0y9zwLda+DUYXLaGKdd2ZTtvbolaO87pdo24hP7ov16N0zArH1ur3iwJpXxm+v7oAJNR4JEP8DoAuSFEkYH7cAAAAASUVORK5CYII=",callback:()=>{g.updateEditConfig({stopMoveGraph:!0})}},{type:"circle",text:"\u5F00\u59CB",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"rect",text:"\u7528\u6237\u4EFB\u52A1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"important-node"},{type:"rect",text:"\u7CFB\u7EDF\u4EFB\u52A1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"import_icon"},{type:"diamond",text:"\u6761\u4EF6\u5224\u65AD",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAABGdBTUEAALGPC/xhBQAAAvVJREFUOBGNVEFrE0EU/mY3bQoiFlOkaUJrQUQoWMGePLX24EH0IIoHKQiCV0G8iE1covgLiqA/QTzVm1JPogc9tIJYFaQtlhQxqYjSpunu+L7JvmUTU3AgmTfvffPNN++9WSA1DO182f6xwILzD5btfAoQmwL5KJEwiQyVbSVZ0IgRyV6PTpIJ81E5ZvqfHQR0HUOBHW4L5Et2kQ6Zf7iAOhTFAA8s0pEP7AXO1uAA52SbqGk6h/6J45LaLhO64ByfcUzM39V7ZiAdS2yCePPEIQYvTUHqM/n7dgQNfBKWPjpF4ISk8q3J4nB11qw6X8l+FsF3EhlkEMfrjIer3wJTLwS2aCNcj4DbGxXTw00JmAuO+Ni6bBxVUCvS5d9aa04+so4pHW5jLTywuXAL7jJ+D06sl82Sgl2JuVBQn498zkc2bGKxULHjCnSMadBKYDYYHAtsby1EQ5lNGrQd4Y3v4Zo0XdGEmDno46yCM9Tk+RiJmUYHS/aXHPNTcjxcbTFna000PFJHIVZ5lFRqRpJWk9/+QtlOUYJj9HG5pVFEU7zqIYDVsw2s+AJaD8wTd2umgSCCyUxgGsS1Y6TBwXQQTFuZaHcd8gAGioE90hlsY+wMcs30RduYtxanjMGal8H5dMW67dmT1JFtYUEe8LiQLRsPZ6IIc7A4J5tqco3T0pnv/4u0kyzrYUq7gASuEyI8VXKvB9Odytv6jS/PNaZBln0nioJG/AVQRZvApOdhjj3Jt8QC8Im09SafwdBdvIpztpxWxpeKCC+EsFdS8DCyuCn2munFpL7ctHKp+Xc5cMybeIyMAN33SPL3ZR9QV1XVwLyzHm6Iv0/yeUuUb7PPlZC4D4HZkeu6dpF4v9j9MreGtMbxMMRLIcjJic9yHi7WQ3yVKzZVWUr5UrViJvn1FfUlwe/KYVfYyWRLSGNu16hR01U9IacajXPei0wx/5BqgInvJN+MMNtNme7ReU9SBbgntovn0kKHpFg7UogZvaZiOue/q1SBo9ktHzQAAAAASUVORK5CYII="},{type:"circle",text:"\u7ED3\u675F",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC"}]}const pI=Vm({name:"FlowChart",components:{BasicModal:QC,FlowChartToolbar:uR,JsonPreview:eR},props:{flowOptions:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},toolbar:{type:Boolean,default:!0},patternItems:{type:Array}},setup(g){const v=Gs(null),u=Gs({}),c=Gs(null),{prefixCls:i}=$C("flow-chart"),s=YC(),[l,{openModal:y}]=qC();rR({logicFlow:c});const b=WC(()=>{const{flowOptions:M}=g;return ed({grid:!0,background:{color:s.getDarkMode==="light"?"#f7f9ff":"#151515"},keyboard:{enabled:!0}},M)});Pm(()=>g.data,()=>{S()}),Pm(()=>dr(b),M=>{var A;(A=dr(c))==null||A.updateEditConfig(M)});function x(){return Fs(this,null,function*(){yield td();const M=dr(v);if(!M)return;Yo.use(HR),Yo.use(NR),Yo.use(wR),Yo.use(GR),Yo.use(UR),c.value=new Yo(Sm(ed({},dr(b)),{container:M}));const A=dr(c);A==null||A.setDefaultEdgeType("line"),S(),A==null||A.setPatternItems(g.patternItems||dI(A))})}function S(){return Fs(this,null,function*(){yield td();const M=dr(c);if(!M)return;const A=cI(g.data);M.render(A)})}function P(){const M=dr(c);!M||(u.value=dr(M).getGraphData(),y())}return KC(x),{register:l,prefixCls:i,lfElRef:v,handlePreview:P,graphData:u}}}),hI={ref:"lfElRef",class:"h-full"};function vI(g,v,u,c,i,s){const l=Yn("FlowChartToolbar"),y=Yn("JsonPreview"),b=Yn("BasicModal");return Xn(),Ci("div",{class:Hs(["h-full",g.prefixCls])},[g.toolbar?(Xn(),ld(l,{key:0,prefixCls:g.prefixCls,onViewData:g.handlePreview},null,8,["prefixCls","onViewData"])):rd("",!0),VC("div",hI,null,512),Li(b,{onRegister:g.register,title:"\u6D41\u7A0B\u6570\u636E",width:"50%"},{default:Xs(()=>[Li(y,{data:g.graphData},null,8,["data"])]),_:1},8,["onRegister"])],2)}var yI=sd(pI,[["render",vI]]);const gI=ZC(yI),mI=[{incoming:[],outgoing:["Flow_33inf2k"],dockers:[],type:2,properties:{a:"efrwe",b:"wewe",name:"\u5F00\u59CB",x:280,y:200,text:{x:280,y:200,value:"\u5F00\u59CB"},logicFlowType:"bpmn:startEvent"},key:"Event_1d42u4p"},{incoming:["Flow_379e0o9"],outgoing:[],dockers:[],type:3,properties:{a:"efrwe",b:"wewe",name:"\u7ED3\u675F",x:920,y:200,text:{x:920,y:200,value:"\u7ED3\u675F"},logicFlowType:"bpmn:endEvent"},key:"Event_08p8i6q"},{incoming:["Flow_0pfouf0"],outgoing:["Flow_3918lhh"],dockers:[],type:6,properties:{a:"efrwe",b:"wewe",name:"\u7F51\u5173",x:580,y:200,text:{x:580,y:200,value:"\u7F51\u5173"},logicFlowType:"bpmn:exclusiveGateway"},key:"Gateway_1fngqgj"},{incoming:["Flow_33inf2k"],outgoing:["Flow_0pfouf0"],dockers:[],type:4,properties:{a:"efrwe",b:"wewe",name:"\u7528\u6237",x:420,y:200,text:{x:420,y:200,value:"\u7528\u6237"},logicFlowType:"bpmn:userTask"},key:"Activity_2mgtaia"},{incoming:["Flow_3918lhh"],outgoing:["Flow_379e0o9"],dockers:[],type:5,properties:{a:"efrwe",b:"wewe",name:"\u670D\u52A1",x:760,y:200,text:{x:760,y:200,value:"\u670D\u52A1"},logicFlowType:"bpmn:serviceTask"},key:"Activity_1sp8qc8"},{incoming:["Event_1d42u4p"],outgoing:["Activity_2mgtaia"],type:1,dockers:[],properties:{name:"\u8FB9",text:{x:331,y:200,value:"\u8FB9"},startPoint:{x:298,y:200},endPoint:{x:370,y:200},pointsList:[{x:298,y:200},{x:370,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_33inf2k"},{incoming:["Activity_2mgtaia"],outgoing:["Gateway_1fngqgj"],type:1,dockers:[],properties:{name:"\u8FB92",text:{x:507,y:200,value:"\u8FB92"},startPoint:{x:470,y:200},endPoint:{x:555,y:200},pointsList:[{x:470,y:200},{x:555,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_0pfouf0"},{incoming:["Gateway_1fngqgj"],outgoing:["Activity_1sp8qc8"],type:1,dockers:[],properties:{name:"\u8FB93",text:{x:664,y:200,value:"\u8FB93"},startPoint:{x:605,y:200},endPoint:{x:710,y:200},pointsList:[{x:605,y:200},{x:710,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_3918lhh"},{incoming:["Activity_1sp8qc8"],outgoing:["Event_08p8i6q"],type:1,dockers:[],properties:{name:"\u8FB94",text:{x:871,y:200,value:"\u8FB94"},startPoint:{x:810,y:200},endPoint:{x:902,y:200},pointsList:[{x:810,y:200},{x:902,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_379e0o9"}];var bI={flowElementList:mI};const OI={components:{FlowChart:gI,PageWrapper:tR},setup(){return{demoData:bI}}};function EI(g,v,u,c,i,s){const l=Yn("FlowChart"),y=Yn("PageWrapper");return Xn(),ld(y,{title:"\u6D41\u7A0B\u56FE",content:"\u7B80\u5355\u6D41\u7A0B\u56FE\u793A\u4F8B,\u5177\u4F53\u529F\u80FD\u9700\u8981\u81EA\u5DF1\u5B8C\u5584",contentFullHeight:"",fixedHeight:""},{default:Xs(()=>[Li(l,{data:c.demoData},null,8,["data"])]),_:1})}var FI=sd(OI,[["render",EI]]);export{FI as default};
